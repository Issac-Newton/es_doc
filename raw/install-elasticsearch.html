<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Installing Elasticsearch | Elasticsearch Guide | Elastic</title>
<meta class="elastic" name="content" content="Installing Elasticsearch | Elasticsearch Guide">

<link rel="home" href="index.html" title="Elasticsearch Guide"/>
<link rel="up" href="setup.html" title="Set up Elasticsearch"/>
<link rel="prev" href="setup.html" title="Set up Elasticsearch"/>
<link rel="next" href="settings.html" title="Configuring Elasticsearch"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="setup.html">« Set up Elasticsearch</a>
</span>
<span class="next">
<a href="settings.html">Configuring Elasticsearch »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="install-elasticsearch"></a>Installing Elasticsearch<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="_hosted_elasticsearch"></a>Hosted Elasticsearch<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install.asciidoc">edit</a></h3>
<p>You can run Elasticsearch on your own hardware, or use our
<a href="https://www.elastic.co/cloud/elasticsearch-service" class="ulink" target="_top">hosted Elasticsearch Service</a>
on Elastic Cloud. The Elasticsearch Service is available on both AWS and GCP.
<a href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Try out the
Elasticsearch Service for free</a>.</p>
<h3><a id="_installing_elasticsearch_yourself"></a>Installing Elasticsearch Yourself<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install.asciidoc">edit</a></h3>
<p>Elasticsearch is provided in the following package formats:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
Linux and MacOS <code class="literal">tar.gz</code> archives
</p>
</td>
<td valign="top">
<p>
<p>
The <code class="literal">tar.gz</code> archives are available for installation on any Linux distribution and MacOS.
</p>
<p><a class="xref" href="install-elasticsearch.html#targz" title="Install Elasticsearch from archive on Linux or MacOS">Install Elasticsearch from archive on Linux or MacOS</a></p>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
Windows <code class="literal">.zip</code> archive
</p>
</td>
<td valign="top">
<p>
<p>
The <code class="literal">zip</code> archive is suitable for installation on Windows.
</p>
<p><a class="xref" href="install-elasticsearch.html#zip-windows" title="Install Elasticsearch with .zip on Windows">Install Elasticsearch with <code class="literal">.zip</code> on Windows</a></p>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">deb</code>
</p>
</td>
<td valign="top">
<p>
<p>
The <code class="literal">deb</code> package is suitable for Debian, Ubuntu, and other Debian-based
systems.  Debian packages may be downloaded from the Elasticsearch website or
from our Debian repository.
</p>
<p><a class="xref" href="install-elasticsearch.html#deb" title="Install Elasticsearch with Debian Package">Install Elasticsearch with Debian Package</a></p>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">rpm</code>
</p>
</td>
<td valign="top">
<p>
<p>
The <code class="literal">rpm</code> package is suitable for installation on Red Hat, Centos, SLES,
OpenSuSE and other RPM-based systems.  RPMs may be downloaded from the
Elasticsearch website or from our RPM repository.
</p>
<p><a class="xref" href="install-elasticsearch.html#rpm" title="Install Elasticsearch with RPM">Install Elasticsearch with RPM</a></p>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">msi</code>
</p>
</td>
<td valign="top">
<p>
<p>
<span class="Admonishment Admonishment--beta">
[<span class="Admonishment-title u-mono">beta</span>]
<span class="Admonishment-detail">
This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.
</span>
</span> The <code class="literal">msi</code> package is suitable for installation on Windows 64-bit systems with at least
.NET 4.5 framework installed, and is the easiest choice for getting started with
Elasticsearch on Windows. MSIs may be downloaded from the Elasticsearch website.
</p>
<p><a class="xref" href="install-elasticsearch.html#windows" title="Install Elasticsearch with Windows MSI Installer">Install Elasticsearch with Windows MSI Installer</a></p>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">docker</code>
</p>
</td>
<td valign="top">
<p>
<p>
Images are available for running Elasticsearch as Docker containers. They may be
downloaded from the Elastic Docker Registry.
</p>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.10/docker.html" class="ulink" target="_top">Install Elasticsearch with Docker</a></p>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">brew</code>
</p>
</td>
<td valign="top">
<p>
<p>
Formulae are available from the Elastic Homebrew tap for installing
Elasticsearch on macOS with the Homebrew package manager.
</p>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.10/brew.html" class="ulink" target="_top">Install Elasticsearch on macOS with Homebrew</a></p>
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h3><a id="config-mgmt-tools"></a>Configuration Management Tools<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install.asciidoc">edit</a></h3>
<p>We also provide the following configuration management tools to help with
large deployments:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
Puppet
</p>
</td>
<td valign="top">
<p>
<a href="https://github.com/elastic/puppet-elasticsearch" class="ulink" target="_top">puppet-elasticsearch</a>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
Chef
</p>
</td>
<td valign="top">
<p>
<a href="https://github.com/elastic/cookbook-elasticsearch" class="ulink" target="_top">cookbook-elasticsearch</a>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
Ansible
</p>
</td>
<td valign="top">
<p>
<a href="https://github.com/elastic/ansible-elasticsearch" class="ulink" target="_top">ansible-elasticsearch</a>
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="targz"></a>Install Elasticsearch from archive on Linux or MacOS<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/targz.asciidoc">edit</a></h2>
</div></div></div>
<p>Elasticsearch is as a <code class="literal">.tar.gz</code> archive for Linux and MacOS.</p>
<p>This package is free to use under the Elastic license. It contains open source
and free commercial features and access to paid commercial features.
<a href="https://www.elastic.co/guide/en/kibana/7.10/managing-licenses.html" class="ulink" target="_top">Start a 30-day trial</a> to try out all of the
paid commercial features. See the
<a href="https://www.elastic.co/subscriptions" class="ulink" target="_top">Subscriptions</a> page for information about
Elastic license levels.</p>
<p>The latest stable version of Elasticsearch can be found on the
<a href="/downloads/elasticsearch" class="ulink" target="_top">Download Elasticsearch</a> page.
Other versions can be found on the
<a href="/downloads/past-releases" class="ulink" target="_top">Past Releases page</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch includes a bundled version of <a href="https://openjdk.java.net" class="ulink" target="_top">OpenJDK</a>
from the JDK maintainers (GPLv2+CE). To use your own version of Java,
see the <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">JVM version requirements</a></p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-linux"></a>Download and install archive for Linux<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>The Linux archive for Elasticsearch v7.10.2 can be downloaded and installed as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-linux-x86_64.tar.gz
wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-linux-x86_64.tar.gz.sha512
shasum -a 512 -c elasticsearch-7.10.2-linux-x86_64.tar.gz.sha512 <a id="CO1-1"></a><i class="conum" data-value="1"></i>
tar -xzf elasticsearch-7.10.2-linux-x86_64.tar.gz
cd elasticsearch-7.10.2/ <a id="CO1-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Compares the SHA of the downloaded <code class="literal">.tar.gz</code> archive and the published checksum, which should output
<code class="literal">elasticsearch-{version}-linux-x86_64.tar.gz: OK</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This directory is known as <code class="literal">$ES_HOME</code>.</p>
</td>
</tr>
</table>
</div>
<p>Alternatively, you can download the following package, which includes only
Apache 2.0 licensed code:
<a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-linux-x86_64.tar.gz" class="ulink" target="_top">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-linux-x86_64.tar.gz</a></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-macos"></a>Download and install archive for MacOS<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>The MacOS archive for Elasticsearch v7.10.2 can be downloaded and installed as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-darwin-x86_64.tar.gz
wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-darwin-x86_64.tar.gz.sha512
shasum -a 512 -c elasticsearch-7.10.2-darwin-x86_64.tar.gz.sha512 <a id="CO2-1"></a><i class="conum" data-value="1"></i>
tar -xzf elasticsearch-7.10.2-darwin-x86_64.tar.gz
cd elasticsearch-7.10.2/ <a id="CO2-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Compares the SHA of the downloaded <code class="literal">.tar.gz</code> archive and the published checksum, which should output
<code class="literal">elasticsearch-{version}-darwin-x86_64.tar.gz: OK</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This directory is known as <code class="literal">$ES_HOME</code>.</p>
</td>
</tr>
</table>
</div>
<p>Alternatively, you can download the following package, which includes only
Apache 2.0 licensed code:
<a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-darwin-x86_64.tar.gz" class="ulink" target="_top">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-darwin-x86_64.tar.gz</a></p>
</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="targz-enable-indices"></a>Enable automatic creation of system indices<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/targz.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>Some commercial features automatically create indices within Elasticsearch.
By default, Elasticsearch is configured to allow automatic index creation, and no
additional steps are required. However, if you have disabled automatic index
creation in Elasticsearch, you must configure
<a class="xref" href="docs.html#index-creation" title="Automatically create data streams and indices"><code class="literal">action.auto_create_index</code></a> in <code class="literal">elasticsearch.yml</code> to allow
the commercial features to create the following indices:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are using <a href="https://www.elastic.co/products/logstash" class="ulink" target="_top">Logstash</a>
or <a href="https://www.elastic.co/products/beats" class="ulink" target="_top">Beats</a> then you will most likely
require additional index names in your <code class="literal">action.auto_create_index</code> setting, and
the exact value will depend on your local configuration. If you are unsure of
the correct value for your environment, you may consider setting the value to
 <code class="literal">*</code> which will allow automatic creation of all indices.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="targz-running"></a>Running Elasticsearch from the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/targz-start.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch can be started from the command line as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch</pre>
</div>
<p>If you have password-protected the Elasticsearch keystore, you will be prompted
to enter the keystore&#8217;s password. See <a class="xref" href="settings.html#secure-settings" title="Secure settings">Secure settings</a> for more
details.</p>
<p>By default, Elasticsearch runs in the foreground, prints its logs to the
standard output (<code class="literal">stdout</code>), and can be stopped by pressing <code class="literal">Ctrl-C</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>All scripts packaged with Elasticsearch require a version of Bash
that supports arrays and assume that Bash is available at <code class="literal">/bin/bash</code>.
As such, Bash should be available at this path either directly or via a
symbolic link.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_checking_that_elasticsearch_is_running"></a>Checking that Elasticsearch is running<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/check-running.asciidoc">edit</a></h3>
</div></div></div>
<p>You can test that your Elasticsearch node is running by sending an HTTP
request to port <code class="literal">9200</code> on <code class="literal">localhost</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /</pre>
</div>
<div class="console_widget" data-snippet="snippets/17.console"></div>
<p>which should give you a response something like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "name" : "Cp8oag6",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "AT69_T_DTp-1qgIJlatQqA",
  "version" : {
    "number" : "7.10.2",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "f27399d",
    "build_date" : "2016-03-30T09:51:41.449Z",
    "build_snapshot" : false,
    "lucene_version" : "8.7.0",
    "minimum_wire_compatibility_version" : "1.2.3",
    "minimum_index_compatibility_version" : "1.2.3"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
<p>Log printing to <code class="literal">stdout</code> can be disabled using the <code class="literal">-q</code> or <code class="literal">--quiet</code>
option on the command line.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="setup-installation-daemon"></a>Running as a daemon<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/targz-daemon.asciidoc">edit</a></h3>
</div></div></div>
<p>To run Elasticsearch as a daemon, specify <code class="literal">-d</code> on the command line, and record
the process ID in a file using the <code class="literal">-p</code> option:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch -d -p pid</pre>
</div>
<p>If you have password-protected the Elasticsearch keystore, you will be prompted
to enter the keystore&#8217;s password. See <a class="xref" href="settings.html#secure-settings" title="Secure settings">Secure settings</a> for more
details.</p>
<p>Log messages can be found in the <code class="literal">$ES_HOME/logs/</code> directory.</p>
<p>To shut down Elasticsearch, kill the process ID recorded in the <code class="literal">pid</code> file:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">pkill -F pid</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The Elasticsearch <code class="literal">.tar.gz</code> package does not include the <code class="literal">systemd</code> module. To
manage Elasticsearch as a service, use the <a class="xref" href="starting-elasticsearch.html#start-deb" title="Debian packages">Debian</a> or <a class="xref" href="starting-elasticsearch.html#start-rpm" title="RPM packages">RPM</a>
package instead.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="targz-configuring"></a>Configuring Elasticsearch on the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch loads its configuration from the <code class="literal">$ES_HOME/config/elasticsearch.yml</code>
file by default.  The format of this config file is explained in
<a class="xref" href="settings.html" title="Configuring Elasticsearch"><em>Configuring Elasticsearch</em></a>.</p>
<p>Any settings that can be specified in the config file can also be specified on
the command line, using the <code class="literal">-E</code> syntax as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch -d -Ecluster.name=my_cluster -Enode.name=node_1</pre>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Typically, any cluster-wide settings (like <code class="literal">cluster.name</code>) should be
added to the <code class="literal">elasticsearch.yml</code> config file, while any node-specific settings
such as <code class="literal">node.name</code> could be specified on the command line.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="targz-layout"></a>Directory layout of archives<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>The archive distributions are entirely self-contained. All files and
directories are, by default, contained within <code class="literal">$ES_HOME</code>&#8201;&#8212;&#8201;the directory
created when unpacking the archive.</p>
<p>This is very convenient because you don&#8217;t have to create any directories to
start using Elasticsearch, and uninstalling Elasticsearch is as easy as
removing the <code class="literal">$ES_HOME</code> directory.  However, it is advisable to change the
default locations of the config directory, the data directory, and the logs
directory so that you do not delete important data later on.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Default Location</th>
<th align="left" valign="top">Setting</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Elasticsearch home directory or <code class="literal">$ES_HOME</code></p></td>
<td align="left" valign="top"><p>Directory created by unpacking the archive</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>Binary scripts including <code class="literal">elasticsearch</code> to start a node
    and <code class="literal">elasticsearch-plugin</code> to install plugins</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/bin</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Configuration files including <code class="literal">elasticsearch.yml</code></p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/config</code></p></td>
<td align="left" valign="top"><p><code class="literal"><a class="xref" href="settings.html#config-files-location" title="Config files location">ES_PATH_CONF</a></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location of the data files of each index / shard allocated
    on the node. Can hold multiple locations.</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/data</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.data</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>Log files location.</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/logs</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.logs</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>plugins</strong></span></p></td>
<td align="left" valign="top"><p>Plugin files location. Each plugin will be contained in a subdirectory.</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/plugins</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>repo</strong></span></p></td>
<td align="left" valign="top"><p>Shared file system repository locations. Can hold multiple locations. A file system repository can be placed in to any subdirectory of any directory specified here.</p></td>
<td align="left" valign="top"><p>Not configured</p></td>
<td align="left" valign="top"><p><code class="literal">path.repo</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps"></a>Next steps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up.  Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important System Configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="zip-windows"></a>Install Elasticsearch with <code class="literal">.zip</code> on Windows<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/zip-windows.asciidoc">edit</a></h2>
</div></div></div>
<p>Elasticsearch can be installed on Windows using the Windows <code class="literal">.zip</code> archive.  This
comes with a <code class="literal">elasticsearch-service.bat</code> command which will setup Elasticsearch to run as a
service.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch has historically been installed on Windows using the <code class="literal">.zip</code> archive.
An <a class="xref" href="install-elasticsearch.html#windows" title="Install Elasticsearch with Windows MSI Installer">MSI installer package</a> is available that provides the easiest getting started
experience for Windows. You can continue using the <code class="literal">.zip</code> approach if you prefer.</p>
</div>
</div>
<p>This package is free to use under the Elastic license. It contains open source
and free commercial features and access to paid commercial features.
<a href="https://www.elastic.co/guide/en/kibana/7.10/managing-licenses.html" class="ulink" target="_top">Start a 30-day trial</a> to try out all of the
paid commercial features. See the
<a href="https://www.elastic.co/subscriptions" class="ulink" target="_top">Subscriptions</a> page for information about
Elastic license levels.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>On Windows the Elasticsearch machine learning feature requires the Microsoft Universal
C Runtime library. This is built into Windows 10, Windows Server 2016 and more
recent versions of Windows. For older versions of Windows it can be installed
via Windows Update, or from a
<a href="https://support.microsoft.com/en-us/help/2999226/update-for-universal-c-runtime-in-windows" class="ulink" target="_top">separate download</a>.
If you cannot install the Microsoft Universal C Runtime library you can still
use the rest of Elasticsearch if you disable the machine learning feature.</p>
</div>
</div>
<p>The latest stable version of Elasticsearch can be found on the
<a href="/downloads/elasticsearch" class="ulink" target="_top">Download Elasticsearch</a> page.
Other versions can be found on the
<a href="/downloads/past-releases" class="ulink" target="_top">Past Releases page</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch includes a bundled version of <a href="https://openjdk.java.net" class="ulink" target="_top">OpenJDK</a>
from the JDK maintainers (GPLv2+CE). To use your own version of Java,
see the <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">JVM version requirements</a></p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-windows"></a>Download and install the <code class="literal">.zip</code> package<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/zip-windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Download the <code class="literal">.zip</code> archive for Elasticsearch v7.10.2 from: <a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-windows-x86_64.zip" class="ulink" target="_top">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-windows-x86_64.zip</a></p>
<p>Alternatively, you can download the following package, which contains only
features that are available under the Apache 2.0 license:
<a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-windows-x86_64.zip" class="ulink" target="_top">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-windows-x86_64.zip</a></p>
<p>Unzip it with your favourite unzip tool.  This will create a folder called
<code class="literal">elasticsearch-7.10.2</code>, which we will refer to as <code class="literal">%ES_HOME%</code>. In a terminal
window, <code class="literal">cd</code> to the <code class="literal">%ES_HOME%</code> directory, for instance:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">cd c:\elasticsearch-7.10.2</pre>
</div>
</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="windows-enable-indices"></a>Enable automatic creation of system indices<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/zip-windows.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>Some commercial features automatically create indices within Elasticsearch.
By default, Elasticsearch is configured to allow automatic index creation, and no
additional steps are required. However, if you have disabled automatic index
creation in Elasticsearch, you must configure
<a class="xref" href="docs.html#index-creation" title="Automatically create data streams and indices"><code class="literal">action.auto_create_index</code></a> in <code class="literal">elasticsearch.yml</code> to allow
the commercial features to create the following indices:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are using <a href="https://www.elastic.co/products/logstash" class="ulink" target="_top">Logstash</a>
or <a href="https://www.elastic.co/products/beats" class="ulink" target="_top">Beats</a> then you will most likely
require additional index names in your <code class="literal">action.auto_create_index</code> setting, and
the exact value will depend on your local configuration. If you are unsure of
the correct value for your environment, you may consider setting the value to
 <code class="literal">*</code> which will allow automatic creation of all indices.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="windows-running"></a>Running Elasticsearch from the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/zip-windows-start.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch can be started from the command line as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">.\bin\elasticsearch.bat</pre>
</div>
<p>If you have password-protected the Elasticsearch keystore, you will be prompted to
enter the keystore&#8217;s password. See <a class="xref" href="settings.html#secure-settings" title="Secure settings">Secure settings</a> for more details.</p>
<p>By default, Elasticsearch runs in the foreground, prints its logs to <code class="literal">STDOUT</code>,
and can be stopped by pressing <code class="literal">Ctrl-C</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="windows-configuring"></a>Configuring Elasticsearch on the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/zip-windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch loads its configuration from the <code class="literal">%ES_HOME%\config\elasticsearch.yml</code>
file by default.  The format of this config file is explained in
<a class="xref" href="settings.html" title="Configuring Elasticsearch"><em>Configuring Elasticsearch</em></a>.</p>
<p>Any settings that can be specified in the config file can also be specified on
the command line, using the <code class="literal">-E</code> syntax as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">.\bin\elasticsearch.bat -Ecluster.name=my_cluster -Enode.name=node_1</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Values that contain spaces must be surrounded with quotes.  For instance <code class="literal">-Epath.logs="C:\My Logs\logs"</code>.</p>
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Typically, any cluster-wide settings (like <code class="literal">cluster.name</code>) should be
added to the <code class="literal">elasticsearch.yml</code> config file, while any node-specific settings
such as <code class="literal">node.name</code> could be specified on the command line.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_checking_that_elasticsearch_is_running_2"></a>Checking that Elasticsearch is running<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/check-running.asciidoc">edit</a></h3>
</div></div></div>
<p>You can test that your Elasticsearch node is running by sending an HTTP
request to port <code class="literal">9200</code> on <code class="literal">localhost</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /</pre>
</div>
<div class="console_widget" data-snippet="snippets/18.console"></div>
<p>which should give you a response something like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "name" : "Cp8oag6",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "AT69_T_DTp-1qgIJlatQqA",
  "version" : {
    "number" : "7.10.2",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "f27399d",
    "build_date" : "2016-03-30T09:51:41.449Z",
    "build_snapshot" : false,
    "lucene_version" : "8.7.0",
    "minimum_wire_compatibility_version" : "1.2.3",
    "minimum_index_compatibility_version" : "1.2.3"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="windows-service"></a>Installing Elasticsearch as a Service on Windows<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/zip-windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch can be installed as a service to run in the background or start
automatically at boot time without any user interaction. This can be achieved
through the <code class="literal">elasticsearch-service.bat</code> script in the <code class="literal">bin\</code> folder which allows one to
install, remove, manage or configure the service and potentially start and
stop the service, all from the command-line.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">c:\elasticsearch-7.10.2\bin&gt;elasticsearch-service.bat

Usage: elasticsearch-service.bat install|remove|start|stop|manager [SERVICE_ID]</pre>
</div>
<p>The script requires one parameter (the command to execute) followed by an
optional one indicating the service id (useful when installing multiple
Elasticsearch services).</p>
<p>The commands available are:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">install</code>
</p>
</td>
<td valign="top">
<p>
Install Elasticsearch as a service
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">remove</code>
</p>
</td>
<td valign="top">
<p>
Remove the installed Elasticsearch service (and stop the service if started)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">start</code>
</p>
</td>
<td valign="top">
<p>
Start the Elasticsearch service (if installed)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">stop</code>
</p>
</td>
<td valign="top">
<p>
Stop the Elasticsearch service (if started)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">manager</code>
</p>
</td>
<td valign="top">
<p>
Start a GUI for managing the installed service
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>The name of the service and the value of <code class="literal">JAVA_HOME</code> will be made available during install:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">c:\elasticsearch-7.10.2\bin&gt;elasticsearch-service.bat install
Installing service      :  "elasticsearch-service-x64"
Using JAVA_HOME (64-bit):  "c:\jvm\jdk1.8"
The service 'elasticsearch-service-x64' has been installed.</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>While a JRE can be used for the Elasticsearch service, due to its use of a client VM (as opposed to a server JVM which offers better performance for long-running applications) its usage is discouraged and a warning will be issued.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The system environment variable <code class="literal">JAVA_HOME</code> should be set to the path to
the JDK installation that you want the service to use. If you upgrade the JDK,
you are not required to the reinstall the service but you must set the value of
the system environment variable <code class="literal">JAVA_HOME</code> to the path to the new JDK
installation. However, upgrading across JVM types (e.g. JRE versus SE) is not
supported, and does require the service to be reinstalled.</p>
</div>
</div>
<h3><a id="windows-service-settings"></a>Customizing service settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/zip-windows.asciidoc">edit</a></h3>
<p>The Elasticsearch service can be configured prior to installation by setting the following environment variables (either using the <a href="https://technet.microsoft.com/en-us/library/cc754250(v=ws.10).aspx" class="ulink" target="_top">set command</a> from the command line, or through the <code class="literal">System Properties-&gt;Environment Variables</code> GUI).</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">SERVICE_ID</code>
</p>
</td>
<td valign="top">
<p>
A unique identifier for the service. Useful if installing multiple instances
on the same machine. Defaults to <code class="literal">elasticsearch-service-x64</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SERVICE_USERNAME</code>
</p>
</td>
<td valign="top">
<p>
The user to run as, defaults to the local system account.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SERVICE_PASSWORD</code>
</p>
</td>
<td valign="top">
<p>
The password for the user specified in <code class="literal">%SERVICE_USERNAME%</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SERVICE_DISPLAY_NAME</code>
</p>
</td>
<td valign="top">
<p>
The name of the service.  Defaults to <code class="literal">Elasticsearch &lt;version&gt; %SERVICE_ID%</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SERVICE_DESCRIPTION</code>
</p>
</td>
<td valign="top">
<p>
The description of the service.  Defaults to <code class="literal">Elasticsearch &lt;version&gt; Windows Service - https://elastic.co</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">JAVA_HOME</code>
</p>
</td>
<td valign="top">
<p>
The installation directory of the desired JVM to run the service under.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SERVICE_LOG_DIR</code>
</p>
</td>
<td valign="top">
<p>
Service log directory, defaults to <code class="literal">%ES_HOME%\logs</code>. Note that this does
not control the path for the Elasticsearch logs; the path for these is set
via the setting <code class="literal">path.logs</code> in the <code class="literal">elasticsearch.yml</code> configuration file,
or on the command line.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_PATH_CONF</code>
</p>
</td>
<td valign="top">
<p>
Configuration file directory (which needs to include <code class="literal">elasticsearch.yml</code>,
<code class="literal">jvm.options</code>, and <code class="literal">log4j2.properties</code> files), defaults to
<code class="literal">%ES_HOME%\config</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_JAVA_OPTS</code>
</p>
</td>
<td valign="top">
<p>
Any additional JVM system properties you may want to apply.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_START_TYPE</code>
</p>
</td>
<td valign="top">
<p>
Startup mode for the service.  Can be either <code class="literal">auto</code> or <code class="literal">manual</code> (default).
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_STOP_TIMEOUT</code>
</p>
</td>
<td valign="top">
<p>
The timeout in seconds that procrun waits for service to exit gracefully.  Defaults to <code class="literal">0</code>.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>At its core, <code class="literal">elasticsearch-service.bat</code> relies on <a href="https://commons.apache.org/proper/commons-daemon/" class="ulink" target="_top">Apache Commons Daemon</a> project
to install the service. Environment variables set prior to the service installation are copied and will be used during the service lifecycle. This means any changes made to them after the installation will not be picked up unless the service is reinstalled.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>On Windows, the <a class="xref" href="redirects.html#heap-size" title="Heap size settings">heap size</a> can be configured as for
any other Elasticsearch installation when running Elasticsearch from the
command line, or when installing Elasticsearch as a service for the
first time. To adjust the heap size for an already installed service,
use the service manager: <code class="literal">bin\elasticsearch-service.bat manager</code>.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The service automatically configures a private temporary directory for use
by Elasticsearch when it is running. This private temporary directory is
configured as a sub-directory of the private temporary directory for the user
running the installation. If the service will run under a different user, you
can configure the location of the temporary directory that the service should
use by setting the environment variable <code class="literal">ES_TMPDIR</code> to the preferred location
before you execute the service installation.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Using the Manager GUI
</span>
</dt>
<dd>
It is also possible to configure the service after it&#8217;s been installed using the manager GUI (<code class="literal">elasticsearch-service-mgr.exe</code>), which offers insight into the installed service, including its status, startup type, JVM, start and stop settings amongst other things.  Simply invoking <code class="literal">elasticsearch-service.bat manager</code> from the command-line will open up the manager window:
</dd>
</dl>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/service-manager-win.png" alt="Windows Service Manager GUI">
</div>
</div>
<p>Most changes (like JVM settings) made through the manager GUI will require a restart of the service in order to take affect.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="windows-layout"></a>Directory layout of <code class="literal">.zip</code> archive<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/zip-windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.zip</code> package is entirely self-contained. All files and directories are,
by default, contained within <code class="literal">%ES_HOME%</code>&#8201;&#8212;&#8201;the directory created when
unpacking the archive.</p>
<p>This is very convenient because you don&#8217;t have to create any directories to
start using Elasticsearch, and uninstalling Elasticsearch is as easy as
removing the <code class="literal">%ES_HOME%</code> directory.  However, it is advisable to change the
default locations of the config directory, the data directory, and the logs
directory so that you do not delete important data later on.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Default Location</th>
<th align="left" valign="top">Setting</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Elasticsearch home directory or <code class="literal">%ES_HOME%</code></p></td>
<td align="left" valign="top"><p>Directory created by unpacking the archive</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>Binary scripts including <code class="literal">elasticsearch</code> to start a node
    and <code class="literal">elasticsearch-plugin</code> to install plugins</p></td>
<td align="left" valign="top"><p><code class="literal">%ES_HOME%\bin</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Configuration files including <code class="literal">elasticsearch.yml</code></p></td>
<td align="left" valign="top"><p><code class="literal">%ES_HOME%\config</code></p></td>
<td align="left" valign="top"><p><code class="literal"><a class="xref" href="settings.html#config-files-location" title="Config files location">ES_PATH_CONF</a></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location of the data files of each index / shard allocated
    on the node. Can hold multiple locations.</p></td>
<td align="left" valign="top"><p><code class="literal">%ES_HOME%\data</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.data</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>Log files location.</p></td>
<td align="left" valign="top"><p><code class="literal">%ES_HOME%\logs</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.logs</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>plugins</strong></span></p></td>
<td align="left" valign="top"><p>Plugin files location. Each plugin will be contained in a subdirectory.</p></td>
<td align="left" valign="top"><p><code class="literal">%ES_HOME%\plugins</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>repo</strong></span></p></td>
<td align="left" valign="top"><p>Shared file system repository locations. Can hold multiple locations. A file system repository can be placed in to any subdirectory of any directory specified here.</p></td>
<td align="left" valign="top"><p>Not configured</p></td>
<td align="left" valign="top"><p><code class="literal">path.repo</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps_2"></a>Next steps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up.  Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important System Configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="deb"></a>Install Elasticsearch with Debian Package<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb.asciidoc">edit</a></h2>
</div></div></div>
<p>The Debian package for Elasticsearch can be <a class="xref" href="install-elasticsearch.html#install-deb" title="Download and install the Debian package manually">downloaded from our website</a>
or from our <a class="xref" href="install-elasticsearch.html#deb-repo" title="Installing from the APT repository">APT repository</a>. It can be used to install
Elasticsearch on any Debian-based system such as Debian and Ubuntu.</p>
<p>This package is free to use under the Elastic license. It contains open source
and free commercial features and access to paid commercial features.
<a href="https://www.elastic.co/guide/en/kibana/7.10/managing-licenses.html" class="ulink" target="_top">Start a 30-day trial</a> to try out all of the
paid commercial features. See the
<a href="https://www.elastic.co/subscriptions" class="ulink" target="_top">Subscriptions</a> page for information about
Elastic license levels.</p>
<p>The latest stable version of Elasticsearch can be found on the
<a href="/downloads/elasticsearch" class="ulink" target="_top">Download Elasticsearch</a> page. Other versions can
be found on the <a href="/downloads/past-releases" class="ulink" target="_top">Past Releases page</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch includes a bundled version of <a href="https://openjdk.java.net" class="ulink" target="_top">OpenJDK</a>
from the JDK maintainers (GPLv2+CE). To use your own version of Java,
see the <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">JVM version requirements</a></p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-key"></a>Import the Elasticsearch PGP Key<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb.asciidoc">edit</a></h3>
</div></div></div>
<p>We sign all of our packages with the Elasticsearch Signing Key (PGP key
<a href="https://pgp.mit.edu/pks/lookup?op=vindex&amp;search=0xD27D666CD88E42B4" class="ulink" target="_top">D88E42B4</a>,
available from <a href="https://pgp.mit.edu" class="ulink" target="_top">https://pgp.mit.edu</a>) with fingerprint:</p>
<pre class="literallayout">4609 5ACC 8548 582C 1A26 99A9 D27D 666C D88E 42B4</pre>

<p>Download and install the public signing key:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-repo"></a>Installing from the APT repository<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb.asciidoc">edit</a></h3>
</div></div></div>
<p>You may need to install the <code class="literal">apt-transport-https</code> package on Debian before proceeding:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo apt-get install apt-transport-https</pre>
</div>
<p>Save the repository definition to  <code class="literal">/etc/apt/sources.list.d/elastic-7.x.list</code>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">echo "deb https://artifacts.elastic.co/packages/7.x/apt stable main" | sudo tee /etc/apt/sources.list.d/elastic-7.x.list</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>These instructions do not use <code class="literal">add-apt-repository</code> for several reasons:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<code class="literal">add-apt-repository</code> adds entries to the system <code class="literal">/etc/apt/sources.list</code> file
rather than a clean per-repository file in <code class="literal">/etc/apt/sources.list.d</code>
</li>
<li class="listitem">
<code class="literal">add-apt-repository</code> is not part of the default install on many distributions
and requires a number of non-default dependencies.
</li>
<li class="listitem">
<p>Older versions of <code class="literal">add-apt-repository</code> always add a <code class="literal">deb-src</code> entry which
will cause errors because we do not provide a source package. If you have added
the <code class="literal">deb-src</code> entry, you will see an error like the following until you delete
the <code class="literal">deb-src</code> line:</p>
<pre class="literallayout">Unable to find expected entry 'main/source/Sources' in Release file
(Wrong sources.list entry or malformed file)</pre>

</li>
</ol>
</div>
</div>
</div>
<p>You can install the Elasticsearch Debian package with:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo apt-get update &amp;&amp; sudo apt-get install elasticsearch</pre>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>If two entries exist for the same Elasticsearch repository, you will see an error like this during <code class="literal">apt-get update</code>:</p>
<pre class="literallayout">Duplicate sources.list entry https://artifacts.elastic.co/packages/7.x/apt/ ...`</pre>

<p>Examine <code class="literal">/etc/apt/sources.list.d/elasticsearch-7.x.list</code> for the duplicate entry or locate the duplicate entry amongst the files in <code class="literal">/etc/apt/sources.list.d/</code> and the <code class="literal">/etc/apt/sources.list</code> file.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>On systemd-based distributions, the installation scripts will attempt to set kernel parameters (e.g.,
<code class="literal">vm.max_map_count</code>); you can skip this by masking the systemd-sysctl.service unit.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>An alternative package which contains only features that are available under the
Apache 2.0 license is also available. To install it, use the following sources list:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">echo "deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main" | sudo tee /etc/apt/sources.list.d/elastic-7.x.list</pre>
</div>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-deb"></a>Download and install the Debian package manually<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb.asciidoc">edit</a></h3>
</div></div></div>
<p>The Debian package for Elasticsearch v7.10.2 can be downloaded from the website and installed as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-amd64.deb
wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-amd64.deb.sha512
shasum -a 512 -c elasticsearch-7.10.2-amd64.deb.sha512 <a id="CO3-1"></a><i class="conum" data-value="1"></i>
sudo dpkg -i elasticsearch-7.10.2-amd64.deb</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Compares the SHA of the downloaded Debian package and the published checksum, which should output
<code class="literal">elasticsearch-{version}-amd64.deb: OK</code>.</p>
</td>
</tr>
</table>
</div>
<p>Alternatively, you can download the following package, which contains only
features that are available under the Apache 2.0 license:
<a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-amd64.deb" class="ulink" target="_top">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-amd64.deb</a></p>
</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-enable-indices"></a>Enable automatic creation of system indices<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>Some commercial features automatically create indices within Elasticsearch.
By default, Elasticsearch is configured to allow automatic index creation, and no
additional steps are required. However, if you have disabled automatic index
creation in Elasticsearch, you must configure
<a class="xref" href="docs.html#index-creation" title="Automatically create data streams and indices"><code class="literal">action.auto_create_index</code></a> in <code class="literal">elasticsearch.yml</code> to allow
the commercial features to create the following indices:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are using <a href="https://www.elastic.co/products/logstash" class="ulink" target="_top">Logstash</a>
or <a href="https://www.elastic.co/products/beats" class="ulink" target="_top">Beats</a> then you will most likely
require additional index names in your <code class="literal">action.auto_create_index</code> setting, and
the exact value will depend on your local configuration. If you are unsure of
the correct value for your environment, you may consider setting the value to
 <code class="literal">*</code> which will allow automatic creation of all indices.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-sysv-init-vs-systemd"></a>SysV <code class="literal">init</code> vs <code class="literal">systemd</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch is not started automatically after installation. How to start
and stop Elasticsearch depends on whether your system uses SysV <code class="literal">init</code> or
<code class="literal">systemd</code> (used by newer distributions).  You can tell which is being used by
running this command:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">ps -p 1</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-running-init"></a>Running Elasticsearch with SysV <code class="literal">init</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb-init.asciidoc">edit</a></h3>
</div></div></div>
<p>Use the <code class="literal">update-rc.d</code> command to configure Elasticsearch to start automatically
when the system boots up:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo update-rc.d elasticsearch defaults 95 10</pre>
</div>
<p>Elasticsearch can be started and stopped using the <code class="literal">service</code> command:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo -i service elasticsearch start
sudo -i service elasticsearch stop</pre>
</div>
<p>If Elasticsearch fails to start for any reason, it will print the reason for
failure to STDOUT. Log files can be found in <code class="literal">/var/log/elasticsearch/</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-running-systemd"></a>Running Elasticsearch with <code class="literal">systemd</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/systemd.asciidoc">edit</a></h3>
</div></div></div>
<p>To configure Elasticsearch to start automatically when the system boots up,
run the following commands:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo /bin/systemctl daemon-reload
sudo /bin/systemctl enable elasticsearch.service</pre>
</div>
<p>Elasticsearch can be started and stopped as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo systemctl start elasticsearch.service
sudo systemctl stop elasticsearch.service</pre>
</div>
<p>These commands provide no feedback as to whether Elasticsearch was started
successfully or not. Instead, this information will be written in the log
files located in <code class="literal">/var/log/elasticsearch/</code>.</p>
<p>If you have password-protected your Elasticsearch keystore, you will need to provide
<code class="literal">systemd</code> with the keystore password using a local file and systemd environment
variables. This local file should be protected while it exists and may be
safely deleted once Elasticsearch is up and running.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">echo "keystore_password" &gt; /path/to/my_pwd_file.tmp
chmod 600 /path/to/my_pwd_file.tmp
sudo systemctl set-environment ES_KEYSTORE_PASSPHRASE_FILE=/path/to/my_pwd_file.tmp
sudo systemctl start elasticsearch.service</pre>
</div>
<p>By default the Elasticsearch service doesn&#8217;t log information in the <code class="literal">systemd</code>
journal. To enable <code class="literal">journalctl</code> logging, the <code class="literal">--quiet</code> option must be removed
 from the <code class="literal">ExecStart</code> command line in the <code class="literal">elasticsearch.service</code> file.</p>
<p>When <code class="literal">systemd</code> logging is enabled, the logging information are available using
the <code class="literal">journalctl</code> commands:</p>
<p>To tail the journal:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo journalctl -f</pre>
</div>
<p>To list journal entries for the elasticsearch service:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo journalctl --unit elasticsearch</pre>
</div>
<p>To list journal entries for the elasticsearch service starting from a given time:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo journalctl --unit elasticsearch --since  "2016-10-30 18:17:16"</pre>
</div>
<p>Check <code class="literal">man journalctl</code> or <a href="https://www.freedesktop.org/software/systemd/man/journalctl.html" class="ulink" target="_top">https://www.freedesktop.org/software/systemd/man/journalctl.html</a> for
more command line options.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-check-running"></a>Checking that Elasticsearch is running<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/check-running.asciidoc">edit</a></h3>
</div></div></div>
<p>You can test that your Elasticsearch node is running by sending an HTTP
request to port <code class="literal">9200</code> on <code class="literal">localhost</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /</pre>
</div>
<div class="console_widget" data-snippet="snippets/19.console"></div>
<p>which should give you a response something like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "name" : "Cp8oag6",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "AT69_T_DTp-1qgIJlatQqA",
  "version" : {
    "number" : "7.10.2",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "f27399d",
    "build_date" : "2016-03-30T09:51:41.449Z",
    "build_snapshot" : false,
    "lucene_version" : "8.7.0",
    "minimum_wire_compatibility_version" : "1.2.3",
    "minimum_index_compatibility_version" : "1.2.3"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-configuring"></a>Configuring Elasticsearch<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">/etc/elasticsearch</code> directory contains the default runtime configuration
for Elasticsearch. The ownership of this directory and all contained files are set to
<code class="literal">root:elasticsearch</code> on package installations.</p>
<p>The <code class="literal">setgid</code> flag applies group permissions on the <code class="literal">/etc/elasticsearch</code>
directory to ensure that Elasticsearch can read any contained files and subdirectories.
All files and subdirectories inherit the <code class="literal">root:elasticsearch</code> ownership.
Running commands from this directory or any subdirectories, such as the
<a class="xref" href="settings.html#secure-settings" title="Secure settings">elasticsearch-keystore tool</a>, requires <code class="literal">root:elasticsearch</code>
permissions.</p>
<p>Elasticsearch loads its configuration from the
<code class="literal">/etc/elasticsearch/elasticsearch.yml</code> file by default.  The format of this
config file is explained in <a class="xref" href="settings.html" title="Configuring Elasticsearch"><em>Configuring Elasticsearch</em></a>.</p>
<p>The Debian package also has a system configuration file (<code class="literal">/etc/default/elasticsearch</code>),
which allows you to set the following parameters:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">JAVA_HOME</code>
</p>
</td>
<td valign="top">
<p>
Set a custom Java path to be used.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_OPEN_FILES</code>
</p>
</td>
<td valign="top">
<p>
Maximum number of open files, defaults to <code class="literal">65535</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_LOCKED_MEMORY</code>
</p>
</td>
<td valign="top">
<p>
Maximum locked memory size. Set to <code class="literal">unlimited</code> if you use the
<code class="literal">bootstrap.memory_lock</code> option in elasticsearch.yml.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_MAP_COUNT</code>
</p>
</td>
<td valign="top">
<p>
Maximum number of memory map areas a process may have. If you use <code class="literal">mmapfs</code>
as index store type, make sure this is set to a high value. For more
information, check the
<a href="https://github.com/torvalds/linux/blob/master/Documentation/sysctl/vm.txt" class="ulink" target="_top">linux kernel documentation</a>
about <code class="literal">max_map_count</code>. This is set via <code class="literal">sysctl</code> before starting
Elasticsearch. Defaults to <code class="literal">262144</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_PATH_CONF</code>
</p>
</td>
<td valign="top">
<p>
Configuration file directory (which needs to include <code class="literal">elasticsearch.yml</code>,
<code class="literal">jvm.options</code>, and <code class="literal">log4j2.properties</code> files); defaults to
<code class="literal">/etc/elasticsearch</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_JAVA_OPTS</code>
</p>
</td>
<td valign="top">
<p>
Any additional JVM system properties you may want to apply.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">RESTART_ON_UPGRADE</code>
</p>
</td>
<td valign="top">
<p>
Configure restart on package upgrade, defaults to <code class="literal">false</code>. This means you
will have to restart your Elasticsearch instance after installing a
package manually. The reason for this is to ensure, that upgrades in a
cluster do not result in a continuous shard reallocation resulting in high
network traffic and reducing the response times of your cluster.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Distributions that use <code class="literal">systemd</code> require that system resource limits be
configured via <code class="literal">systemd</code> rather than via the <code class="literal">/etc/sysconfig/elasticsearch</code>
file.  See <a class="xref" href="system-config.html#systemd" title="Systemd configuration">Systemd configuration</a> for more information.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="deb-layout"></a>Directory layout of Debian package<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/deb.asciidoc">edit</a></h3>
</div></div></div>
<p>The Debian package places config files, logs, and the data directory in the appropriate
locations for a Debian-based system:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Default Location</th>
<th align="left" valign="top">Setting</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Elasticsearch home directory or <code class="literal">$ES_HOME</code></p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/elasticsearch</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>Binary scripts including <code class="literal">elasticsearch</code> to start a node
    and <code class="literal">elasticsearch-plugin</code> to install plugins</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/elasticsearch/bin</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Configuration files including <code class="literal">elasticsearch.yml</code></p></td>
<td align="left" valign="top"><p><code class="literal">/etc/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal"><a class="xref" href="settings.html#config-files-location" title="Config files location">ES_PATH_CONF</a></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Environment variables including heap size, file descriptors.</p></td>
<td align="left" valign="top"><p><code class="literal">/etc/default/elasticsearch</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location of the data files of each index / shard allocated
    on the node. Can hold multiple locations.</p></td>
<td align="left" valign="top"><p><code class="literal">/var/lib/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.data</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>jdk</strong></span></p></td>
<td align="left" valign="top"><p>The bundled Java Development Kit used to run Elasticsearch. Can
    be overridden by setting the <code class="literal">JAVA_HOME</code> environment variable
    in <code class="literal">/etc/default/elasticsearch</code>.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/elasticsearch/jdk</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>Log files location.</p></td>
<td align="left" valign="top"><p><code class="literal">/var/log/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.logs</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>plugins</strong></span></p></td>
<td align="left" valign="top"><p>Plugin files location. Each plugin will be contained in a subdirectory.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/elasticsearch/plugins</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>repo</strong></span></p></td>
<td align="left" valign="top"><p>Shared file system repository locations. Can hold multiple locations. A file system repository can be placed in to any subdirectory of any directory specified here.</p></td>
<td align="left" valign="top"><p>Not configured</p></td>
<td align="left" valign="top"><p><code class="literal">path.repo</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps_3"></a>Next steps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up.  Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important System Configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="rpm"></a>Install Elasticsearch with RPM<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm.asciidoc">edit</a></h2>
</div></div></div>
<p>The RPM for Elasticsearch can be <a class="xref" href="install-elasticsearch.html#install-rpm" title="Download and install the RPM manually">downloaded from our website</a>
or from our  <a class="xref" href="install-elasticsearch.html#rpm-repo" title="Installing from the RPM repository">RPM repository</a>. It can be used to install
Elasticsearch on any RPM-based system such as OpenSuSE, SLES, Centos, Red Hat,
and Oracle Enterprise.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>RPM install is not supported on distributions with old versions of RPM,
such as SLES 11 and CentOS 5.  Please see <a class="xref" href="install-elasticsearch.html#targz" title="Install Elasticsearch from archive on Linux or MacOS">Install Elasticsearch from archive on Linux or MacOS</a> instead.</p>
</div>
</div>
<p>This package is free to use under the Elastic license. It contains open source
and free commercial features and access to paid commercial features.
<a href="https://www.elastic.co/guide/en/kibana/7.10/managing-licenses.html" class="ulink" target="_top">Start a 30-day trial</a> to try out all of the
paid commercial features. See the
<a href="https://www.elastic.co/subscriptions" class="ulink" target="_top">Subscriptions</a> page for information about
Elastic license levels.</p>
<p>The latest stable version of Elasticsearch can be found on the
<a href="/downloads/elasticsearch" class="ulink" target="_top">Download Elasticsearch</a> page. Other versions can
be found on the <a href="/downloads/past-releases" class="ulink" target="_top">Past Releases page</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch includes a bundled version of <a href="https://openjdk.java.net" class="ulink" target="_top">OpenJDK</a>
from the JDK maintainers (GPLv2+CE). To use your own version of Java,
see the <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">JVM version requirements</a></p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-key"></a>Import the Elasticsearch GPG Key<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm.asciidoc">edit</a></h3>
</div></div></div>
<p>We sign all of our packages with the Elasticsearch Signing Key (PGP key
<a href="https://pgp.mit.edu/pks/lookup?op=vindex&amp;search=0xD27D666CD88E42B4" class="ulink" target="_top">D88E42B4</a>,
available from <a href="https://pgp.mit.edu" class="ulink" target="_top">https://pgp.mit.edu</a>) with fingerprint:</p>
<pre class="literallayout">4609 5ACC 8548 582C 1A26 99A9 D27D 666C D88E 42B4</pre>

<p>Download and install the public signing key:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-repo"></a>Installing from the RPM repository<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm.asciidoc">edit</a></h3>
</div></div></div>
<p>Create a file called <code class="literal">elasticsearch.repo</code> in the <code class="literal">/etc/yum.repos.d/</code> directory
for RedHat based distributions, or in the <code class="literal">/etc/zypp/repos.d/</code> directory for
OpenSuSE based distributions, containing:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">[elasticsearch]
name=Elasticsearch repository for 7.x packages
baseurl=https://artifacts.elastic.co/packages/7.x/yum
gpgcheck=1
gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch
enabled=0
autorefresh=1
type=rpm-md</pre>
</div>
<p>And your repository is ready for use. You can now install Elasticsearch with one of the following commands:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo yum install --enablerepo=elasticsearch elasticsearch <a id="CO4-1"></a><i class="conum" data-value="1"></i>
sudo dnf install --enablerepo=elasticsearch elasticsearch <a id="CO4-2"></a><i class="conum" data-value="2"></i>
sudo zypper modifyrepo --enable elasticsearch &amp;&amp; \
  sudo zypper install elasticsearch; \
  sudo zypper modifyrepo --disable elasticsearch <a id="CO4-3"></a><i class="conum" data-value="3"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Use <code class="literal">yum</code> on CentOS and older Red Hat based distributions.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Use <code class="literal">dnf</code> on Fedora and other newer Red Hat distributions.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Use <code class="literal">zypper</code> on OpenSUSE based distributions</p>
</td>
</tr>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The configured repository is disabled by default. This eliminates the possibility of accidentally
upgrading <code class="literal">elasticsearch</code> when upgrading the rest of the system. Each install or upgrade command
must explicitly enable the repository as indicated in the sample commands above.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>An alternative package which contains only features that are available under the
Apache 2.0 license is also available. To install it, use the following <code class="literal">baseurl</code> in your <code class="literal">elasticsearch.repo</code> file:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">baseurl=https://artifacts.elastic.co/packages/oss-7.x/yum</pre>
</div>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-rpm"></a>Download and install the RPM manually<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm.asciidoc">edit</a></h3>
</div></div></div>
<p>The RPM for Elasticsearch v7.10.2 can be downloaded from the website and installed as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-x86_64.rpm
wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2-x86_64.rpm.sha512
shasum -a 512 -c elasticsearch-7.10.2-x86_64.rpm.sha512 <a id="CO5-1"></a><i class="conum" data-value="1"></i>
sudo rpm --install elasticsearch-7.10.2-x86_64.rpm</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO5-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Compares the SHA of the downloaded RPM and the published checksum, which should output
<code class="literal">elasticsearch-{version}-x86_64.rpm: OK</code>.</p>
</td>
</tr>
</table>
</div>
<p>Alternatively, you can download the following package, which contains only
features that are available under the Apache 2.0 license:
<a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-x86_64.rpm" class="ulink" target="_top">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-7.10.2-x86_64.rpm</a></p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>On systemd-based distributions, the installation scripts will attempt to set kernel parameters (e.g.,
<code class="literal">vm.max_map_count</code>); you can skip this by masking the systemd-sysctl.service unit.</p>
</div>
</div>
</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-enable-indices"></a>Enable automatic creation of system indices<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>Some commercial features automatically create indices within Elasticsearch.
By default, Elasticsearch is configured to allow automatic index creation, and no
additional steps are required. However, if you have disabled automatic index
creation in Elasticsearch, you must configure
<a class="xref" href="docs.html#index-creation" title="Automatically create data streams and indices"><code class="literal">action.auto_create_index</code></a> in <code class="literal">elasticsearch.yml</code> to allow
the commercial features to create the following indices:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are using <a href="https://www.elastic.co/products/logstash" class="ulink" target="_top">Logstash</a>
or <a href="https://www.elastic.co/products/beats" class="ulink" target="_top">Beats</a> then you will most likely
require additional index names in your <code class="literal">action.auto_create_index</code> setting, and
the exact value will depend on your local configuration. If you are unsure of
the correct value for your environment, you may consider setting the value to
 <code class="literal">*</code> which will allow automatic creation of all indices.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-sysv-init-vs-systemd"></a>SysV <code class="literal">init</code> vs <code class="literal">systemd</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch is not started automatically after installation. How to start
and stop Elasticsearch depends on whether your system uses SysV <code class="literal">init</code> or
<code class="literal">systemd</code> (used by newer distributions).  You can tell which is being used by
running this command:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">ps -p 1</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-running-init"></a>Running Elasticsearch with SysV <code class="literal">init</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm-init.asciidoc">edit</a></h3>
</div></div></div>
<p>Use the <code class="literal">chkconfig</code> command to configure Elasticsearch to start automatically
when the system boots up:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chkconfig --add elasticsearch</pre>
</div>
<p>Elasticsearch can be started and stopped using the <code class="literal">service</code> command:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo -i service elasticsearch start
sudo -i service elasticsearch stop</pre>
</div>
<p>If Elasticsearch fails to start for any reason, it will print the reason for
failure to STDOUT. Log files can be found in <code class="literal">/var/log/elasticsearch/</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-running-systemd"></a>Running Elasticsearch with <code class="literal">systemd</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/systemd.asciidoc">edit</a></h3>
</div></div></div>
<p>To configure Elasticsearch to start automatically when the system boots up,
run the following commands:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo /bin/systemctl daemon-reload
sudo /bin/systemctl enable elasticsearch.service</pre>
</div>
<p>Elasticsearch can be started and stopped as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo systemctl start elasticsearch.service
sudo systemctl stop elasticsearch.service</pre>
</div>
<p>These commands provide no feedback as to whether Elasticsearch was started
successfully or not. Instead, this information will be written in the log
files located in <code class="literal">/var/log/elasticsearch/</code>.</p>
<p>If you have password-protected your Elasticsearch keystore, you will need to provide
<code class="literal">systemd</code> with the keystore password using a local file and systemd environment
variables. This local file should be protected while it exists and may be
safely deleted once Elasticsearch is up and running.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">echo "keystore_password" &gt; /path/to/my_pwd_file.tmp
chmod 600 /path/to/my_pwd_file.tmp
sudo systemctl set-environment ES_KEYSTORE_PASSPHRASE_FILE=/path/to/my_pwd_file.tmp
sudo systemctl start elasticsearch.service</pre>
</div>
<p>By default the Elasticsearch service doesn&#8217;t log information in the <code class="literal">systemd</code>
journal. To enable <code class="literal">journalctl</code> logging, the <code class="literal">--quiet</code> option must be removed
 from the <code class="literal">ExecStart</code> command line in the <code class="literal">elasticsearch.service</code> file.</p>
<p>When <code class="literal">systemd</code> logging is enabled, the logging information are available using
the <code class="literal">journalctl</code> commands:</p>
<p>To tail the journal:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo journalctl -f</pre>
</div>
<p>To list journal entries for the elasticsearch service:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo journalctl --unit elasticsearch</pre>
</div>
<p>To list journal entries for the elasticsearch service starting from a given time:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo journalctl --unit elasticsearch --since  "2016-10-30 18:17:16"</pre>
</div>
<p>Check <code class="literal">man journalctl</code> or <a href="https://www.freedesktop.org/software/systemd/man/journalctl.html" class="ulink" target="_top">https://www.freedesktop.org/software/systemd/man/journalctl.html</a> for
more command line options.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-check-running"></a>Checking that Elasticsearch is running<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/check-running.asciidoc">edit</a></h3>
</div></div></div>
<p>You can test that your Elasticsearch node is running by sending an HTTP
request to port <code class="literal">9200</code> on <code class="literal">localhost</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /</pre>
</div>
<div class="console_widget" data-snippet="snippets/20.console"></div>
<p>which should give you a response something like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "name" : "Cp8oag6",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "AT69_T_DTp-1qgIJlatQqA",
  "version" : {
    "number" : "7.10.2",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "f27399d",
    "build_date" : "2016-03-30T09:51:41.449Z",
    "build_snapshot" : false,
    "lucene_version" : "8.7.0",
    "minimum_wire_compatibility_version" : "1.2.3",
    "minimum_index_compatibility_version" : "1.2.3"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-configuring"></a>Configuring Elasticsearch<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">/etc/elasticsearch</code> directory contains the default runtime configuration
for Elasticsearch. The ownership of this directory and all contained files are set to
<code class="literal">root:elasticsearch</code> on package installations.</p>
<p>The <code class="literal">setgid</code> flag applies group permissions on the <code class="literal">/etc/elasticsearch</code>
directory to ensure that Elasticsearch can read any contained files and subdirectories.
All files and subdirectories inherit the <code class="literal">root:elasticsearch</code> ownership.
Running commands from this directory or any subdirectories, such as the
<a class="xref" href="settings.html#secure-settings" title="Secure settings">elasticsearch-keystore tool</a>, requires <code class="literal">root:elasticsearch</code>
permissions.</p>
<p>Elasticsearch loads its configuration from the
<code class="literal">/etc/elasticsearch/elasticsearch.yml</code> file by default.  The format of this
config file is explained in <a class="xref" href="settings.html" title="Configuring Elasticsearch"><em>Configuring Elasticsearch</em></a>.</p>
<p>The RPM also has a system configuration file (<code class="literal">/etc/sysconfig/elasticsearch</code>),
which allows you to set the following parameters:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">JAVA_HOME</code>
</p>
</td>
<td valign="top">
<p>
Set a custom Java path to be used.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_OPEN_FILES</code>
</p>
</td>
<td valign="top">
<p>
Maximum number of open files, defaults to <code class="literal">65535</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_LOCKED_MEMORY</code>
</p>
</td>
<td valign="top">
<p>
Maximum locked memory size. Set to <code class="literal">unlimited</code> if you use the
<code class="literal">bootstrap.memory_lock</code> option in elasticsearch.yml.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_MAP_COUNT</code>
</p>
</td>
<td valign="top">
<p>
Maximum number of memory map areas a process may have. If you use <code class="literal">mmapfs</code>
as index store type, make sure this is set to a high value. For more
information, check the
<a href="https://github.com/torvalds/linux/blob/master/Documentation/sysctl/vm.txt" class="ulink" target="_top">linux kernel documentation</a>
about <code class="literal">max_map_count</code>. This is set via <code class="literal">sysctl</code> before starting
Elasticsearch. Defaults to <code class="literal">262144</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_PATH_CONF</code>
</p>
</td>
<td valign="top">
<p>
Configuration file directory (which needs to include <code class="literal">elasticsearch.yml</code>,
<code class="literal">jvm.options</code>, and <code class="literal">log4j2.properties</code> files); defaults to
<code class="literal">/etc/elasticsearch</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_JAVA_OPTS</code>
</p>
</td>
<td valign="top">
<p>
Any additional JVM system properties you may want to apply.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">RESTART_ON_UPGRADE</code>
</p>
</td>
<td valign="top">
<p>
Configure restart on package upgrade, defaults to <code class="literal">false</code>. This means you
will have to restart your Elasticsearch instance after installing a
package manually. The reason for this is to ensure, that upgrades in a
cluster do not result in a continuous shard reallocation resulting in high
network traffic and reducing the response times of your cluster.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Distributions that use <code class="literal">systemd</code> require that system resource limits be
configured via <code class="literal">systemd</code> rather than via the <code class="literal">/etc/sysconfig/elasticsearch</code>
file.  See <a class="xref" href="system-config.html#systemd" title="Systemd configuration">Systemd configuration</a> for more information.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rpm-layout"></a>Directory layout of RPM<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/rpm.asciidoc">edit</a></h3>
</div></div></div>
<p>The RPM places config files, logs, and the data directory in the appropriate
locations for an RPM-based system:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Default Location</th>
<th align="left" valign="top">Setting</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Elasticsearch home directory or <code class="literal">$ES_HOME</code></p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/elasticsearch</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>Binary scripts including <code class="literal">elasticsearch</code> to start a node
    and <code class="literal">elasticsearch-plugin</code> to install plugins</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/elasticsearch/bin</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Configuration files including <code class="literal">elasticsearch.yml</code></p></td>
<td align="left" valign="top"><p><code class="literal">/etc/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal"><a class="xref" href="settings.html#config-files-location" title="Config files location">ES_PATH_CONF</a></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Environment variables including heap size, file descriptors.</p></td>
<td align="left" valign="top"><p><code class="literal">/etc/sysconfig/elasticsearch</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location of the data files of each index / shard allocated
    on the node. Can hold multiple locations.</p></td>
<td align="left" valign="top"><p><code class="literal">/var/lib/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.data</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>jdk</strong></span></p></td>
<td align="left" valign="top"><p>The bundled Java Development Kit used to run Elasticsearch. Can
    be overridden by setting the <code class="literal">JAVA_HOME</code> environment variable
    in <code class="literal">/etc/sysconfig/elasticsearch</code>.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/elasticsearch/jdk</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>Log files location.</p></td>
<td align="left" valign="top"><p><code class="literal">/var/log/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.logs</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>plugins</strong></span></p></td>
<td align="left" valign="top"><p>Plugin files location. Each plugin will be contained in a subdirectory.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/elasticsearch/plugins</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>repo</strong></span></p></td>
<td align="left" valign="top"><p>Shared file system repository locations. Can hold multiple locations. A file system repository can be placed in to any subdirectory of any directory specified here.</p></td>
<td align="left" valign="top"><p>Not configured</p></td>
<td align="left" valign="top"><p><code class="literal">path.repo</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps_4"></a>Next steps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up.  Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important System Configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="windows"></a>Install Elasticsearch with Windows MSI Installer<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>Elasticsearch can be installed on Windows using the <code class="literal">.msi</code> package.  This can
install Elasticsearch as a Windows service or allow it to be run manually using
the included <code class="literal">elasticsearch.exe</code> executable.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch has historically been installed on Windows using the <a class="xref" href="install-elasticsearch.html#zip-windows" title="Install Elasticsearch with .zip on Windows">.zip</a> archive.
You can continue using the <code class="literal">.zip</code> approach if you prefer.</p>
</div>
</div>
<p>This package is free to use under the Elastic license. It contains open source
and free commercial features and access to paid commercial features.
<a href="https://www.elastic.co/guide/en/kibana/7.10/managing-licenses.html" class="ulink" target="_top">Start a 30-day trial</a> to try out all of the
paid commercial features. See the
<a href="https://www.elastic.co/subscriptions" class="ulink" target="_top">Subscriptions</a> page for information about
Elastic license levels.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>On Windows the Elasticsearch machine learning feature requires the Microsoft Universal
C Runtime library. This is built into Windows 10, Windows Server 2016 and more
recent versions of Windows. For older versions of Windows it can be installed
via Windows Update, or from a
<a href="https://support.microsoft.com/en-us/help/2999226/update-for-universal-c-runtime-in-windows" class="ulink" target="_top">separate download</a>.
If you cannot install the Microsoft Universal C Runtime library you can still
use the rest of Elasticsearch if you disable the machine learning feature.</p>
</div>
</div>
<p>The latest stable version of Elasticsearch can be found on the
<a href="/downloads/elasticsearch" class="ulink" target="_top">Download Elasticsearch</a> page.
Other versions can be found on the
<a href="/downloads/past-releases" class="ulink" target="_top">Past Releases page</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch includes a bundled version of <a href="https://openjdk.java.net" class="ulink" target="_top">OpenJDK</a>
from the JDK maintainers (GPLv2+CE). To use your own version of Java,
see the <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">JVM version requirements</a></p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="download-msi"></a>Download the <code class="literal">.msi</code> package<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Download the <code class="literal">.msi</code> package for Elasticsearch v7.10.2 from <a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2.msi" class="ulink" target="_top">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.2.msi</a></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-msi-gui"></a>Install using the graphical user interface (GUI)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Double-click the downloaded <code class="literal">.msi</code> package to launch a GUI wizard that will guide you through the
installation process. You can view help on any step by clicking the <code class="literal">?</code> button, which reveals an
aside panel with additional information for each input:</p>
<div id="msi-installer-help" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_help.png" alt="msi installer help">
</div>
</div>
<p>Within the first screen, select the directory for the installation. In addition, select directories for where
data, logs and configuration will be placed or <a class="xref" href="install-elasticsearch.html#msi-command-line-options" title="Command line options">use the default locations</a>:</p>
<div id="msi-installer-locations" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_locations.png" alt="msi installer locations">
</div>
</div>
<p>Then select whether to install as a service or start Elasticsearch manually as needed. When
installing as a service, you can also configure the Windows account to run the service with,
whether the service should be started after installation and the Windows startup behaviour:</p>
<div id="msi-installer-service" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_service.png" alt="msi installer service">
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>When selecting a Windows account to run the service with, be sure that the chosen account
has sufficient privileges to access the installation and other deployment directories chosen. Also
ensure the account is able to run Windows services.</p>
</div>
</div>
<p>Common configuration settings are exposed within the Configuration section, allowing the cluster
name, node name and roles to be set, in addition to memory and network settings:</p>
<div id="msi-installer-configuration" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_configuration.png" alt="msi installer configuration">
</div>
</div>
<p>A list of common plugins that can be downloaded and installed as part of the installation, with the option to configure an HTTPS proxy through which to download these plugins.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Ensure the installation machine has access to the internet and that any corporate firewalls in place are configured to allow downloads from <code class="literal">artifacts.elastic.co</code>:</p>
</div>
</div>
<div id="msi-installer-selected-plugins" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_selected_plugins.png" alt="msi installer selected plugins">
</div>
</div>
<p>As of version 6.3.0, X-Pack is now <a href="https://www.elastic.co/products/x-pack/open" class="ulink" target="_top">bundled by default</a>.
The final step allows a choice of the type of license to install, in addition to
security configuration and built-in user configuration:</p>
<div id="msi-installer-xpack" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_xpack.png" alt="msi installer xpack">
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>X-Pack includes a choice of a Trial or Basic license. A Trial license is
valid for 30 days, after which you can obtain one of the available subscriptions.
The Basic license is free and perpetual. Consult the
<a href="https://www.elastic.co/subscriptions" class="ulink" target="_top">available subscriptions</a> for further
details on which features are available under which license.</p>
</div>
</div>
<p>After clicking the install button, the installation will begin:</p>
<div id="msi-installer-installing" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_installing.png" alt="msi installer installing">
</div>
</div>
<p>&#8230;&#8203;and will indicate when it has been successfully installed:</p>
<div id="msi-installer-success" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_success.png" alt="msi installer success">
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-msi-command-line"></a>Install using the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.msi</code> can also install Elasticsearch using the command line. The simplest installation
using the same defaults as the GUI is achieved by first navigating to the download directory,
then running:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">msiexec.exe /i elasticsearch-7.10.2.msi /qn</pre>
</div>
<p>By default, <code class="literal">msiexec.exe</code> does not wait for the installation process to complete, since it runs in the
Windows subsystem. To wait on the process to finish and ensure that <code class="literal">%ERRORLEVEL%</code> is set
accordingly, it is recommended to use <code class="literal">start /wait</code> to create a process and wait for it to exit</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-7.10.2.msi /qn</pre>
</div>
<p>As with any MSI installation package, a log file for the installation process can be found
within the <code class="literal">%TEMP%</code> directory, with a randomly generated name adhering to the format
<code class="literal">MSI&lt;random&gt;.LOG</code>. The path to a log file can be supplied using the <code class="literal">/l</code> command line argument</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-7.10.2.msi /qn /l install.log</pre>
</div>
<p>Supported Windows Installer command line arguments can be viewed using</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">msiexec.exe /help</pre>
</div>
<p>&#8230;&#8203;or by consulting the <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa367988(v=vs.85).aspx" class="ulink" target="_top">Windows Installer SDK Command-Line Options</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-command-line-options"></a>Command line options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>All settings exposed within the GUI are also available as command line arguments (referred to
as <em>properties</em> within Windows Installer documentation) that can be passed to <code class="literal">msiexec.exe</code>:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">INSTALLDIR</code>
</p>
</td>
<td valign="top">
<p>
The installation directory. The final directory in the path <span class="strong strong"><strong>must</strong></span>
be the version of Elasticsearch.
Defaults to <code class="literal">%ProgramW6432%\Elastic\Elasticsearch\7.10.2</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">DATADIRECTORY</code>
</p>
</td>
<td valign="top">
<p>
The directory in which to store your data.
Defaults to <code class="literal">%ALLUSERSPROFILE%\Elastic\Elasticsearch\data</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">CONFIGDIRECTORY</code>
</p>
</td>
<td valign="top">
<p>
The directory in which to store your configuration.
Defaults to <code class="literal">%ALLUSERSPROFILE%\Elastic\Elasticsearch\config</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">LOGSDIRECTORY</code>
</p>
</td>
<td valign="top">
<p>
The directory in which to store your logs.
Defaults to <code class="literal">%ALLUSERSPROFILE%\Elastic\Elasticsearch\logs</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">PLACEWRITABLELOCATIONSINSAMEPATH</code>
</p>
</td>
<td valign="top">
<p>
Whether the data, configuration and logs directories
should be created under the installation directory. Defaults to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">INSTALLASSERVICE</code>
</p>
</td>
<td valign="top">
<p>
Whether Elasticsearch is installed and configured as a Windows Service.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">STARTAFTERINSTALL</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows Service is started after installation finishes.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">STARTWHENWINDOWSSTARTS</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows Service is started when Windows is started.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">USELOCALSYSTEM</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows service runs under the LocalSystem Account.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">USENETWORKSERVICE</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows service runs under the NetworkService Account. Defaults
to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">USEEXISTINGUSER</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows service runs under a specified existing account. Defaults
to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">USER</code>
</p>
</td>
<td valign="top">
<p>
The username for the account under which the Windows service runs. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">PASSWORD</code>
</p>
</td>
<td valign="top">
<p>
The password for the account under which the Windows service runs. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">CLUSTERNAME</code>
</p>
</td>
<td valign="top">
<p>
The name of the cluster. Defaults to <code class="literal">elasticsearch</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">NODENAME</code>
</p>
</td>
<td valign="top">
<p>
The name of the node. Defaults to <code class="literal">%COMPUTERNAME%</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MASTERNODE</code>
</p>
</td>
<td valign="top">
<p>
Whether Elasticsearch is configured as a master node. Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">DATANODE</code>
</p>
</td>
<td valign="top">
<p>
Whether Elasticsearch is configured as a data node. Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">INGESTNODE</code>
</p>
</td>
<td valign="top">
<p>
Whether Elasticsearch is configured as an ingest node. Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SELECTEDMEMORY</code>
</p>
</td>
<td valign="top">
<p>
The amount of memory to allocate to the JVM heap for Elasticsearch.
Defaults to <code class="literal">2048</code> unless the target machine has less than 4GB in total, in which case
it defaults to 50% of total memory.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">LOCKMEMORY</code>
</p>
</td>
<td valign="top">
<p>
Whether <code class="literal">bootstrap.memory_lock</code> should be used to try to lock the process
address space into RAM. Defaults to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">UNICASTNODES</code>
</p>
</td>
<td valign="top">
<p>
A comma separated list of hosts in the form <code class="literal">host:port</code> or <code class="literal">host</code> to be used for
unicast discovery. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MINIMUMMASTERNODES</code>
</p>
</td>
<td valign="top">
<p>
The minimum number of master-eligible nodes that must be visible
in order to form a cluster. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">NETWORKHOST</code>
</p>
</td>
<td valign="top">
<p>
The hostname or IP address to bind the node to and <em>publish</em> (advertise) this
host to other nodes in the cluster. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPPORT</code>
</p>
</td>
<td valign="top">
<p>
The port to use for exposing Elasticsearch APIs over HTTP. Defaults to <code class="literal">9200</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">TRANSPORTPORT</code>
</p>
</td>
<td valign="top">
<p>
The port to use for internal communication between nodes within the cluster.
Defaults to <code class="literal">9300</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">PLUGINS</code>
</p>
</td>
<td valign="top">
<p>
A comma separated list of the plugins to download and install as part of the
installation. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPSPROXYHOST</code>
</p>
</td>
<td valign="top">
<p>
The proxy host to use to download plugins over HTTPS. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPSPROXYPORT</code>
</p>
</td>
<td valign="top">
<p>
The proxy port to use to download plugins over HTTPS. Defaults to <code class="literal">443</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPPROXYHOST</code>
</p>
</td>
<td valign="top">
<p>
The proxy host to use to download plugins over HTTP. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPPROXYPORT</code>
</p>
</td>
<td valign="top">
<p>
The proxy port to use to download plugins over HTTP. Defaults to <code class="literal">80</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">XPACKLICENSE</code>
</p>
</td>
<td valign="top">
<p>
The type of license to install, either <code class="literal">Basic</code> or <code class="literal">Trial</code>. Defaults to <code class="literal">Basic</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">XPACKSECURITYENABLED</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license, whether security features are
enabled. Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">BOOTSTRAPPASSWORD</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and security features are enabled,
the password to used to bootstrap the cluster and persisted as the
<code class="literal">bootstrap.password</code> setting in the keystore. Defaults to a randomized value.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SKIPSETTINGPASSWORDS</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and security features enabled,
whether the installation should skip setting up the built-in users.
Defaults to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ELASTICUSERPASSWORD</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and security features are enabled,
the password to use for the built-in user <code class="literal">elastic</code>. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">KIBANAUSERPASSWORD</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and security features are enabled,
the password to use for the built-in user <code class="literal">kibana</code>. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">LOGSTASHSYSTEMUSERPASSWORD</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and security features are enabled,
the password to use for the built-in user <code class="literal">logstash_system</code>. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>To pass a value, simply append the property name and value using the format
<code class="literal">&lt;PROPERTYNAME&gt;="&lt;VALUE&gt;"</code> to the installation command. For example, to use a
different installation directory to the default one:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-7.10.2.msi /qn INSTALLDIR="C:\Custom Install Directory{version}"</pre>
</div>
<p>Consult the <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa367988(v=vs.85).aspx" class="ulink" target="_top">Windows Installer SDK Command-Line Options</a>
for additional rules related to values containing quotation marks.</p>
</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-installer-enable-indices"></a>Enable automatic creation of system indices<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>Some commercial features automatically create indices within Elasticsearch.
By default, Elasticsearch is configured to allow automatic index creation, and no
additional steps are required. However, if you have disabled automatic index
creation in Elasticsearch, you must configure
<a class="xref" href="docs.html#index-creation" title="Automatically create data streams and indices"><code class="literal">action.auto_create_index</code></a> in <code class="literal">elasticsearch.yml</code> to allow
the commercial features to create the following indices:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are using <a href="https://www.elastic.co/products/logstash" class="ulink" target="_top">Logstash</a>
or <a href="https://www.elastic.co/products/beats" class="ulink" target="_top">Beats</a> then you will most likely
require additional index names in your <code class="literal">action.auto_create_index</code> setting, and
the exact value will depend on your local configuration. If you are unsure of
the correct value for your environment, you may consider setting the value to
 <code class="literal">*</code> which will allow automatic creation of all indices.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-installer-command-line-running"></a>Running Elasticsearch from the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/msi-windows-start.asciidoc">edit</a></h3>
</div></div></div>
<p>Once installed, Elasticsearch can be started from the command line, if not installed as a service
and configured to start when installation completes, as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">.\bin\elasticsearch.exe</pre>
</div>
<p>The command line terminal will display output similar to the following:</p>
<div class="imageblock">
<div class="content">
<img src="images/msi_installer/elasticsearch_exe.png" alt="elasticsearch exe">
</div>
</div>
<p>By default, Elasticsearch runs in the foreground, prints its logs to <code class="literal">STDOUT</code> in addition
to the <code class="literal">&lt;cluster name&gt;.log</code> file within <code class="literal">LOGSDIRECTORY</code>, and can be stopped by pressing <code class="literal">Ctrl-C</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-installer-command-line-configuration"></a>Configuring Elasticsearch on the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch loads its configuration from the <code class="literal">%ES_PATH_CONF%\elasticsearch.yml</code>
file by default. The format of this config file is explained in
<a class="xref" href="settings.html" title="Configuring Elasticsearch"><em>Configuring Elasticsearch</em></a>.</p>
<p>Any settings that can be specified in the config file can also be specified on
the command line, using the <code class="literal">-E</code> syntax as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">.\bin\elasticsearch.exe -E cluster.name=my_cluster -E node.name=node_1</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Values that contain spaces must be surrounded with quotes.  For instance <code class="literal">-E path.logs="C:\My Logs\logs"</code>.</p>
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Typically, any cluster-wide settings (like <code class="literal">cluster.name</code>) should be
added to the <code class="literal">elasticsearch.yml</code> config file, while any node-specific settings
such as <code class="literal">node.name</code> could be specified on the command line.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_checking_that_elasticsearch_is_running_3"></a>Checking that Elasticsearch is running<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/check-running.asciidoc">edit</a></h3>
</div></div></div>
<p>You can test that your Elasticsearch node is running by sending an HTTP
request to port <code class="literal">9200</code> on <code class="literal">localhost</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /</pre>
</div>
<div class="console_widget" data-snippet="snippets/21.console"></div>
<p>which should give you a response something like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "name" : "Cp8oag6",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "AT69_T_DTp-1qgIJlatQqA",
  "version" : {
    "number" : "7.10.2",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "f27399d",
    "build_date" : "2016-03-30T09:51:41.449Z",
    "build_snapshot" : false,
    "lucene_version" : "8.7.0",
    "minimum_wire_compatibility_version" : "1.2.3",
    "minimum_index_compatibility_version" : "1.2.3"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-installer-windows-service"></a>Installing Elasticsearch as a Service on Windows<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch can be installed as a service to run in the background or start
automatically at boot time without any user interaction. This can be achieved upon installation
using the following command line options</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">INSTALLASSERVICE=true</code>
</li>
<li class="listitem">
<code class="literal">STARTAFTERINSTALL=true</code>
</li>
<li class="listitem">
<code class="literal">STARTWHENWINDOWSSTARTS=true</code>
</li>
</ul>
</div>
<p>Once installed, Elasticsearch will appear within the Services control panel:</p>
<div id="msi-installer-installed-service" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_installed_service.png" alt="msi installer installed service">
</div>
</div>
<p>and can be stopped and restarted from within the control panel, or from the command line using:</p>
<p>with Command Prompt:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sc.exe stop Elasticsearch
sc.exe start Elasticsearch</pre>
</div>
<p>with PowerShell:</p>
<div class="pre_wrapper lang-powershell">
<pre class="programlisting prettyprint lang-powershell">Get-Service Elasticsearch | Stop-Service
Get-Service Elasticsearch | Start-Service</pre>
</div>
<p>Changes can be made to <code class="literal">jvm.options</code> and <code class="literal">elasticsearch.yml</code> configuration files to configure the
service after installation. Most changes (like JVM settings) will require a restart of the
service in order to take effect.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="upgrade-msi-gui"></a>Upgrade using the graphical user interface (GUI)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.msi</code> package supports upgrading an installed version of Elasticsearch to a newer
version. The upgrade process through the GUI handles upgrading all
installed plugins as well as retaining both your data and configuration.</p>
<p>Downloading and double-clicking on a newer version of the <code class="literal">.msi</code> package will launch the GUI wizard.
The first step will list the read-only properties from the previous installation:</p>
<div id="msi-installer-upgrade-notice" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_upgrade_notice.png" alt="msi installer upgrade notice">
</div>
</div>
<p>The next step allows certain configuration options to be changed:</p>
<div id="msi-installer-upgrade-configuration" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_upgrade_configuration.png" alt="msi installer upgrade configuration">
</div>
</div>
<p>Finally, the plugins step allows currently installed plugins to be upgraded or removed, and
for plugins not currently installed, to be downloaded and installed:</p>
<div id="msi-installer-upgrade-plugins" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_upgrade_plugins.png" alt="msi installer upgrade plugins">
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="upgrade-msi-command-line"></a>Upgrade using the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.msi</code> can also upgrade Elasticsearch using the command line.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>A command line upgrade requires passing the <span class="strong strong"><strong>same</strong></span> command line properties as
used at first install time; the Windows Installer does not remember these properties.</p>
<p>For example, if you originally installed with the command line options <code class="literal">PLUGINS="ingest-geoip"</code> and
<code class="literal">LOCKMEMORY="true"</code>, then you must pass these same values when performing an
upgrade from the command line.</p>
<p>The <span class="strong strong"><strong>exception</strong></span> to this is the <code class="literal">INSTALLDIR</code> parameter (if originally specified), which must be a different directory to the
current installation.
If setting <code class="literal">INSTALLDIR</code>, the final directory in the path <span class="strong strong"><strong>must</strong></span> be the version of Elasticsearch e.g.</p>
<p><code class="literal">C:\Program Files\Elastic\Elasticsearch\7.10.2</code></p>
</div>
</div>
<p>The simplest upgrade, assuming Elasticsearch was installed using all defaults,
is achieved by first navigating to the download directory, then running:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-7.10.2.msi /qn</pre>
</div>
<p>Similar to the install process, a path to a log file for the upgrade process can
be passed using the <code class="literal">/l</code> command line argument</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-7.10.2.msi /qn /l upgrade.log</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="uninstall-msi-gui"></a>Uninstall using Add/Remove Programs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.msi</code> package handles uninstallation of all directories and files added as part of installation.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Uninstallation will remove <span class="strong strong"><strong>all</strong></span> contents created as part of
installation, <span class="strong strong"><strong>except for data, config or logs directories</strong></span>. It is recommended that you make a copy of your data directory before upgrading or consider using the snapshot API.</p>
</div>
</div>
<p>MSI installer packages do not provide a GUI for uninstallation. An installed program can be uninstalled
by pressing the Windows key and typing <code class="literal">add or remove programs</code> to open the system settings.</p>
<p>Once opened, find the Elasticsearch installation within the list of installed applications, click
and choose <code class="literal">Uninstall</code>:</p>
<div id="msi-installer-uninstall" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_uninstall.png" alt="msi installer uninstall">
</div>
</div>
<p>This will launch the uninstallation process.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="uninstall-msi-command-line"></a>Uninstall using the command line<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Uninstallation can also be performed from the command line by navigating to the directory
containing the <code class="literal">.msi</code> package and running:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /x elasticsearch-7.10.2.msi /qn</pre>
</div>
<p>Similar to the install process, a path to a log file for the uninstallation process can
be passed using the <code class="literal">/l</code> command line argument</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /x elasticsearch-7.10.2.msi /qn /l uninstall.log</pre>
</div>
</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps_5"></a>Next steps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up.  Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important System Configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="docker"></a>Install Elasticsearch with Docker<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h2>
</div></div></div>
<p>Elasticsearch is also available as Docker images.
The images use <a href="https://hub.docker.com/_/centos/" class="ulink" target="_top">centos:8</a> as the base image.</p>
<p>A list of all published Docker images and tags is available at
<a href="https://www.docker.elastic.co" class="ulink" target="_top">www.docker.elastic.co</a>. The source files
are in
<a href="https://github.com/elastic/elasticsearch/blob/7.10/distribution/docker" class="ulink" target="_top">Github</a>.</p>
<p>These images are free to use under the Elastic license. They contain open source
and free commercial features and access to paid commercial features.
<a href="https://www.elastic.co/guide/en/kibana/7.10/managing-licenses.html" class="ulink" target="_top">Start a 30-day trial</a> to try out all of the
paid commercial features. See the
<a href="https://www.elastic.co/subscriptions" class="ulink" target="_top">Subscriptions</a> page for information about
Elastic license levels.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_pulling_the_image"></a>Pulling the image<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h3>
</div></div></div>
<p>Obtaining Elasticsearch for Docker is as simple as issuing a <code class="literal">docker pull</code> command
against the Elastic Docker registry.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker pull docker.elastic.co/elasticsearch/elasticsearch:7.10.2</pre>
</div>
<p>Alternatively, you can download other Docker images that contain only features
available under the Apache 2.0 license. To download the images, go to
<a href="https://www.docker.elastic.co" class="ulink" target="_top">www.docker.elastic.co</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="docker-cli-run-dev-mode"></a>Starting a single node cluster with Docker<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h3>
</div></div></div>
<p>To start a single-node Elasticsearch cluster for development or testing, specify
<a class="xref" href="bootstrap-checks.html#single-node-discovery" title="Single-node discovery">single-node discovery</a> to bypass the <a class="xref" href="bootstrap-checks.html" title="Bootstrap Checks">bootstrap checks</a>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker run -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" docker.elastic.co/elasticsearch/elasticsearch:7.10.2</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="docker-compose-file"></a>Starting a multi-node cluster with Docker Compose<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h3>
</div></div></div>
<p>To get a three-node Elasticsearch cluster up and running in Docker,
you can use Docker Compose:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Create a <code class="literal">docker-compose.yml</code> file:
</li>
</ol>
</div>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">version: '2.2'
services:
  es01:
    image: docker.elastic.co/elasticsearch/elasticsearch:7.10.2
    container_name: es01
    environment:
      - node.name=es01
      - cluster.name=es-docker-cluster
      - discovery.seed_hosts=es02,es03
      - cluster.initial_master_nodes=es01,es02,es03
      - bootstrap.memory_lock=true
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    ulimits:
      memlock:
        soft: -1
        hard: -1
    volumes:
      - data01:/usr/share/elasticsearch/data
    ports:
      - 9200:9200
    networks:
      - elastic
  es02:
    image: docker.elastic.co/elasticsearch/elasticsearch:7.10.2
    container_name: es02
    environment:
      - node.name=es02
      - cluster.name=es-docker-cluster
      - discovery.seed_hosts=es01,es03
      - cluster.initial_master_nodes=es01,es02,es03
      - bootstrap.memory_lock=true
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    ulimits:
      memlock:
        soft: -1
        hard: -1
    volumes:
      - data02:/usr/share/elasticsearch/data
    networks:
      - elastic
  es03:
    image: docker.elastic.co/elasticsearch/elasticsearch:7.10.2
    container_name: es03
    environment:
      - node.name=es03
      - cluster.name=es-docker-cluster
      - discovery.seed_hosts=es01,es02
      - cluster.initial_master_nodes=es01,es02,es03
      - bootstrap.memory_lock=true
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    ulimits:
      memlock:
        soft: -1
        hard: -1
    volumes:
      - data03:/usr/share/elasticsearch/data
    networks:
      - elastic

volumes:
  data01:
    driver: local
  data02:
    driver: local
  data03:
    driver: local

networks:
  elastic:
    driver: bridge</pre>
</div>
<p>This sample Docker Compose file brings up a three-node Elasticsearch cluster.
Node <code class="literal">es01</code> listens on <code class="literal">localhost:9200</code> and <code class="literal">es02</code> and <code class="literal">es03</code> talk to <code class="literal">es01</code> over a Docker network.</p>
<p>Please note that this configuration exposes port 9200 on all network interfaces, and given how
Docker manipulates <code class="literal">iptables</code> on Linux, this means that your Elasticsearch cluster is publically accessible,
potentially ignoring any firewall settings. If you don&#8217;t want to expose port 9200 and instead use
a reverse proxy, replace <code class="literal">9200:9200</code> with <code class="literal">127.0.0.1:9200:9200</code> in the docker-compose.yml file.
Elasticsearch will then only be accessible from the host machine itself.</p>
<p>The  <a href="https://docs.docker.com/storage/volumes" class="ulink" target="_top">Docker named volumes</a>
<code class="literal">data01</code>, <code class="literal">data02</code>, and <code class="literal">data03</code> store the node data directories so the data persists across restarts.
If they don&#8217;t already exist, <code class="literal">docker-compose</code> creates them when you bring up the cluster.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Make sure Docker Engine is allotted at least 4GiB of memory.
In Docker Desktop, you configure resource usage on the Advanced tab in Preference (macOS)
or Settings (Windows).</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Docker Compose is not pre-installed with Docker on Linux.
See docs.docker.com for installation instructions:
<a href="https://docs.docker.com/compose/install" class="ulink" target="_top">Install Compose on Linux</a></p>
</div>
</div>
</li>
<li class="listitem">
<p>Run <code class="literal">docker-compose</code> to bring up the cluster:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker-compose up</pre>
</div>
</li>
<li class="listitem">
<p>Submit a <code class="literal">_cat/nodes</code> request to see that the nodes are up and running:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -X GET "localhost:9200/_cat/nodes?v=true&amp;pretty"</pre>
</div>
</li>
</ol>
</div>
<p>Log messages go to the console and are handled by the configured Docker logging driver.
By default you can access logs with <code class="literal">docker logs</code>.</p>
<p>To stop the cluster, run <code class="literal">docker-compose down</code>.
The data in the Docker volumes is preserved and loaded
when you restart the cluster with <code class="literal">docker-compose up</code>.
To <span class="strong strong"><strong>delete the data volumes</strong></span> when you bring down the cluster,
specify the <code class="literal">-v</code> option: <code class="literal">docker-compose down -v</code>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="next-getting-started-tls-docker"></a>Start a multi-node cluster with TLS enabled<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>See <a class="xref" href="encrypting-communications.html#configuring-tls-docker" title="Encrypting communications in an Elasticsearch Docker Container">Encrypting communications in an Elasticsearch Docker Container</a> and
<a href="https://www.elastic.co/guide/en/elastic-stack-get-started/7.10/get-started-docker.html#get-started-docker-tls" class="ulink" target="_top">Run the Elastic Stack in Docker with TLS enabled</a>.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="docker-prod-prerequisites"></a>Using the Docker images in production<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h3>
</div></div></div>
<p>The following requirements and recommendations apply when running Elasticsearch in Docker in production.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_set_vm_max_map_count_to_at_least_262144"></a>Set <code class="literal">vm.max_map_count</code> to at least <code class="literal">262144</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>The <code class="literal">vm.max_map_count</code> kernel setting must be set to at least <code class="literal">262144</code> for production use.</p>
<p>How you set <code class="literal">vm.max_map_count</code> depends on your platform:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Linux</p>
<p>The <code class="literal">vm.max_map_count</code> setting should be set permanently in <code class="literal">/etc/sysctl.conf</code>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">grep vm.max_map_count /etc/sysctl.conf
vm.max_map_count=262144</pre>
</div>
<p>To apply the setting on a live system, run:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sysctl -w vm.max_map_count=262144</pre>
</div>
</li>
<li class="listitem">
<p>macOS with  <a href="https://docs.docker.com/docker-for-mac" class="ulink" target="_top">Docker for Mac</a></p>
<p>The <code class="literal">vm.max_map_count</code> setting must be set within the xhyve virtual machine:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>From the command line, run:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">screen ~/Library/Containers/com.docker.docker/Data/vms/0/tty</pre>
</div>
</li>
<li class="listitem">
<p>Press enter and use`sysctl` to configure <code class="literal">vm.max_map_count</code>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sysctl -w vm.max_map_count=262144</pre>
</div>
</li>
<li class="listitem">
To exit the <code class="literal">screen</code> session, type <code class="literal">Ctrl a d</code>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Windows and macOS with <a href="https://www.docker.com/products/docker-desktop" class="ulink" target="_top">Docker Desktop</a></p>
<p>The <code class="literal">vm.max_map_count</code> setting must be set via docker-machine:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker-machine ssh
sudo sysctl -w vm.max_map_count=262144</pre>
</div>
</li>
<li class="listitem">
<p>Windows with <a href="https://docs.docker.com/docker-for-windows/wsl" class="ulink" target="_top">Docker Desktop WSL 2 backend</a></p>
<p>The <code class="literal">vm.max_map_count</code> setting must be set in the docker-desktop container:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">wsl -d docker-desktop
sysctl -w vm.max_map_count=262144</pre>
</div>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuration_files_must_be_readable_by_the_elasticsearch_user"></a>Configuration files must be readable by the <code class="literal">elasticsearch</code> user<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>By default, Elasticsearch runs inside the container as user <code class="literal">elasticsearch</code> using
uid:gid <code class="literal">1000:0</code>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>One exception is <a href="https://docs.openshift.com/container-platform/3.6/creating_images/guidelines.html#openshift-specific-guidelines" class="ulink" target="_top">Openshift</a>,
which runs containers using an arbitrarily assigned user ID.
Openshift presents persistent volumes with the gid set to <code class="literal">0</code>, which works without any adjustments.</p>
</div>
</div>
<p>If you are bind-mounting a local directory or file, it must be readable by the <code class="literal">elasticsearch</code> user.
In addition, this user must have write access to the <a class="xref" href="important-settings.html#path-settings" title="Path settings">data and log dirs</a>.
A good strategy is to grant group access to gid <code class="literal">0</code> for the local directory.</p>
<p>For example, to prepare a local directory for storing data through a bind-mount:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">mkdir esdatadir
chmod g+rwx esdatadir
chgrp 0 esdatadir</pre>
</div>
<p>As a last resort, you can force the container to mutate the ownership of
any bind-mounts used for the <a class="xref" href="important-settings.html#path-settings" title="Path settings">data and log dirs</a> through the
environment variable <code class="literal">TAKE_FILE_OWNERSHIP</code>. When you do this, they will be owned by
uid:gid <code class="literal">1000:0</code>, which provides the required read/write access to the Elasticsearch process.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_increase_ulimits_for_nofile_and_nproc"></a>Increase ulimits for nofile and nproc<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>Increased ulimits for <a class="xref" href="system-config.html#setting-system-settings" title="Configuring system settings">nofile</a> and <a class="xref" href="bootstrap-checks.html#max-number-threads-check" title="Maximum number of threads check">nproc</a>
must be available for the Elasticsearch containers.
Verify the <a href="https://github.com/moby/moby/tree/ea4d1243953e6b652082305a9c3cda8656edab26/contrib/init" class="ulink" target="_top">init system</a>
for the Docker daemon sets them to acceptable values.</p>
<p>To check the Docker daemon defaults for ulimits, run:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker run --rm centos:8 /bin/bash -c 'ulimit -Hn &amp;&amp; ulimit -Sn &amp;&amp; ulimit -Hu &amp;&amp; ulimit -Su'</pre>
</div>
<p>If needed, adjust them in the Daemon or override them per container.
For example, when using <code class="literal">docker run</code>, set:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">--ulimit nofile=65535:65535</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_disable_swapping"></a>Disable swapping<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>Swapping needs to be disabled for performance and node stability.
For information about ways to do this, see <a class="xref" href="system-config.html#setup-configuration-memory" title="Disable swapping">Disable swapping</a>.</p>
<p>If you opt for the <code class="literal">bootstrap.memory_lock: true</code> approach,
you also need to define the <code class="literal">memlock: true</code> ulimit in the
<a href="https://docs.docker.com/engine/reference/commandline/dockerd/#default-ulimits" class="ulink" target="_top">Docker Daemon</a>,
or explicitly set for the container as shown in the  <a class="xref" href="install-elasticsearch.html#docker-compose-file" title="Starting a multi-node cluster with Docker Compose">sample compose file</a>.
When using <code class="literal">docker run</code>, you can specify:</p>
<pre class="literallayout">-e "bootstrap.memory_lock=true" --ulimit memlock=-1:-1</pre>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_randomize_published_ports"></a>Randomize published ports<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>The image <a href="https://docs.docker.com/engine/reference/builder/#/expose" class="ulink" target="_top">exposes</a>
TCP ports 9200 and 9300. For production clusters, randomizing the
published ports with <code class="literal">--publish-all</code> is recommended,
unless you are pinning one container per host.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="docker-set-heap-size"></a>Set the heap size<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure the heap size, you can bind mount a <a class="xref" href="settings.html#jvm-options" title="Setting JVM options">JVM options</a>
file under <code class="literal">/usr/share/elasticsearch/config/jvm.options.d</code> that includes your
desired <a class="xref" href="redirects.html#heap-size" title="Heap size settings">heap size</a> settings. Note that while the default root
<code class="literal">jvm.options</code> file sets a default heap of 1 GB, any value you set in a
bind-mounted JVM options file will override it.</p>
<p>While setting the heap size via bind-mounted JVM options is the recommended
method, you can also configure this by using the <code class="literal">ES_JAVA_OPTS</code> environment
variable to set the heap size. For example, to use 16 GB, specify
<code class="literal">-e ES_JAVA_OPTS="-Xms16g -Xmx16g"</code> with <code class="literal">docker run</code>. Note that while the
default root <code class="literal">jvm.options</code> file sets a default heap of 1 GB, any value you set
in <code class="literal">ES_JAVA_OPTS</code> will override it. The <code class="literal">docker-compose.yml</code> file above sets the heap size to 512 MB.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must <a class="xref" href="redirects.html#heap-size" title="Heap size settings">configure the heap size</a> even if you are
<a href="https://docs.docker.com/config/containers/resource_constraints/#limit-a-containers-access-to-memory" class="ulink" target="_top">limiting
memory access</a> to the container.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_pin_deployments_to_a_specific_image_version"></a>Pin deployments to a specific image version<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>Pin your deployments to a specific version of the Elasticsearch Docker image. For
example <code class="literal">docker.elastic.co/elasticsearch/elasticsearch:7.10.2</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_always_bind_data_volumes"></a>Always bind data volumes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>You should use a volume bound on <code class="literal">/usr/share/elasticsearch/data</code> for the following reasons:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
The data of your Elasticsearch node won&#8217;t be lost if the container is killed
</li>
<li class="listitem">
Elasticsearch is I/O sensitive and the Docker storage driver is not ideal for fast I/O
</li>
<li class="listitem">
It allows the use of advanced
<a href="https://docs.docker.com/engine/extend/plugins/#volume-plugins" class="ulink" target="_top">Docker volume plugins</a>
</li>
</ol>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_avoid_using_loop_lvm_mode"></a>Avoid using <code class="literal">loop-lvm</code> mode<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>If you are using the devicemapper storage driver, do not use the default <code class="literal">loop-lvm</code> mode.
Configure docker-engine to use
<a href="https://docs.docker.com/engine/userguide/storagedriver/device-mapper-driver/#configure-docker-with-devicemapper" class="ulink" target="_top">direct-lvm</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_centralize_your_logs"></a>Centralize your logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>Consider centralizing your logs by using a different
<a href="https://docs.docker.com/engine/admin/logging/overview/" class="ulink" target="_top">logging driver</a>. Also
note that the default json-file logging driver is not ideally suited for
production use.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="docker-configuration-methods"></a>Configuring Elasticsearch with Docker<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h3>
</div></div></div>
<p>When you run in Docker, the <a class="xref" href="settings.html#config-files-location" title="Config files location">Elasticsearch configuration files</a> are loaded from
<code class="literal">/usr/share/elasticsearch/config/</code>.</p>
<p>To use custom configuration files, you <a class="xref" href="install-elasticsearch.html#docker-config-bind-mount" title="Mounting Elasticsearch configuration files">bind-mount the files</a>
over the configuration files in the image.</p>
<p>You can set individual Elasticsearch configuration parameters using Docker environment variables.
The <a class="xref" href="install-elasticsearch.html#docker-compose-file" title="Starting a multi-node cluster with Docker Compose">sample compose file</a> and the
<a class="xref" href="install-elasticsearch.html#docker-cli-run-dev-mode" title="Starting a single node cluster with Docker">single-node example</a> use this method.</p>
<p>To use the contents of a file to set an environment variable, suffix the environment
variable name with <code class="literal">_FILE</code>. This is useful for passing secrets such as passwords to Elasticsearch
without specifying them directly.</p>
<p>For example, to set the Elasticsearch bootstrap password from a file, you can bind mount the
file and set the <code class="literal">ELASTIC_PASSWORD_FILE</code> environment variable to the mount location.
If you mount the password file to <code class="literal">/run/secrets/bootstrapPassword.txt</code>, specify:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">-e ELASTIC_PASSWORD_FILE=/run/secrets/bootstrapPassword.txt</pre>
</div>
<p>You can also override the default command for the image to pass Elasticsearch configuration
parameters as command line options. For example:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker run &lt;various parameters&gt; bin/elasticsearch -Ecluster.name=mynewclustername</pre>
</div>
<p>While bind-mounting your configuration files is usually the preferred method in production,
you can also <a class="xref" href="install-elasticsearch.html#_c_customized_image" title="Using custom Docker images">create a custom Docker image</a>
that contains your configuration.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="docker-config-bind-mount"></a>Mounting Elasticsearch configuration files<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>Create custom config files and bind-mount them over the corresponding files in the Docker image.
For example, to bind-mount <code class="literal">custom_elasticsearch.yml</code> with <code class="literal">docker run</code>, specify:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">-v full_path_to/custom_elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The container <span class="strong strong"><strong>runs Elasticsearch as user <code class="literal">elasticsearch</code> using
uid:gid <code class="literal">1000:0</code></strong></span>. Bind mounted host directories and files must be accessible by this user,
and the data and log directories must be writable by this user.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="docker-keystore-bind-mount"></a>Mounting an Elasticsearch keystore<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>By default, Elasticsearch will auto-generate a keystore file for secure settings. This
file is obfuscated but not encrypted. If you want to encrypt your
<a class="xref" href="settings.html#secure-settings" title="Secure settings">secure settings</a> with a password, you must use the
<code class="literal">elasticsearch-keystore</code> utility to create a password-protected keystore and
bind-mount it to the container as
<code class="literal">/usr/share/elasticsearch/config/elasticsearch.keystore</code>. In order to provide
the Docker container with the password at startup, set the Docker environment
value <code class="literal">KEYSTORE_PASSWORD</code> to the value of your password. For example, a <code class="literal">docker
run</code> command might have the following options:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">-v full_path_to/elasticsearch.keystore:/usr/share/elasticsearch/config/elasticsearch.keystore
-E KEYSTORE_PASSWORD=mypassword</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_c_customized_image"></a>Using custom Docker images<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/docker.asciidoc">edit</a></h4>
</div></div></div>
<p>In some environments, it might make more sense to prepare a custom image that contains
your configuration. A <code class="literal">Dockerfile</code> to achieve this might be as simple as:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">FROM docker.elastic.co/elasticsearch/elasticsearch:7.10.2
COPY --chown=elasticsearch:elasticsearch elasticsearch.yml /usr/share/elasticsearch/config/</pre>
</div>
<p>You could then build and run the image with:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker build --tag=elasticsearch-custom .
docker run -ti -v /usr/share/elasticsearch/data elasticsearch-custom</pre>
</div>
<p>Some plugins require additional security permissions.
You must explicitly accept them either by:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Attaching a <code class="literal">tty</code> when you run the Docker image and allowing the permissions when prompted.
</li>
<li class="listitem">
Inspecting the security permissions and accepting them (if appropriate) by adding the <code class="literal">--batch</code> flag to the plugin install command.
</li>
</ul>
</div>
<p>See <a href="https://www.elastic.co/guide/en/elasticsearch/plugins/7.10/_other_command_line_parameters.html" class="ulink" target="_top">Plugin management</a>
for more information.</p>
</div>

</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps_6"></a>Next steps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up.  Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important System Configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="brew"></a>Install Elasticsearch on macOS with Homebrew<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/brew.asciidoc">edit</a></h2>
</div></div></div>
<p>Elastic publishes Homebrew formulae so you can install Elasticsearch with the
<a href="https://brew.sh/" class="ulink" target="_top">Homebrew</a> package manager.</p>
<p>To install with Homebrew, you first need to tap the
Elastic Homebrew repository:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">brew tap elastic/tap</pre>
</div>
<p>Once you&#8217;ve tapped the Elastic Homebrew repo, you can use <code class="literal">brew install</code> to
install the <span class="strong strong"><strong>latest version</strong></span> of Elasticsearch:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">brew install elastic/tap/elasticsearch-full</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="brew-layout"></a>Directory layout for Homebrew installs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/brew.asciidoc">edit</a></h3>
</div></div></div>
<p>When you install Elasticsearch with <code class="literal">brew install</code> the config files, logs,
and data directory are stored in the following locations.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Default Location</th>
<th align="left" valign="top">Setting</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Elasticsearch home directory or <code class="literal">$ES_HOME</code></p></td>
<td align="left" valign="top"><p><code class="literal">/usr/local/var/homebrew/linked/elasticsearch-full</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>Binary scripts including <code class="literal">elasticsearch</code> to start a node
    and <code class="literal">elasticsearch-plugin</code> to install plugins</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/local/var/homebrew/linked/elasticsearch-full/bin</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Configuration files including <code class="literal">elasticsearch.yml</code></p></td>
<td align="left" valign="top"><p><code class="literal">/usr/local/etc/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal"><a class="xref" href="settings.html#config-files-location" title="Config files location">ES_PATH_CONF</a></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location of the data files of each index / shard allocated
    on the node. Can hold multiple locations.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/local/var/lib/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.data</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>Log files location.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/local/var/log/elasticsearch</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.logs</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>plugins</strong></span></p></td>
<td align="left" valign="top"><p>Plugin files location. Each plugin will be contained in a subdirectory.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/local/var/homebrew/linked/elasticsearch/plugins</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps_7"></a>Next steps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up.  Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important System Configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="setup.html">« Set up Elasticsearch</a>
</span>
<span class="next">
<a href="settings.html">Configuring Elasticsearch »</a>
</span>
</div>
</div>
</body>
</html>
