<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<meta name="keywords" content="hot-spotting, hotspot, hot-spot, hot spot, hotspots, hotspotting">
<title>Cluster APIs | Elasticsearch Guide | Elastic</title>
<meta class="elastic" name="content" content="Cluster APIs | Elasticsearch Guide">

<link rel="home" href="index.html" title="Elasticsearch Guide"/>
<link rel="up" href="rest-apis.html" title="REST APIs"/>
<link rel="prev" href="cat.html" title="Compact and aligned text (CAT) APIs"/>
<link rel="next" href="ccr-apis.html" title="Cross-cluster replication APIs"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="cat.html">« Compact and aligned text (CAT) APIs</a>
</span>
<span class="next">
<a href="ccr-apis.html">Cross-cluster replication APIs »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster"></a>Cluster APIs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="cluster-nodes"></a>Node specification<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster.asciidoc">edit</a></h3>
<p>Some cluster-level APIs may operate on a subset of the nodes which can be
specified with <em>node filters</em>. For example, the <a class="xref" href="cluster.html#tasks" title="Task management API">Task Management</a>,
<a class="xref" href="cluster.html#cluster-nodes-stats" title="Nodes stats API">Nodes Stats</a>, and <a class="xref" href="cluster.html#cluster-nodes-info" title="Nodes info API">Nodes Info</a> APIs
can all report results from a filtered set of nodes rather than from all nodes.</p>
<p><em>Node filters</em> are written as a comma-separated list of individual filters,
each of which adds or removes nodes from the chosen subset. Each filter can be
one of the following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">_all</code>, to add all nodes to the subset.
</li>
<li class="listitem">
<code class="literal">_local</code>, to add the local node to the subset.
</li>
<li class="listitem">
<code class="literal">_master</code>, to add the currently-elected master node to the subset.
</li>
<li class="listitem">
a node id or name, to add this node to the subset.
</li>
<li class="listitem">
an IP address or hostname, to add all matching nodes to the subset.
</li>
<li class="listitem">
a pattern, using <code class="literal">*</code> wildcards, which adds all nodes to the subset
whose name, address or hostname matches the pattern.
</li>
<li class="listitem">
<code class="literal">master:true</code>, <code class="literal">data:true</code>, <code class="literal">ingest:true</code>, <code class="literal">voting_only:true</code>, <code class="literal">ml:true</code>, or
<code class="literal">coordinating_only:true</code>, which respectively add to the subset all
master-eligible nodes, all data nodes, all ingest nodes, all voting-only
nodes, all machine learning nodes, and all coordinating-only nodes.
</li>
<li class="listitem">
<code class="literal">master:false</code>, <code class="literal">data:false</code>, <code class="literal">ingest:false</code>, <code class="literal">voting_only:false</code>, <code class="literal">ml:false</code>,
or <code class="literal">coordinating_only:false</code>, which respectively remove from the subset all
master-eligible nodes, all data nodes, all ingest nodes, all voting-only
nodes, all machine learning nodes, and all coordinating-only nodes.
</li>
<li class="listitem">
a pair of patterns, using <code class="literal">*</code> wildcards, of the form <code class="literal">attrname:attrvalue</code>,
which adds to the subset all nodes with a custom node attribute whose name
and value match the respective patterns. Custom node attributes are
configured by setting properties in the configuration file of the form
<code class="literal">node.attr.attrname: attrvalue</code>.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>node filters run in the order in which they are given, which is important
if using filters that remove nodes from the set. For example
<code class="literal">_all,master:false</code> means all the nodes except the master-eligible ones, but
<code class="literal">master:false,_all</code> means the same as <code class="literal">_all</code> because the <code class="literal">_all</code> filter runs
after the <code class="literal">master:false</code> filter.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>if no filters are given, the default is to select all nodes. However, if
any filters are given then they run starting with an empty chosen subset. This
means that filters such as <code class="literal">master:false</code> which remove nodes from the chosen
subset are only useful if they come after some other filters. When used on its
own, <code class="literal">master:false</code> selects no nodes.</p>
</div>
</div>
<p>Here are some examples of the use of node filters with the
<a class="xref" href="cluster.html#cluster-nodes-info" title="Nodes info API">Nodes Info</a> APIs.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console"># If no filters are given, the default is to select all nodes
GET /_nodes
# Explicitly select all nodes
GET /_nodes/_all
# Select just the local node
GET /_nodes/_local
# Select the elected master node
GET /_nodes/_master
# Select nodes by name, which can include wildcards
GET /_nodes/node_name_goes_here
GET /_nodes/node_name_goes_*
# Select nodes by address, which can include wildcards
GET /_nodes/10.0.0.3,10.0.0.4
GET /_nodes/10.0.0.*
# Select nodes by role
GET /_nodes/_all,master:false
GET /_nodes/data:true,ingest:true
GET /_nodes/coordinating_only:true
GET /_nodes/master:true,voting_only:false
# Select nodes by custom attribute (e.g. with something like `node.attr.rack: 2` in the configuration file)
GET /_nodes/rack:2
GET /_nodes/ra*:2
GET /_nodes/ra*:2*</pre>
</div>
<div class="console_widget" data-snippet="snippets/2148.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-allocation-explain"></a>Cluster allocation explain API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h2>
</div></div></div>

<p>Provides an explanation for a shard&#8217;s current allocation.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _cluster/allocation/explain
{
  "index": "my-index-000001",
  "shard": 0,
  "primary": false,
  "current_node": "my-node"
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2149.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-allocation-explain-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET _cluster/allocation/explain</code></p>
<p><code class="literal">POST _cluster/allocation/explain</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-allocation-explain-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-allocation-explain-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h3>
</div></div></div>
<p>The purpose of the cluster allocation explain API is to provide
explanations for shard allocations in the cluster. For unassigned shards,
the explain API provides an explanation for why the shard is unassigned.
For assigned shards, the explain API provides an explanation for why the
shard is remaining on its current node and has not moved or rebalanced to
another node. This API can be very useful when attempting to diagnose why a
shard is unassigned or why a shard continues to remain on its current node when
you might expect otherwise.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-allocation-explain-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">include_disk_info</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns information about disk usage and
shard sizes. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">include_yes_decisions</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns <em>YES</em> decisions in explanation.
Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-allocation-explain-api-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_node</code>
</span>
</dt>
<dd>
(Optional, string) Specifies the node ID or the name of the node currently
holding the shard to explain. To explain an unassigned shard, omit this
parameter.
</dd>
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Optional, string) Specifies the name of the index that you would like an
explanation for.
</dd>
<dt>
<span class="term">
<code class="literal">primary</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns explanation for the primary shard
for the given shard ID.
</dd>
<dt>
<span class="term">
<code class="literal">shard</code>
</span>
</dt>
<dd>
(Optional, integer) Specifies the ID of the shard that you would like an
explanation for.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-allocation-explain-api-examples"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_unassigned_primary_shard"></a>Unassigned primary shard<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h4>
</div></div></div>
<p>The following request gets an allocation explanation for an unassigned primary
shard.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _cluster/allocation/explain
{
  "index": "my-index-000001",
  "shard": 0,
  "primary": true
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2150.console"></div>
<p>The API response indicates the shard can only be allocated to a nonexistent
node.</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "index" : "my-index-000001",
  "shard" : 0,
  "primary" : true,
  "current_state" : "unassigned",                 <a id="CO675-1"></a><i class="conum" data-value="1"></i>
  "unassigned_info" : {
    "reason" : "INDEX_CREATED",                   <a id="CO675-2"></a><i class="conum" data-value="2"></i>
    "at" : "2017-01-04T18:08:16.600Z",
    "last_allocation_status" : "no"
  },
  "can_allocate" : "no",                          <a id="CO675-3"></a><i class="conum" data-value="3"></i>
  "allocate_explanation" : "Elasticsearch isn't allowed to allocate this shard to any of the nodes in the cluster. Choose a node to which you expect this shard to be allocated, find this node in the node-by-node explanation, and address the reasons which prevent Elasticsearch from allocating this shard there.",
  "node_allocation_decisions" : [
    {
      "node_id" : "8qt2rY-pT6KNZB3-hGfLnw",
      "node_name" : "node-0",
      "transport_address" : "127.0.0.1:9401",
      "node_attributes" : {},
      "node_decision" : "no",                     <a id="CO675-4"></a><i class="conum" data-value="4"></i>
      "weight_ranking" : 1,
      "deciders" : [
        {
          "decider" : "filter",                   <a id="CO675-5"></a><i class="conum" data-value="5"></i>
          "decision" : "NO",
          "explanation" : "node does not match index setting [index.routing.allocation.include] filters [_name:\"nonexistent_node\"]"  <a id="CO675-6"></a><i class="conum" data-value="6"></i>
        }
      ]
    }
  ]
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO675-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The current state of the shard.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO675-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The reason for the shard originally becoming unassigned.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO675-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Whether to allocate the shard.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO675-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>Whether to allocate the shard to the particular node.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO675-5"><i class="conum" data-value="5"></i></a></p>
</td>
<td align="left" valign="top">
<p>The decider which led to the <code class="literal">no</code> decision for the node.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO675-6"><i class="conum" data-value="6"></i></a></p>
</td>
<td align="left" valign="top">
<p>An explanation as to why the decider returned a <code class="literal">no</code> decision, with a helpful hint pointing to the setting that led to the decision.</p>
</td>
</tr>
</table>
</div>
<p>The following response contains an allocation explanation for an unassigned
primary shard that was previously allocated.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "index" : "my-index-000001",
  "shard" : 0,
  "primary" : true,
  "current_state" : "unassigned",
  "unassigned_info" : {
    "reason" : "NODE_LEFT",
    "at" : "2017-01-04T18:03:28.464Z",
    "details" : "node_left[OIWe8UhhThCK0V5XfmdrmQ]",
    "last_allocation_status" : "no_valid_shard_copy"
  },
  "can_allocate" : "no_valid_shard_copy",
  "allocate_explanation" : "Elasticsearch can't allocate this shard because there are no copies of its data in the cluster. Elasticsearch will allocate this shard when a node holding a good copy of its data joins the cluster. If no such node is available, restore this index from a recent snapshot."
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_unassigned_replica_shard"></a>Unassigned replica shard<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h4>
</div></div></div>
<p>The following response contains an allocation explanation for a replica that&#8217;s
unassigned due to <a class="xref" href="index-modules-allocation.html#delayed-allocation" title="Delaying allocation when a node leaves">delayed allocation</a>.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "index" : "my-index-000001",
  "shard" : 0,
  "primary" : false,
  "current_state" : "unassigned",
  "unassigned_info" : {
    "reason" : "NODE_LEFT",
    "at" : "2017-01-04T18:53:59.498Z",
    "details" : "node_left[G92ZwuuaRY-9n8_tc-IzEg]",
    "last_allocation_status" : "no_attempt"
  },
  "can_allocate" : "allocation_delayed",
  "allocate_explanation" : "The node containing this shard copy recently left the cluster. Elasticsearch is waiting for it to return. If the node does not return within [%s] then Elasticsearch will allocate this shard to another node. Please wait.",
  "configured_delay" : "1m",                      <a id="CO676-1"></a><i class="conum" data-value="1"></i>
  "configured_delay_in_millis" : 60000,
  "remaining_delay" : "59.8s",                    <a id="CO676-2"></a><i class="conum" data-value="2"></i>
  "remaining_delay_in_millis" : 59824,
  "node_allocation_decisions" : [
    {
      "node_id" : "pmnHu_ooQWCPEFobZGbpWw",
      "node_name" : "node_t2",
      "transport_address" : "127.0.0.1:9402",
      "node_decision" : "yes"
    },
    {
      "node_id" : "3sULLVJrRneSg0EfBB-2Ew",
      "node_name" : "node_t0",
      "transport_address" : "127.0.0.1:9400",
      "node_decision" : "no",
      "store" : {                                 <a id="CO676-3"></a><i class="conum" data-value="3"></i>
        "matching_size" : "4.2kb",
        "matching_size_in_bytes" : 4325
      },
      "deciders" : [
        {
          "decider" : "same_shard",
          "decision" : "NO",
          "explanation" : "a copy of this shard is already allocated to this node [[my-index-000001][0], node[3sULLVJrRneSg0EfBB-2Ew], [P], s[STARTED], a[id=eV9P8BN1QPqRc3B4PLx6cg]]"
        }
      ]
    }
  ]
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO676-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The configured delay before allocating a replica shard that does not exist due to the node holding it leaving the cluster.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO676-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The remaining delay before allocating the replica shard.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO676-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Information about the shard data found on a node.</p>
</td>
</tr>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_assigned_shard"></a>Assigned shard<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h4>
</div></div></div>
<p>The following response contains an allocation explanation for an assigned shard.
The response indicates the shard is not allowed to remain on its current node
and must be reallocated.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "index" : "my-index-000001",
  "shard" : 0,
  "primary" : true,
  "current_state" : "started",
  "current_node" : {
    "id" : "8lWJeJ7tSoui0bxrwuNhTA",
    "name" : "node_t1",
    "transport_address" : "127.0.0.1:9401"
  },
  "can_remain_on_current_node" : "no",            <a id="CO677-1"></a><i class="conum" data-value="1"></i>
  "can_remain_decisions" : [                      <a id="CO677-2"></a><i class="conum" data-value="2"></i>
    {
      "decider" : "filter",
      "decision" : "NO",
      "explanation" : "node does not match index setting [index.routing.allocation.include] filters [_name:\"nonexistent_node\"]"
    }
  ],
  "can_move_to_other_node" : "no",                <a id="CO677-3"></a><i class="conum" data-value="3"></i>
  "move_explanation" : "This shard may not remain on its current node, but Elasticsearch isn't allowed to move it to another node. Choose a node to which you expect this shard to be allocated, find this node in the node-by-node explanation, and address the reasons which prevent Elasticsearch from allocating this shard there.",
  "node_allocation_decisions" : [
    {
      "node_id" : "_P8olZS8Twax9u6ioN-GGA",
      "node_name" : "node_t0",
      "transport_address" : "127.0.0.1:9400",
      "node_decision" : "no",
      "weight_ranking" : 1,
      "deciders" : [
        {
          "decider" : "filter",
          "decision" : "NO",
          "explanation" : "node does not match index setting [index.routing.allocation.include] filters [_name:\"nonexistent_node\"]"
        }
      ]
    }
  ]
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO677-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Whether the shard is allowed to remain on its current node.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO677-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The deciders that factored into the decision of why the shard is not allowed to remain on its current node.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO677-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Whether the shard is allowed to be allocated to another node.</p>
</td>
</tr>
</table>
</div>
<p>The following response contains an allocation explanation for a shard that must
remain on its current node. Moving the shard to another node would not improve
cluster balance.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "index" : "my-index-000001",
  "shard" : 0,
  "primary" : true,
  "current_state" : "started",
  "current_node" : {
    "id" : "wLzJm4N4RymDkBYxwWoJsg",
    "name" : "node_t0",
    "transport_address" : "127.0.0.1:9400",
    "weight_ranking" : 1
  },
  "can_remain_on_current_node" : "yes",
  "can_rebalance_cluster" : "yes",                <a id="CO678-1"></a><i class="conum" data-value="1"></i>
  "can_rebalance_to_other_node" : "no",           <a id="CO678-2"></a><i class="conum" data-value="2"></i>
  "rebalance_explanation" : "Elasticsearch cannot rebalance this shard to another node since there is no node to which allocation is permitted which would improve the cluster balance. If you expect this shard to be rebalanced to another node, find this node in the node-by-node explanation and address the reasons which prevent Elasticsearch from rebalancing this shard there.",
  "node_allocation_decisions" : [
    {
      "node_id" : "oE3EGFc8QN-Tdi5FFEprIA",
      "node_name" : "node_t1",
      "transport_address" : "127.0.0.1:9401",
      "node_decision" : "worse_balance",          <a id="CO678-3"></a><i class="conum" data-value="3"></i>
      "weight_ranking" : 1
    }
  ]
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO678-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Whether rebalancing is allowed on the cluster.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO678-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Whether the shard can be rebalanced to another node.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO678-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>The reason the shard cannot be rebalanced to the node, in this case indicating that it offers no better balance than the current node.</p>
</td>
</tr>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_no_arguments"></a>No arguments<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/allocation-explain.asciidoc">edit</a></h4>
</div></div></div>
<p>If you call the API with no arguments, Elasticsearch retrieves an allocation explanation
for an arbitrary unassigned primary or replica shard.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _cluster/allocation/explain</pre>
</div>
<div class="console_widget" data-snippet="snippets/2151.console"></div>
<p>If the cluster contains no unassigned shards, the API returns a <code class="literal">400</code> error.</p>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-get-settings"></a>Cluster get settings API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-settings.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns cluster-wide settings.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_cluster/settings</pre>
</div>
<div class="console_widget" data-snippet="snippets/2152.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-get-settings-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-settings.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-get-settings-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-settings.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_cluster/settings</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-get-settings-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-settings.asciidoc">edit</a></h3>
</div></div></div>
<p>By default, this API call only returns settings that have been explicitly
defined, but can also include the default settings by calling the
<code class="literal">include_defaults</code> parameter.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-get-settings-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-settings.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">flat_settings</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns settings in flat format. Defaults to
<code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">include_defaults</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns default cluster settings from the local node.
Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-health"></a>Cluster health API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/health.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns the health status of a cluster.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-health-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/health.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_cluster/health/&lt;target&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-health-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-health-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/health.asciidoc">edit</a></h3>
</div></div></div>
<p>The cluster health API returns a simple status on the health of the
cluster. You can also use the API to get the health status of only specified
data streams and indices. For data streams, the API retrieves the health status
of the stream&#8217;s backing indices.</p>
<p>The cluster health status is: <code class="literal">green</code>, <code class="literal">yellow</code> or <code class="literal">red</code>. On the shard level, a
<code class="literal">red</code> status indicates that the specific shard is not allocated in the cluster,
<code class="literal">yellow</code> means that the primary shard is allocated but replicas are not, and
<code class="literal">green</code> means that all shards are allocated. The index level status is
controlled by the worst shard status. The cluster status is controlled by the
worst index status.</p>
<p>One of the main benefits of the API is the ability to wait until the cluster
reaches a certain high water-mark health level. For example, the following will
wait for 50 seconds for the cluster to reach the <code class="literal">yellow</code> level (if it reaches
the <code class="literal">green</code> or <code class="literal">yellow</code> status before 50 seconds elapse, it will return at that
point):</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_cluster/health?wait_for_status=yellow&amp;timeout=50s</pre>
</div>
<div class="console_widget" data-snippet="snippets/2153.console"></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-health-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;target&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Comma-separated list of data streams, indices, and index aliases used to limit
the request. Wildcard expressions (<code class="literal">*</code>) are supported.
</p>
<p>To target all data streams and indices in a cluster, omit this parameter or use
<code class="literal">_all</code> or <code class="literal">*</code>.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-health-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">level</code>
</span>
</dt>
<dd>
(Optional, string) Can be one of <code class="literal">cluster</code>, <code class="literal">indices</code> or <code class="literal">shards</code>. Controls
the details level of the health information returned. Defaults to <code class="literal">cluster</code>.
</dd>
<dt>
<span class="term">
<code class="literal">local</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the request retrieves information from the local
node only. Defaults to <code class="literal">false</code>, which means information is retrieved from
the master node.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_active_shards</code>
</span>
</dt>
<dd>
(Optional, string) A number controlling to how many active shards to wait
for, <code class="literal">all</code> to wait for all shards in the cluster to be active, or <code class="literal">0</code> to not
wait. Defaults to <code class="literal">0</code>.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_events</code>
</span>
</dt>
<dd>
(Optional, string) Can be one of <code class="literal">immediate</code>, <code class="literal">urgent</code>, <code class="literal">high</code>, <code class="literal">normal</code>,
<code class="literal">low</code>, <code class="literal">languid</code>. Wait until all currently queued events with the given
priority are processed.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_no_initializing_shards</code>
</span>
</dt>
<dd>
(Optional, Boolean) A boolean value which controls whether to wait (until
the timeout provided) for the cluster to have no shard initializations.
Defaults to false, which means it will not wait for initializing shards.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_no_relocating_shards</code>
</span>
</dt>
<dd>
(Optional, Boolean) A boolean value which controls whether to wait (until
the timeout provided) for the cluster to have no shard relocations. Defaults
to false, which means it will not wait for relocating shards.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_nodes</code>
</span>
</dt>
<dd>
(Optional, string) The request waits until the specified number <code class="literal">N</code> of
nodes is available. It also accepts <code class="literal">&gt;=N</code>, <code class="literal">&lt;=N</code>, <code class="literal">&gt;N</code> and <code class="literal">&lt;N</code>.
Alternatively, it is possible to use <code class="literal">ge(N)</code>, <code class="literal">le(N)</code>, <code class="literal">gt(N)</code> and
<code class="literal">lt(N)</code> notation.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_status</code>
</span>
</dt>
<dd>
(Optional, string) One of <code class="literal">green</code>, <code class="literal">yellow</code> or <code class="literal">red</code>. Will wait (until the
timeout provided) until the status of the cluster changes to the one
provided or better, i.e. <code class="literal">green</code> &gt; <code class="literal">yellow</code> &gt; <code class="literal">red</code>. By default, will not
wait for any status.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-health-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cluster_name</code>
</span>
</dt>
<dd>
(string) The name of the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">status</code>
</span>
</dt>
<dd>
<p>
(string)
Health status of the cluster, based on the state of its primary and replica
shards. Statuses are:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">green</code>:
All shards are assigned.
</li>
<li class="listitem">
<code class="literal">yellow</code>:
All primary shards are assigned, but one or more replica shards are
unassigned. If a node in the cluster fails, some data could be unavailable
until that node is repaired.
</li>
<li class="listitem">
<code class="literal">red</code>:
One or more primary shards are unassigned, so some data is unavailable. This
can occur briefly during cluster startup as primary shards are assigned.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">timed_out</code>
</span>
</dt>
<dd>
(Boolean) If <code class="literal">false</code> the response returned within the period of
time that is specified by the <code class="literal">timeout</code> parameter (<code class="literal">30s</code> by default).
</dd>
<dt>
<span class="term">
<code class="literal">number_of_nodes</code>
</span>
</dt>
<dd>
(integer) The number of nodes within the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">number_of_data_nodes</code>
</span>
</dt>
<dd>
(integer) The number of nodes that are dedicated data nodes.
</dd>
<dt>
<span class="term">
<code class="literal">active_primary_shards</code>
</span>
</dt>
<dd>
(integer) The number of active primary shards.
</dd>
<dt>
<span class="term">
<code class="literal">active_shards</code>
</span>
</dt>
<dd>
(integer) The total number of active primary and replica shards.
</dd>
<dt>
<span class="term">
<code class="literal">relocating_shards</code>
</span>
</dt>
<dd>
(integer) The number of shards that are under relocation.
</dd>
<dt>
<span class="term">
<code class="literal">initializing_shards</code>
</span>
</dt>
<dd>
(integer) The number of shards that are under initialization.
</dd>
<dt>
<span class="term">
<code class="literal">unassigned_shards</code>
</span>
</dt>
<dd>
(integer) The number of shards that are not allocated.
</dd>
<dt>
<span class="term">
<code class="literal">delayed_unassigned_shards</code>
</span>
</dt>
<dd>
(integer) The number of shards whose allocation has been delayed by the
timeout settings.
</dd>
<dt>
<span class="term">
<code class="literal">number_of_pending_tasks</code>
</span>
</dt>
<dd>
(integer) The number of cluster-level changes that have not yet been
executed.
</dd>
<dt>
<span class="term">
<code class="literal">number_of_in_flight_fetch</code>
</span>
</dt>
<dd>
(integer) The number of unfinished fetches.
</dd>
<dt>
<span class="term">
<code class="literal">task_max_waiting_in_queue_millis</code>
</span>
</dt>
<dd>
(integer) The time expressed in milliseconds since the earliest initiated task
is waiting for being performed.
</dd>
<dt>
<span class="term">
<code class="literal">active_shards_percent_as_number</code>
</span>
</dt>
<dd>
(float) The ratio of active shards in the cluster expressed as a percentage.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-health-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _cluster/health</pre>
</div>
<div class="console_widget" data-snippet="snippets/2154.console"></div>
<p>The API returns the following response in case of a quiet single node cluster
with a single index with one shard and one replica:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "cluster_name" : "testcluster",
  "status" : "yellow",
  "timed_out" : false,
  "number_of_nodes" : 1,
  "number_of_data_nodes" : 1,
  "active_primary_shards" : 1,
  "active_shards" : 1,
  "relocating_shards" : 0,
  "initializing_shards" : 0,
  "unassigned_shards" : 1,
  "delayed_unassigned_shards": 0,
  "number_of_pending_tasks" : 0,
  "number_of_in_flight_fetch": 0,
  "task_max_waiting_in_queue_millis": 0,
  "active_shards_percent_as_number": 50.0
}</pre>
</div>
<p>The following is an example of getting the cluster health at the
<code class="literal">shards</code> level:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_cluster/health/my-index-000001?level=shards</pre>
</div>
<div class="console_widget" data-snippet="snippets/2155.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="health-api"></a>Health API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h2>
</div></div></div>

<p>An API that reports the health status of an Elasticsearch cluster.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_health_report</code><br></p>
<p><code class="literal">GET /_health_report/&lt;indicator&gt;</code><br></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<p>The health API returns a report with the health status of an Elasticsearch cluster. The report
contains a list of indicators that compose Elasticsearch functionality.</p>
<p>Each indicator has a health status of: <code class="literal">green</code>, <code class="literal">unknown</code>, <code class="literal">yellow</code> or <code class="literal">red</code>. The indicator will
provide an explanation and metadata describing the reason for its current health status.</p>
<p>The cluster&#8217;s status is controlled by the worst indicator status.</p>
<p>In the event that an indicator&#8217;s status is non-green, a list of impacts may be present in the
indicator result which detail the functionalities that are negatively affected by the health issue.
Each impact carries with it a severity level, an area of the system that is affected, and a simple
description of the impact on the system.</p>
<p>Some health indicators can determine the root cause of a health problem and prescribe a set of
steps that can be performed in order to improve the health of the system. The root cause and remediation
steps are encapsulated in a <code class="literal">diagnosis</code>.
A diagnosis contains a cause detailing a root cause analysis, an action containing a brief description
of the steps to take to fix the problem, the list of affected resources (if applicable), and a detailed
step-by-step troubleshooting guide to fix the diagnosed problem.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The health indicators perform root cause analysis of non-green health statuses. This can
be computationally expensive when called frequently. When setting up automated polling of the API
for health status set <code class="literal">verbose</code> to <code class="literal">false</code> to disable the more expensive analysis logic.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;indicator&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Limit the information returned to
a specific indicator. Supported indicators are:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">master_is_stable</code>
</span>
</dt>
<dd>
Reports health issues regarding
the stability of the node that is seen as the master by the node handling
the health request. In case of enough observed master changes in a short period of time
this indicator will aim to diagnose and report back useful information
regarding the cluster formation issues it detects.
</dd>
<dt>
<span class="term">
<code class="literal">shards_availability</code>
</span>
</dt>
<dd>
Reports health issues regarding shard assignments.
</dd>
<dt>
<span class="term">
<code class="literal">disk</code>
</span>
</dt>
<dd>
Reports health issues caused by lack of disk space.
</dd>
<dt>
<span class="term">
<code class="literal">ilm</code>
</span>
</dt>
<dd>
Reports health issues related to
Indexing Lifecycle Management.
</dd>
<dt>
<span class="term">
<code class="literal">repository_integrity</code>
</span>
</dt>
<dd>
Tracks repository integrity and reports health issues
that arise if repositories become corrupted.
</dd>
<dt>
<span class="term">
<code class="literal">slm</code>
</span>
</dt>
<dd>
Reports health issues related to
Snapshot Lifecycle Management.
</dd>
<dt>
<span class="term">
<code class="literal">shards_capacity</code>
</span>
</dt>
<dd>
Reports health issues related to the shards
capacity of the cluster.
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">verbose</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the response includes additional details that help explain the status of each non-green indicator.
These details include additional troubleshooting metrics and sometimes a root cause analysis of a health status.
Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(Optional, integer) The maximum number of affected resources to return.
As a diagnosis can return multiple types of affected resources this parameter will limit the number of resources returned for each type to the configured value (e.g. a diagnosis could return
<code class="literal">1000</code> affected indices and <code class="literal">1000</code> affected nodes).
Defaults to <code class="literal">1000</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cluster_name</code>
</span>
</dt>
<dd>
(string) The name of the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">status</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Health status of the cluster, based on the aggregated status of all indicators
in the cluster. If the health of a specific indicator is being requested, this top
level status will be omitted. Statuses are:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">green</code>
</span>
</dt>
<dd>
The cluster is healthy.
</dd>
<dt>
<span class="term">
<code class="literal">unknown</code>
</span>
</dt>
<dd>
The health of the cluster could not be determined.
</dd>
<dt>
<span class="term">
<code class="literal">yellow</code>
</span>
</dt>
<dd>
The functionality of a cluster is in a degraded state and may need remediation
to avoid the health becoming <code class="literal">red</code>.
</dd>
<dt>
<span class="term">
<code class="literal">red</code>
</span>
</dt>
<dd>
The cluster is experiencing an outage or certain features are unavailable for use.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">indicators</code>
</span>
</dt>
<dd>
<p>
(object) Information about the health of the cluster indicators.
</p>
<details open>
<summary class="title">Properties of <code class="literal">indicators</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;indicator&gt;</code>
</span>
</dt>
<dd>
<p>
(object) Contains health results for an indicator.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;indicator&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">status</code>
</span>
</dt>
<dd>
<p>
(string) Health status of the indicator. Statuses are:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">green</code>
</span>
</dt>
<dd>
The indicator is healthy.
</dd>
<dt>
<span class="term">
<code class="literal">unknown</code>
</span>
</dt>
<dd>
The health of the indicator could not be determined.
</dd>
<dt>
<span class="term">
<code class="literal">yellow</code>
</span>
</dt>
<dd>
The functionality of an indicator is in a degraded state and may need remediation
to avoid the health becoming <code class="literal">red</code>.
</dd>
<dt>
<span class="term">
<code class="literal">red</code>
</span>
</dt>
<dd>
The indicator is experiencing an outage or certain features are unavailable for use.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">symptom</code>
</span>
</dt>
<dd>
(string) A message providing information about the current health status.
</dd>
<dt>
<span class="term">
<code class="literal">details</code>
</span>
</dt>
<dd>
(Optional, object) An object that contains additional information about the cluster that
has lead to the current health status result. This data is unstructured, and each
indicator returns <a class="xref" href="cluster.html#health-api-response-details" title="Indicator Details">a unique set of details</a>. Details will not be calculated if the
<code class="literal">verbose</code> property is set to false.
</dd>
<dt>
<span class="term">
<code class="literal">impacts</code>
</span>
</dt>
<dd>
<p>
(Optional, array) If a non-healthy status is returned, indicators may include a list of
impacts that this health status will have on the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">impacts</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">severity</code>
</span>
</dt>
<dd>
(integer) How important this impact is to the functionality of the cluster. A value of 1
is the highest severity, with larger values indicating lower severity.
</dd>
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
(string) A description of the impact on the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">impact_areas</code>
</span>
</dt>
<dd>
<p>
(array of strings) The areas of cluster functionality that this impact affects.
Possible values are:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">search</code>
</li>
<li class="listitem">
<code class="literal">ingest</code>
</li>
<li class="listitem">
<code class="literal">backup</code>
</li>
<li class="listitem">
<code class="literal">deployment_management</code>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">diagnosis</code>
</span>
</dt>
<dd>
<p>
(Optional, array) If a non-healthy status is returned, indicators may include a list of
diagnosis that encapsulate the cause of the health issue and an action to take in order to remediate the problem.
The diagnosis will not be calculated if the <code class="literal">verbose</code> property is false.
</p>
<details open>
<summary class="title">Properties of <code class="literal">diagnosis</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cause</code>
</span>
</dt>
<dd>
(string) A description of a root cause of this health problem.
</dd>
<dt>
<span class="term">
<code class="literal">action</code>
</span>
</dt>
<dd>
(string) A brief description the steps that should be taken to remediate the problem.
A more detailed step-by-step guide to remediate the problem is provided by the
<code class="literal">help_url</code> field.
</dd>
<dt>
<span class="term">
<code class="literal">affected_resources</code>
</span>
</dt>
<dd>
(Optional, array of strings) If the root cause pertains to multiple resources in the
cluster (like indices, shards, nodes, etc&#8230;&#8203;) this will hold all resources that this
diagnosis is applicable for.
</dd>
<dt>
<span class="term">
<code class="literal">help_url</code>
</span>
</dt>
<dd>
(string) A link to the troubleshooting guide that&#8217;ll fix the health problem.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-response-details"></a>Indicator Details<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<p>Each health indicator in the health API returns a set of details that further explains the state of the system. The
details have contents and a structure that is unique to each indicator.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-master-is-stable"></a>master_is_stable<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_master</code>
</span>
</dt>
<dd>
<p>
(object) Information about the currently elected master.
</p>
<details open>
<summary class="title">Properties of <code class="literal">current_master</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node_id</code>
</span>
</dt>
<dd>
(string) The node id of the currently elected master, or null if no master is elected.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string) The node name of the currently elected master, or null if no master is elected.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">recent_masters</code>
</span>
</dt>
<dd>
<p>
(Optional, array) A list of nodes that have been elected or replaced as master in a recent
time window. This field is present if the master
is changing rapidly enough to cause problems, and also present as additional information
when the indicator is <code class="literal">green</code>. This array includes only elected masters, and does <em>not</em>
include empty entries for periods when there was no elected master.
</p>
<details open>
<summary class="title">Properties of <code class="literal">recent_masters</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node_id</code>
</span>
</dt>
<dd>
(string) The node id of a recently active master node.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string) The node name of a recently active master node.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">exception_fetching_history</code>
</span>
</dt>
<dd>
<p>
(Optional, object) If the node being queried sees that the elected master has stepped down
repeatedly, the master history is requested from the most recently elected master node for
diagnosis purposes. If fetching this remote history fails, the exception information is
returned in this detail field.
</p>
<details open>
<summary class="title">Properties of <code class="literal">exception_fetching_history</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">message</code>
</span>
</dt>
<dd>
(string) The exception message for the failed history fetch operation.
</dd>
<dt>
<span class="term">
<code class="literal">stack_trace</code>
</span>
</dt>
<dd>
(string) The stack trace for the failed history fetch operation.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">cluster_formation</code>
</span>
</dt>
<dd>
<p>
(Optional, array) If there has been no elected master node recently, the node being queried attempts to
gather information about why the cluster has been unable to form, or why the node being queried has been
unable to join the cluster if it has formed. This array could contain any entry for each master eligible
node&#8217;s view of cluster formation.
</p>
<details open>
<summary class="title">Properties of <code class="literal">cluster_formation</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node_id</code>
</span>
</dt>
<dd>
(string) The node id of a master-eligible node
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Optional, string) The node name of a master-eligible node
</dd>
<dt>
<span class="term">
<code class="literal">cluster_formation_message</code>
</span>
</dt>
<dd>
(string) A detailed description explaining what went wrong with cluster formation, or why this node was
unable to join the cluster if it has formed.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-shards-availability"></a>shards_availability<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">unassigned_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are unassigned for reasons other than initialization or relocation.
</dd>
<dt>
<span class="term">
<code class="literal">initializing_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are initializing or recovering.
</dd>
<dt>
<span class="term">
<code class="literal">creating_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are unassigned because they have been very recently created.
</dd>
<dt>
<span class="term">
<code class="literal">restarting_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are relocating because of a node shutdown operation.
</dd>
<dt>
<span class="term">
<code class="literal">started_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are active and available on the system.
</dd>
<dt>
<span class="term">
<code class="literal">unassigned_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are unassigned for reasons other than initialization or relocation.
</dd>
<dt>
<span class="term">
<code class="literal">initializing_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are initializing or recovering.
</dd>
<dt>
<span class="term">
<code class="literal">restarting_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are relocating because of a node shutdown operation.
</dd>
<dt>
<span class="term">
<code class="literal">started_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are active and available on the system.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-disk"></a>disk<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">indices_with_readonly_block</code>
</span>
</dt>
<dd>
(int) The number of indices the system enforced a read-only index block (<code class="literal">index.blocks.read_only_allow_delete</code>) on
because the cluster is running out of space.
</dd>
<dt>
<span class="term">
<code class="literal">nodes_with_enough_disk_space</code>
</span>
</dt>
<dd>
(int) The number of nodes that have enough available disk space to function.
</dd>
<dt>
<span class="term">
<code class="literal">nodes_over_high_watermark</code>
</span>
</dt>
<dd>
(int) The number of nodes that are running low on disk and it is likely that they will run out of space. Their disk usage
has tripped the <a class="xref" href="settings.html#cluster-routing-watermark-high">high watermark threshold</a>.
</dd>
<dt>
<span class="term">
<code class="literal">nodes_over_flood_stage_watermark</code>
</span>
</dt>
<dd>
(int) The number of nodes that have run out of disk. Their disk usage has tripped the <a class="xref" href="settings.html#cluster-routing-flood-stage">flood stage
watermark threshold</a>.
</dd>
<dt>
<span class="term">
<code class="literal">unknown_nodes</code>
</span>
</dt>
<dd>
(int) The number of nodes for which it was not possible to determine their disk health.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-repository-integrity"></a>repository_integrity<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total_repositories</code>
</span>
</dt>
<dd>
(Optional, int) The number of currently configured repositories on the system. If there are no repositories
configured then this detail is omitted.
</dd>
<dt>
<span class="term">
<code class="literal">corrupted_repositories</code>
</span>
</dt>
<dd>
(Optional, int) The number of repositories on the system that have been determined to be corrupted. If there are
no corrupted repositories detected, this detail is omitted.
</dd>
<dt>
<span class="term">
<code class="literal">corrupted</code>
</span>
</dt>
<dd>
(Optional, array of strings) If corrupted repositories have been detected in the system, the names of up to ten of
them are displayed in this field. If no corrupted repositories are found, this detail is omitted.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-ilm"></a>ilm<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ilm_status</code>
</span>
</dt>
<dd>
(string) The current status of the Indexing Lifecycle Management feature. Either <code class="literal">STOPPED</code>, <code class="literal">STOPPING</code>, or <code class="literal">RUNNING</code>.
</dd>
<dt>
<span class="term">
<code class="literal">policies</code>
</span>
</dt>
<dd>
(int) The number of index lifecycle policies that the system is managing.
</dd>
<dt>
<span class="term">
<code class="literal">stagnating_indices</code>
</span>
</dt>
<dd>
(int) the number of indices managed by index lifecycle management that has been stagnant longer than expected.
</dd>
<dt>
<span class="term">
<code class="literal">stagnating_indices_per_action</code>
</span>
</dt>
<dd>
<p>
(optional, map) Summary of the number of indices, grouped by action, that have been stagnant longer than
expected.
</p>
<details open>
<summary class="title">Properties of <code class="literal">stagnating_indices_per_action</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">downsample</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">downsample</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">allocate</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">allocate</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">shrink</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">shrink</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">searchable_snapshot</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">searchable_snapshot</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">rollover</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">rollver</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">forcemerge</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">forcemerge</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">delete</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">delete</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">migrate</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">migrate</code> action.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-slm"></a>slm<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">slm_status</code>
</span>
</dt>
<dd>
(string) The current status of the Snapshot Lifecycle Management feature. Either <code class="literal">STOPPED</code>, <code class="literal">STOPPING</code>, or <code class="literal">RUNNING</code>.
</dd>
<dt>
<span class="term">
<code class="literal">policies</code>
</span>
</dt>
<dd>
(int) The number of snapshot policies that the system is managing.
</dd>
<dt>
<span class="term">
<code class="literal">unhealthy_policies</code>
</span>
</dt>
<dd>
(map) A detailed view on the policies that are considered unhealthy due to having
several consecutive unssuccesful invocations.
The <code class="literal">count</code> key represents the number of unhealthy policies (int).
The <code class="literal">invocations_since_last_success</code> key will report a map where the unhealthy policy
name is the key and it&#8217;s corresponding number of failed invocations is the value.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-shards-capacity"></a>shards_capacity<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">data</code>
</span>
</dt>
<dd>
<p>
(map) A view with information about the current capacity of shards for data nodes that do not belong to the frozen tier.
</p>
<details open>
<summary class="title">Properties of <code class="literal">data</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">max_shards_in_cluster</code>
</span>
</dt>
<dd>
(int) Indicates the maximum number of shards that the cluster can hold.
</dd>
<dt>
<span class="term">
<code class="literal">current_used_shards</code>
</span>
</dt>
<dd>
(optional, int) The total number of shards hold by the cluster. Only displayed in the case the indicator&#8217;s status is <code class="literal">red</code> or <code class="literal">yellow</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">frozen</code>
</span>
</dt>
<dd>
<p>
(map) A view with information about the current capacity of shards for data nodes that belong to the frozen tier.
</p>
<details open>
<summary class="title">Properties of <code class="literal">frozen</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">max_shards_in_cluster</code>
</span>
</dt>
<dd>
(int) Indicates the maximum number of shards the cluster can hold for the partially mounted indices.
</dd>
<dt>
<span class="term">
<code class="literal">current_used_shards</code>
</span>
</dt>
<dd>
(optional, int) The total number of shards the partially mounted indices have in the cluster. Only displayed in the case the indicator&#8217;s status is <code class="literal">red</code> or <code class="literal">yellow</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _health_report</pre>
</div>
<div class="console_widget" data-snippet="snippets/2156.console"></div>
<p>The API returns a response with all the indicators regardless
of current status.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _health_report/shards_availability</pre>
</div>
<div class="console_widget" data-snippet="snippets/2157.console"></div>
<p>The API returns a response for just the shard availability indicator.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _health_report?verbose=false</pre>
</div>
<div class="console_widget" data-snippet="snippets/2158.console"></div>
<p>The API returns a response with all health indicators but will
not calculate details or root cause analysis for the response. This is helpful
if you would like to monitor the health API and do not want the overhead of
calculating additional troubleshooting details each call.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-reroute"></a>Cluster reroute API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/reroute.asciidoc">edit</a></h2>
</div></div></div>

<p>Changes the allocation of shards in a cluster.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-reroute-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/reroute.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /_cluster/reroute?metric=none</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-reroute-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/reroute.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">manage</code>
<a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-reroute-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/reroute.asciidoc">edit</a></h3>
</div></div></div>
<p>The reroute command allows for manual changes to the allocation of individual
shards in the cluster. For example, a shard can be moved from one node to
another explicitly, an allocation can be cancelled, and an unassigned shard can
be explicitly allocated to a specific node.</p>
<p>It is important to note that after processing any reroute commands Elasticsearch will
perform rebalancing as normal (respecting the values of settings such as
<code class="literal">cluster.routing.rebalance.enable</code>) in order to remain in a balanced state. For
example, if the requested allocation includes moving a shard from <code class="literal">node1</code> to
<code class="literal">node2</code> then this may cause a shard to be moved from <code class="literal">node2</code> back to <code class="literal">node1</code> to
even things out.</p>
<p>The cluster can be set to disable allocations using the
<code class="literal">cluster.routing.allocation.enable</code> setting. If allocations are disabled then
the only allocations that will be performed are explicit ones given using the
<code class="literal">reroute</code> command, and consequent allocations due to rebalancing.</p>
<p>It is possible to run <code class="literal">reroute</code> commands in "dry run" mode by using the
<code class="literal">?dry_run</code> URI query parameter, or by passing <code class="literal">"dry_run": true</code> in the request
body. This will calculate the result of applying the commands to the current
cluster state, and return the resulting cluster state after the commands (and
re-balancing) has been applied, but will not actually perform the requested
changes.</p>
<p>If the <code class="literal">?explain</code> URI query parameter is included then a detailed explanation
of why the commands could or could not be executed is included in the response.</p>
<p>The cluster will attempt to allocate a shard a maximum of
<code class="literal">index.allocation.max_retries</code> times in a row (defaults to <code class="literal">5</code>), before giving
up and leaving the shard unallocated. This scenario can be caused by
structural problems such as having an analyzer which refers to a stopwords
file which doesn&#8217;t exist on all nodes.</p>
<p>Once the problem has been corrected, allocation can be manually retried by
calling the <code class="literal">reroute</code> API with the <code class="literal">?retry_failed</code> URI
query parameter, which will attempt a single retry round for these shards.</p>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-reroute-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/reroute.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">dry_run</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, then the request simulates the operation only
and returns the resulting state.
</dd>
<dt>
<span class="term">
<code class="literal">explain</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, then the response contains an explanation of
why the commands can or cannot be executed.
</dd>
<dt>
<span class="term">
<code class="literal">metric</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Limits the information returned to the specified metrics.
All options except <code class="literal">none</code> are deprecated and should be avoided for this parameter.
Defaults to all but metadata. The following options are available:
</p>
<details open>
<summary class="title">Options for <code class="literal">metric</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_all</code>
</span>
</dt>
<dd>
Shows all metrics.
</dd>
<dt>
<span class="term">
<code class="literal">blocks</code>
</span>
</dt>
<dd>
Shows the <code class="literal">blocks</code> part of the response.
</dd>
<dt>
<span class="term">
<code class="literal">master_node</code>
</span>
</dt>
<dd>
Shows the elected <code class="literal">master_node</code> part of the response.
</dd>
<dt>
<span class="term">
<code class="literal">metadata</code>
</span>
</dt>
<dd>
Shows the <code class="literal">metadata</code> part of the response. If you supply a comma separated
list of indices, the returned output will only contain metadata for these
indices.
</dd>
<dt>
<span class="term">
<code class="literal">nodes</code>
</span>
</dt>
<dd>
Shows the <code class="literal">nodes</code> part of the response.
</dd>
<dt>
<span class="term">
<code class="literal">none</code>
</span>
</dt>
<dd>
Excludes the entire <code class="literal">state</code> field from the response.
</dd>
<dt>
<span class="term">
<code class="literal">routing_table</code>
</span>
</dt>
<dd>
Shows the <code class="literal">routing_table</code> part of the response.
</dd>
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
Shows the cluster state version.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">retry_failed</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, then retries allocation of shards that are
blocked due to too many subsequent allocation failures.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-reroute-api-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/reroute.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">commands</code>
</span>
</dt>
<dd>
<p>
(Required, array of objects) Defines the commands to perform. Supported commands are:
</p>
<details open>
<summary class="title">Properties of <code class="literal">commands</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">move</code>
</span>
</dt>
<dd>
Move a started shard from one node to another node. Accepts <code class="literal">index</code> and
<code class="literal">shard</code> for index name and shard number, <code class="literal">from_node</code> for the node to move
the shard from, and <code class="literal">to_node</code> for the node to move the shard to.
</dd>
<dt>
<span class="term">
<code class="literal">cancel</code>
</span>
</dt>
<dd>
Cancel allocation of a shard (or recovery). Accepts <code class="literal">index</code> and <code class="literal">shard</code> for
index name and shard number, and <code class="literal">node</code> for the node to cancel the shard
allocation on. This can be used to force resynchronization of existing
replicas from the primary shard by cancelling them and allowing them to be
reinitialized through the standard recovery process. By default only
replica shard allocations can be cancelled. If it is necessary to cancel
the allocation of a primary shard then the <code class="literal">allow_primary</code> flag must also
be included in the request.
</dd>
<dt>
<span class="term">
<code class="literal">allocate_replica</code>
</span>
</dt>
<dd>
Allocate an unassigned replica shard to a node. Accepts <code class="literal">index</code> and <code class="literal">shard</code>
for index name and shard number, and <code class="literal">node</code> to allocate the shard to. Takes
<a class="xref" href="settings.html#modules-cluster" title="Cluster-level shard allocation and routing settings">allocation deciders</a> into account.
</dd>
</dl>
</div>
<p>Two more commands are available that allow the allocation of a primary shard to
a node. These commands should however be used with extreme care, as primary
shard allocation is usually fully automatically handled by Elasticsearch. Reasons why a
primary shard cannot be automatically allocated include the
following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A new index was created but there is no node which satisfies the allocation
deciders.
</li>
<li class="listitem">
An up-to-date shard copy of the data cannot be found on the current data
  nodes in the cluster. To prevent data loss, the system does not automatically
promote a stale shard copy to primary.
</li>
</ul>
</div>
<p>The following two commands are dangerous and may result in data loss. They are
meant to be used in cases where the original data can not be recovered and the
cluster administrator accepts the loss. If you have suffered a temporary issue
that can be fixed, please see the <code class="literal">retry_failed</code> flag described above. To
emphasise: if these commands are performed and then a node joins the cluster
that holds a copy of the affected shard then the copy on the newly-joined node
will be deleted or overwritten.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allocate_stale_primary</code>
</span>
</dt>
<dd>
Allocate a primary shard to a node that holds a stale copy. Accepts the
<code class="literal">index</code> and <code class="literal">shard</code> for index name and shard number, and <code class="literal">node</code> to allocate
the shard to. Using this command may lead to data loss for the provided
shard id. If a node which has the good copy of the data rejoins the cluster
later on, that data will be deleted or overwritten with the data of the
stale copy that was forcefully allocated with this command. To ensure that
these implications are well-understood, this command requires the flag
<code class="literal">accept_data_loss</code> to be explicitly set to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">allocate_empty_primary</code>
</span>
</dt>
<dd>
Allocate an empty primary shard to a node. Accepts the <code class="literal">index</code> and <code class="literal">shard</code>
for index name and shard number, and <code class="literal">node</code> to allocate the shard to. Using
this command leads to a complete loss of all data that was indexed into
this shard, if it was previously started. If a node which has a copy of the
data rejoins the cluster later on, that data will be deleted. To ensure
that these implications are well-understood, this command requires the flag
<code class="literal">accept_data_loss</code> to be explicitly set to <code class="literal">true</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-reroute-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/reroute.asciidoc">edit</a></h3>
</div></div></div>
<p>This is a short example of a simple reroute API call:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /_cluster/reroute?metric=none
{
  "commands": [
    {
      "move": {
        "index": "test", "shard": 0,
        "from_node": "node1", "to_node": "node2"
      }
    },
    {
      "allocate_replica": {
        "index": "test", "shard": 1,
        "node": "node3"
      }
    }
  ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2159.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-state"></a>Cluster state API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/state.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns an internal representation of the cluster state for debugging or
diagnostic purposes.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-state-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/state.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_cluster/state/&lt;metrics&gt;/&lt;target&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-state-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/state.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-state-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/state.asciidoc">edit</a></h3>
</div></div></div>
<p>The <em>cluster state</em> is an internal data structure which keeps track of a
variety of information needed by every node, including:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The identity and attributes of the other nodes in the cluster
</li>
<li class="listitem">
Cluster-wide settings
</li>
<li class="listitem">
Index metadata, including the mapping and settings for each index
</li>
<li class="listitem">
The location and status of every shard copy in the cluster
</li>
</ul>
</div>
<p>The elected master node ensures that every node in the cluster has a copy of
the same cluster state. The cluster state API lets you retrieve a
representation of this internal state for debugging or diagnostic purposes. You
may need to consult the Elasticsearch source code to determine the precise meaning of
the response.</p>
<p>By default the cluster state API will route requests to the elected master node
since this node is the authoritative source of cluster states. You can also
retrieve the cluster state held on the node handling the API request by adding
the query parameter <code class="literal">?local=true</code>.</p>
<p>Elasticsearch may need to expend significant effort to compute a response to this API in
larger clusters, and the response may comprise a very large quantity of data.
If you use this API repeatedly, your cluster may become unstable.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<a id="cluster-state-api-unstable-warning"></a>
<p>The response is a representation of an internal data structure. Its
format is not subject to the same compatibility guarantees as other more stable
APIs and may change from version to version. <span class="strong strong"><strong>Do not query this API using
external monitoring tools.</strong></span> Instead, obtain the information you require using
other more stable <a class="xref" href="cluster.html" title="Cluster APIs">cluster APIs</a>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-state-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/state.asciidoc">edit</a></h3>
</div></div></div>
<p>The cluster state can sometimes be very large, and Elasticsearch may consume significant
resources while computing a response to this API. To reduce the size of the
response, you can request only the part of the cluster state in which you are
interested:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;metrics&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string) A comma-separated list of the following options:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_all</code>
</span>
</dt>
<dd>
Shows all metrics.
</dd>
<dt>
<span class="term">
<code class="literal">blocks</code>
</span>
</dt>
<dd>
Shows the <code class="literal">blocks</code> part of the response.
</dd>
<dt>
<span class="term">
<code class="literal">master_node</code>
</span>
</dt>
<dd>
Shows the <code class="literal">master_node</code> part of the response.
</dd>
<dt>
<span class="term">
<code class="literal">metadata</code>
</span>
</dt>
<dd>
Shows the <code class="literal">metadata</code> part of the response. If you supply a comma separated
list of indices, the returned output will only contain metadata for these
indices.
</dd>
<dt>
<span class="term">
<code class="literal">nodes</code>
</span>
</dt>
<dd>
Shows the <code class="literal">nodes</code> part of the response.
</dd>
<dt>
<span class="term">
<code class="literal">routing_nodes</code>
</span>
</dt>
<dd>
Shows the <code class="literal">routing_nodes</code> part of the response.
</dd>
<dt>
<span class="term">
<code class="literal">routing_table</code>
</span>
</dt>
<dd>
Shows the <code class="literal">routing_table</code> part of the response. If you supply a comma
separated list of indices, the returned output will only contain the
routing table for these indices.
</dd>
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
Shows the cluster state version.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">&lt;target&gt;</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of data streams, indices, and aliases
used to limit the request. Supports wildcards (<code class="literal">*</code>). To target all data streams
and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-state-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/state.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_indices</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean) If <code class="literal">true</code>, the wildcard indices expression that resolves
into no concrete indices will be ignored. (This includes <code class="literal">_all</code> string or
when no indices have been specified).
</p>
<p>Defaults to <code class="literal">true</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">expand_wildcards</code>
</span>
</dt>
<dd>
(Optional, string) Whether to expand wildcard expression to concrete indices
that are open, closed or both. Available options: <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">none</code>,
<code class="literal">all</code>.
</dd>
<dt>
<span class="term">
<code class="literal">flat_settings</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns settings in flat format. Defaults to
<code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">ignore_unavailable</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, unavailable indices (missing or closed) will
be ignored.
</dd>
<dt>
<span class="term">
<code class="literal">local</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the request retrieves information from the local
node only. Defaults to <code class="literal">false</code>, which means information is retrieved from
the master node.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_metadata_version</code>
</span>
</dt>
<dd>
(Optional, integer) Waits for the metadata version to be equal or greater
than the specified metadata version.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>) Specifies the maximum time to wait
for wait_for_metadata_version before timing out.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-state-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/state.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example returns only <code class="literal">metadata</code> and <code class="literal">routing_table</code> data for the
<code class="literal">foo</code> and <code class="literal">bar</code> data streams or indices:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_cluster/state/metadata,routing_table/foo,bar</pre>
</div>
<div class="console_widget" data-snippet="snippets/2160.console"></div>
<p>The next example returns all available metadata for <code class="literal">foo</code> and <code class="literal">bar</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_cluster/state/_all/foo,bar</pre>
</div>
<div class="console_widget" data-snippet="snippets/2161.console"></div>
<p>This example returns only the <code class="literal">blocks</code> metadata:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_cluster/state/blocks</pre>
</div>
<div class="console_widget" data-snippet="snippets/2162.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-stats"></a>Cluster stats API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/stats.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns cluster statistics.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-stats-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/stats.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_cluster/stats</code><br></p>
<p><code class="literal">GET /_cluster/stats/nodes/&lt;node_filter&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-stats-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-stats-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/stats.asciidoc">edit</a></h3>
</div></div></div>
<p>The Cluster Stats API allows to retrieve statistics from a cluster wide
perspective. The API returns basic index metrics (shard numbers, store size,
memory usage) and information about the current nodes that form the cluster
(number, roles, os, jvm versions, memory usage, cpu and installed plugins).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-stats-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;node_filter&gt;</code>
</span>
</dt>
<dd>
(Optional, string)
Comma-separated list of <a class="xref" href="cluster.html#cluster-nodes" title="Node specification">node filters</a> used to limit returned
information. Defaults to all nodes in the cluster.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-stats-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for each node to respond. If a node does not respond before its
timeout expires, the response does not include its stats. However, timed out
nodes are included in the response&#8217;s <code class="literal">_nodes.failed</code> property. Defaults to no
timeout.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-stats-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_nodes</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the number of nodes selected by the request&#8217;s
<a class="xref" href="cluster.html#cluster-nodes" title="Node specification">node filters</a>.
</p>
<details open>
<summary class="title">Properties of <code class="literal">_nodes</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of nodes selected by the request.
</dd>
<dt>
<span class="term">
<code class="literal">successful</code>
</span>
</dt>
<dd>
(integer)
Number of nodes that responded successfully to the request.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Number of nodes that rejected the request or failed to respond. If this value
is not <code class="literal">0</code>, a reason for the rejection or failure is included in the response.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">cluster_name</code>
</span>
</dt>
<dd>
(string)
Name of the cluster, based on the <a class="xref" href="settings.html#cluster-name" title="Cluster name setting">Cluster name setting</a> setting.
</dd>
<dt>
<span class="term">
<code class="literal">cluster_uuid</code>
</span>
</dt>
<dd>
(string)
Unique identifier for the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">timestamp</code>
</span>
</dt>
<dd>
(integer)
<a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix timestamp</a>, in milliseconds, of
the last time the cluster statistics were refreshed.
</dd>
<dt>
<span class="term">
<code class="literal">status</code>
</span>
</dt>
<dd>
<p>
(string)
Health status of the cluster, based on the state of its primary and replica
shards. Statuses are:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">green</code>:
All shards are assigned.
</li>
<li class="listitem">
<code class="literal">yellow</code>:
All primary shards are assigned, but one or more replica shards are
unassigned. If a node in the cluster fails, some data could be unavailable
until that node is repaired.
</li>
<li class="listitem">
<code class="literal">red</code>:
One or more primary shards are unassigned, so some data is unavailable. This
can occur briefly during cluster startup as primary shards are assigned.
</li>
</ul>
</div>
<p>See <a class="xref" href="cluster.html#cluster-health" title="Cluster health API">Cluster health</a>.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-stats-api-response-body-indices"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">indices</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about indices with shards assigned to selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">indices</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Total number of indices with shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">shards</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about shards assigned to selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">shards</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">primaries</code>
</span>
</dt>
<dd>
(integer)
Number of primary shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">replication</code>
</span>
</dt>
<dd>
(float)
Ratio of replica shards to primary shards across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about shards assigned to selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">index</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">shards</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the number of shards assigned to selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">shards</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">min</code>
</span>
</dt>
<dd>
(integer)
Minimum number of shards in an index, counting only shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of shards in an index, counting only shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">avg</code>
</span>
</dt>
<dd>
(float)
Mean number of shards in an index, counting only shards assigned to
selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">primaries</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the number of primary shards assigned to selected
nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">primaries</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">min</code>
</span>
</dt>
<dd>
(integer)
Minimum number of primary shards in an index, counting only shards assigned
to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of primary shards in an index, counting only shards assigned
to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">avg</code>
</span>
</dt>
<dd>
(float)
Mean number of primary shards in an index, counting only shards assigned to
selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">replication</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the number of replication shards assigned to selected
nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">replication</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">min</code>
</span>
</dt>
<dd>
(float)
Minimum replication factor in an index, counting only shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">max</code>
</span>
</dt>
<dd>
(float)
Maximum replication factor in an index, counting only shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">avg</code>
</span>
</dt>
<dd>
(float)
Mean replication factor in an index, counting only shards assigned to selected
nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">docs</code>
</span>
</dt>
<dd>
<p>
(object)
Contains counts for documents in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">docs</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
<p>
(integer)
Total number of non-deleted documents across all primary shards assigned to
selected nodes.
</p>
<p>This number is based on documents in Lucene segments and may include documents
from nested fields.</p>
</dd>
<dt>
<span class="term">
<code class="literal">deleted</code>
</span>
</dt>
<dd>
<p>
(integer)
Total number of deleted documents across all primary shards assigned to
selected nodes.
</p>
<p>This number is based on documents in Lucene segments. Elasticsearch reclaims the disk
space of deleted Lucene documents when a segment is merged.</p>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">store</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the size of shards assigned to selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">store</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total size of all shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total size, in bytes, of all shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">total_data_set_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total data set size of all shards assigned to selected nodes.
This includes the size of shards not stored fully on the nodes, such as the
cache for <a class="xref" href="searchable-snapshots.html#partially-mounted">partially mounted indices</a>.
</dd>
<dt>
<span class="term">
<code class="literal">total_data_set_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total data set size, in bytes, of all shards assigned to selected nodes.
This includes the size of shards not stored fully on the nodes, such as the
cache for <a class="xref" href="searchable-snapshots.html#partially-mounted">partially mounted indices</a>.
</dd>
<dt>
<span class="term">
<code class="literal">reserved</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
A prediction of how much larger the shard stores will eventually grow due to
ongoing peer recoveries, restoring snapshots, and similar activities.
</dd>
<dt>
<span class="term">
<code class="literal">reserved_in_bytes</code>
</span>
</dt>
<dd>
(integer)
A prediction, in bytes, of how much larger the shard stores will eventually
grow due to ongoing peer recoveries, restoring snapshots, and similar
activities.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">fielddata</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the <a class="xref" href="settings.html#modules-fielddata" title="Field data cache settings">field data cache</a> of selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">fielddata</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">memory_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for the field data cache across all shards
assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">memory_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for the field data cache across all
shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">evictions</code>
</span>
</dt>
<dd>
(integer)
Total number of evictions from the field data cache across all shards assigned
to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">global_ordinals.build_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time unit</a>)
The total time spent building global ordinals for all fields.
</dd>
<dt>
<span class="term">
<code class="literal">global_ordinals.build_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
The total time, in milliseconds, spent building global ordinals for all fields.
</dd>
<dt>
<span class="term">
<code class="literal">global_ordinals.fields.[field-name].build_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time unit</a>)
The total time spent building global ordinals for field with specified name.
</dd>
<dt>
<span class="term">
<code class="literal">global_ordinals.fields.[field-name].build_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
The total time, in milliseconds, spent building global ordinals for field with specified name.
</dd>
<dt>
<span class="term">
<code class="literal">global_ordinals.fields.[field-name].shard_max_value_count</code>
</span>
</dt>
<dd>
(long)
The total time spent building global ordinals for field with specified name.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">query_cache</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the query cache of selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">query_cache</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">memory_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for the query cache across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">memory_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for the query cache across all shards
assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">total_count</code>
</span>
</dt>
<dd>
(integer)
Total count of hits and misses in the query cache across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">hit_count</code>
</span>
</dt>
<dd>
(integer)
Total count of query cache hits across all shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">miss_count</code>
</span>
</dt>
<dd>
(integer)
Total count of query cache misses across all shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">cache_size</code>
</span>
</dt>
<dd>
(integer)
Total number of entries currently in the query cache across all shards assigned
to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">cache_count</code>
</span>
</dt>
<dd>
(integer)
Total number of entries added to the query cache across all shards assigned
to selected nodes. This number includes current and evicted entries.
</dd>
<dt>
<span class="term">
<code class="literal">evictions</code>
</span>
</dt>
<dd>
(integer)
Total number of query cache evictions across all shards assigned to selected
nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">completion</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about memory used for completion in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">completion</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for completion across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for completion across all shards assigned
to selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">segments</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about segments in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">segments</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Total number of segments across all shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for segments across all shards assigned to selected
nodes.
</dd>
<dt>
<span class="term">
<code class="literal">memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for segments across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">terms_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for terms across all shards assigned to selected
nodes.
</dd>
<dt>
<span class="term">
<code class="literal">terms_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for terms across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">stored_fields_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for stored fields across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">stored_fields_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for stored fields across all shards
assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">term_vectors_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for term vectors across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">term_vectors_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for term vectors across all shards
assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">norms_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for normalization factors across all shards assigned
to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">norms_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for normalization factors across all
shards assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">points_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for points across all shards assigned to selected
nodes.
</dd>
<dt>
<span class="term">
<code class="literal">points_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for points across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">doc_values_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used for doc values across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">doc_values_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used for doc values across all shards assigned
to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_writer_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used by all index writers across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_writer_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used by all index writers across all shards
assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">version_map_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used by all version maps across all shards assigned to
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">version_map_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory used by all version maps across all shards
assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">fixed_bit_set</code>
</span>
</dt>
<dd>
<p>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of memory used by fixed bit sets across all shards assigned to
selected nodes.
</p>
<p>Fixed bit sets are used for nested object field types and
type filters for <a class="xref" href="mapping-types.html#parent-join" title="Join field type">join</a> fields.</p>
</dd>
<dt>
<span class="term">
<code class="literal">fixed_bit_set_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used by fixed bit sets across all shards
assigned to selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">max_unsafe_auto_id_timestamp</code>
</span>
</dt>
<dd>
(integer)
<a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix timestamp</a>, in milliseconds, of
the most recently retried indexing request.
</dd>
<dt>
<span class="term">
<code class="literal">file_sizes</code>
</span>
</dt>
<dd>
<p>
(object)
This object is not populated by the cluster stats API.
</p>
<p>To get information on segment files, use the <a class="xref" href="cluster.html#cluster-nodes-stats" title="Nodes stats API">node stats
API</a>.</p>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">mappings</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about <a class="xref" href="mapping.html" title="Mapping">field mappings</a> in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">mappings</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total_field_count</code>
</span>
</dt>
<dd>
(integer)
Total number of fields in all non-system indices.
</dd>
<dt>
<span class="term">
<code class="literal">total_deduplicated_field_count</code>
</span>
</dt>
<dd>
(integer)
Total number of fields in all non-system indices, accounting for mapping deduplication.
</dd>
<dt>
<span class="term">
<code class="literal">total_deduplicated_mapping_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total size of all mappings after deduplication and compression.
</dd>
<dt>
<span class="term">
<code class="literal">total_deduplicated_mapping_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total size of all mappings, in bytes, after deduplication and compression.
</dd>
<dt>
<span class="term">
<code class="literal">field_types</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about <a class="xref" href="mapping-types.html" title="Field data types">field data types</a> used in selected
nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">field_types</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Field data type used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of fields mapped to the field data type in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices containing a mapping of the field data type in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">indexed_vector_count</code>
</span>
</dt>
<dd>
(integer)
For dense_vector field types, number of indexed vector types in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">indexed_vector_dim_min</code>
</span>
</dt>
<dd>
(integer)
For dense_vector field types, the minimum dimension of all indexed vector types in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">indexed_vector_dim_max</code>
</span>
</dt>
<dd>
(integer)
For dense_vector field types, the maximum dimension of all indexed vector types in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">script_count</code>
</span>
</dt>
<dd>
(integer)
Number of fields that declare a script.
</dd>
<dt>
<span class="term">
<code class="literal">lang</code>
</span>
</dt>
<dd>
(array of strings)
Script languages used for the optional scripts
</dd>
<dt>
<span class="term">
<code class="literal">lines_max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of lines for a single field script
</dd>
<dt>
<span class="term">
<code class="literal">lines_total</code>
</span>
</dt>
<dd>
(integer)
Total number of lines for the scripts
</dd>
<dt>
<span class="term">
<code class="literal">chars_max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of characters for a single field script
</dd>
<dt>
<span class="term">
<code class="literal">chars_total</code>
</span>
</dt>
<dd>
(integer)
Total number of characters for the scripts
</dd>
<dt>
<span class="term">
<code class="literal">source_max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of accesses to _source for a single field script
</dd>
<dt>
<span class="term">
<code class="literal">source_total</code>
</span>
</dt>
<dd>
(integer)
Total number of accesses to _source for the scripts
</dd>
<dt>
<span class="term">
<code class="literal">doc_max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of accesses to doc_values for a single field script
</dd>
<dt>
<span class="term">
<code class="literal">doc_total</code>
</span>
</dt>
<dd>
(integer)
Total number of accesses to doc_values for the scripts
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">runtime_field_types</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about <a class="xref" href="runtime.html#runtime-mapping-fields" title="Map a runtime field">runtime field data types</a> used in selected
nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">runtime_field_types</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Field data type used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of runtime fields mapped to the field data type in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices containing a mapping of the runtime field data type in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">scriptless_count</code>
</span>
</dt>
<dd>
(integer)
Number of runtime fields that don&#8217;t declare a script.
</dd>
<dt>
<span class="term">
<code class="literal">shadowed_count</code>
</span>
</dt>
<dd>
(integer)
Number of runtime fields that shadow an indexed field.
</dd>
<dt>
<span class="term">
<code class="literal">lang</code>
</span>
</dt>
<dd>
(array of strings)
Script languages used for the runtime fields scripts
</dd>
<dt>
<span class="term">
<code class="literal">lines_max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of lines for a single runtime field script
</dd>
<dt>
<span class="term">
<code class="literal">lines_total</code>
</span>
</dt>
<dd>
(integer)
Total number of lines for the scripts that define the current runtime field data type
</dd>
<dt>
<span class="term">
<code class="literal">chars_max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of characters for a single runtime field script
</dd>
<dt>
<span class="term">
<code class="literal">chars_total</code>
</span>
</dt>
<dd>
(integer)
Total number of characters for the scripts that define the current runtime field data type
</dd>
<dt>
<span class="term">
<code class="literal">source_max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of accesses to _source for a single runtime field script
</dd>
<dt>
<span class="term">
<code class="literal">source_total</code>
</span>
</dt>
<dd>
(integer)
Total number of accesses to _source for the scripts that define the current runtime field data type
</dd>
<dt>
<span class="term">
<code class="literal">doc_max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of accesses to doc_values for a single runtime field script
</dd>
<dt>
<span class="term">
<code class="literal">doc_total</code>
</span>
</dt>
<dd>
(integer)
Total number of accesses to doc_values for the scripts that define the current runtime field data type
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">analysis</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about <a class="xref" href="analysis-concepts.html#analyzer-anatomy" title="Anatomy of an analyzer">analyzers and analyzer components</a>
used in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">analysis</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">char_filter_types</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about <a class="xref" href="analysis-charfilters.html" title="Character filters reference">character filter</a> types used
in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">char_filter_types</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Character filter type used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of analyzers or normalizers using the character filter type in selected
nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices the character filter type in selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">tokenizer_types</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about <a class="xref" href="analysis-tokenizers.html" title="Tokenizer reference">tokenizer</a> types used in
selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">tokenizer_types</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Tokenizer type used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of analyzers or normalizers using the tokenizer type in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices using the tokenizer type in selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">filter_types</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about <a class="xref" href="analysis-tokenfilters.html" title="Token filter reference">token filter</a> types used in
selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">filter_types</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Token filter type used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of analyzers or normalizers using the token filter type in selected
nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices using the token filter type in selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">analyzer_types</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about <a class="xref" href="analysis-concepts.html#analyzer-anatomy" title="Anatomy of an analyzer">analyzer</a> types used in selected
nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">analyzer_types</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Analyzer type used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Occurrences of the analyzer type in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices using the analyzer type in selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">built_in_char_filters</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about built-in <a class="xref" href="analysis-charfilters.html" title="Character filters reference">character filters</a>
used in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">built_in_char_filters</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Built-in character filter used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of analyzers or normalizers using the built-in character filter in
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices using the built-in character filter in selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">built_in_tokenizers</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about built-in <a class="xref" href="analysis-tokenizers.html" title="Tokenizer reference">tokenizers</a> used in
selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">built_in_tokenizers</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Built-in tokenizer used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of analyzers or normalizers using the built-in tokenizer in selected
nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices using the built-in tokenizer in selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">built_in_filters</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about built-in <a class="xref" href="analysis-tokenfilters.html" title="Token filter reference">token filters</a> used
in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">built_in_filters</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Built-in token filter used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of analyzers or normalizers using the built-in token filter in selected
nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices using the built-in token filter in selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">built_in_analyzers</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about built-in <a class="xref" href="analysis-analyzers.html" title="Built-in analyzer reference">analyzers</a> used in
selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">built_in_analyzers</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Built-in analyzer used in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Occurrences of the built-in analyzer in selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">index_count</code>
</span>
</dt>
<dd>
(integer)
Number of indices using the built-in analyzer in selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">search</code>
</span>
</dt>
<dd>
<p>
(object)
Contains usage statistics about search requests submitted to selected nodes
that acted as coordinator during the search execution. Search requests are
tracked when they are successfully parsed, regardless of their results:
requests that yield errors after parsing contribute to the usage stats, as
well as requests that don&#8217;t access any data.
</p>
<details open>
<summary class="title">Properties of <code class="literal">search</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of incoming search requests. Search requests that don&#8217;t specify a
request body are not counted.
</dd>
<dt>
<span class="term">
<code class="literal">queries</code>
</span>
</dt>
<dd>
(object)
Query types used in selected nodes. For each query, name and number of times
it&#8217;s been used within the <code class="literal">query</code> or <code class="literal">post_filter</code> section is reported. Queries
are counted once per search request, meaning that if the same query type is used
multiple times in the same search request, its counter will be incremented by 1
rather than by the number of times it&#8217;s been used in that individual search request.
</dd>
<dt>
<span class="term">
<code class="literal">sections</code>
</span>
</dt>
<dd>
(object)
Search sections used in selected nodes. For each section, name and number of times
it&#8217;s been used is reported.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-stats-api-response-body-nodes"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">nodes</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about nodes selected by the request&#8217;s <a class="xref" href="cluster.html#cluster-nodes" title="Node specification">node
filters</a>.
</p>
<details open>
<summary class="title">Properties of <code class="literal">nodes</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
<p>
(object)
Contains counts for nodes selected by the request&#8217;s <a class="xref" href="cluster.html#cluster-nodes" title="Node specification">node
filters</a>.
</p>
<details open>
<summary class="title">Properties of <code class="literal">count</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">coordinating_only</code>
</span>
</dt>
<dd>
(integer)
Number of selected nodes without a <a class="xref" href="settings.html#modules-node" title="Node">role</a>. These nodes are
considered <a class="xref" href="settings.html#coordinating-only-node" title="Coordinating only node">coordinating only</a> nodes.
</dd>
<dt>
<span class="term">
<code class="literal">&lt;role&gt;</code>
</span>
</dt>
<dd>
(integer)
Number of selected nodes with the role. For a list of roles, see
<a class="xref" href="settings.html#modules-node" title="Node">Node</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">versions</code>
</span>
</dt>
<dd>
(array of strings)
Array of Elasticsearch versions used on selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">os</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the operating systems used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">os</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">available_processors</code>
</span>
</dt>
<dd>
(integer)
Number of processors available to JVM across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">allocated_processors</code>
</span>
</dt>
<dd>
<p>
(integer)
Number of processors used to calculate thread pool size across all selected
nodes.
</p>
<p>This number can be set with the <code class="literal">processors</code> setting of a node and defaults to
the number of processors reported by the OS. In both cases, this number will
never be larger than <code class="literal">32</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">names</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about operating systems used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">names</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Name of an operating system used by one or more selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(string)
Number of selected nodes using the operating system.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">pretty_names</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about operating systems used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">pretty_names</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">pretty_name</code>
</span>
</dt>
<dd>
(string)
Human-readable name of an operating system used by one or more selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(string)
Number of selected nodes using the operating system.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">architectures</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about processor architectures (for example, x86_64 or
aarch64) used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">architectures</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">arch</code>
</span>
</dt>
<dd>
(string)
Name of an architecture used by one or more selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(string)
Number of selected nodes using the architecture.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">mem</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about memory used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">mem</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of physical memory across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">total_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of physical memory across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">adjusted_total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory across all selected nodes, but using the value specified
using the <code class="literal">es.total_memory_bytes</code> system property instead of measured total
memory for those nodes where that system property was set.
</dd>
<dt>
<span class="term">
<code class="literal">adjusted_total_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount, in bytes, of memory across all selected nodes, but using the
value specified using the <code class="literal">es.total_memory_bytes</code> system property instead
of measured total memory for those nodes where that system property was set.
</dd>
<dt>
<span class="term">
<code class="literal">free</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Amount of free physical memory across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">free_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Amount, in bytes, of free physical memory across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Amount of physical memory in use across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Amount, in bytes, of physical memory in use across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">free_percent</code>
</span>
</dt>
<dd>
(integer)
Percentage of free physical memory across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">used_percent</code>
</span>
</dt>
<dd>
(integer)
Percentage of physical memory in use across all selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">process</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about processes used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">process</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cpu</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about CPU used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">cpu</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">percent</code>
</span>
</dt>
<dd>
(integer)
Percentage of CPU used across all selected nodes. Returns <code class="literal">-1</code> if
not supported.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">open_file_descriptors</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about open file descriptors in selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">open_file_descriptors</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">min</code>
</span>
</dt>
<dd>
(integer)
Minimum number of concurrently open file descriptors across all selected nodes.
Returns <code class="literal">-1</code> if not supported.
</dd>
<dt>
<span class="term">
<code class="literal">max</code>
</span>
</dt>
<dd>
(integer)
Maximum number of concurrently open file descriptors allowed across all selected
nodes. Returns <code class="literal">-1</code> if not supported.
</dd>
<dt>
<span class="term">
<code class="literal">avg</code>
</span>
</dt>
<dd>
(integer)
Average number of concurrently open file descriptors. Returns <code class="literal">-1</code> if not
supported.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">jvm</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the Java Virtual Machines (JVMs) used by selected
nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">jvm</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">max_uptime</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time unit</a>)
Uptime duration since JVM last started.
</dd>
<dt>
<span class="term">
<code class="literal">max_uptime_in_millis</code>
</span>
</dt>
<dd>
(integer)
Uptime duration, in milliseconds, since JVM last started.
</dd>
<dt>
<span class="term">
<code class="literal">versions</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about the JVM versions used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">versions</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
(string)
Version of JVM used by one or more selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">vm_name</code>
</span>
</dt>
<dd>
(string)
Name of the JVM.
</dd>
<dt>
<span class="term">
<code class="literal">vm_version</code>
</span>
</dt>
<dd>
<p>
(string)
Full version number of JVM.
</p>
<p>The full version number includes a plus sign (<code class="literal">+</code>) followed by the build number.</p>
</dd>
<dt>
<span class="term">
<code class="literal">vm_vendor</code>
</span>
</dt>
<dd>
(string)
Vendor of the JVM.
</dd>
<dt>
<span class="term">
<code class="literal">bundled_jdk</code>
</span>
</dt>
<dd>
(Boolean)
Always <code class="literal">true</code>. All distributions come with a bundled Java Development Kit (JDK).
</dd>
<dt>
<span class="term">
<code class="literal">using_bundled_jdk</code>
</span>
</dt>
<dd>
(Boolean)
If <code class="literal">true</code>, a bundled JDK is in use by JVM.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Total number of selected nodes using JVM.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">mem</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about memory used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">mem</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">heap_used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Memory currently in use by the heap across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">heap_used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory, in bytes, currently in use by the heap across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">heap_max</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Maximum amount of memory, in bytes, available for use by the heap across all
selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">heap_max_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Maximum amount of memory, in bytes, available for use by the heap across all
selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">threads</code>
</span>
</dt>
<dd>
(integer)
Number of active threads in use by JVM across all selected nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">fs</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about file stores by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">fs</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total size of all file stores across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">total_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total size, in bytes, of all file stores across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">free</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Amount of unallocated disk space in file stores across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">free_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total number of unallocated bytes in file stores across all selected nodes.
</dd>
<dt>
<span class="term">
<code class="literal">available</code>
</span>
</dt>
<dd>
<p>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte units</a>)
Total amount of disk space available to JVM in file
stores across all selected nodes.
</p>
<p>Depending on OS or process-level restrictions, this amount may be less than
<code class="literal">nodes.fs.free</code>. This is the actual amount of free disk space the selected Elasticsearch
nodes can use.</p>
</dd>
<dt>
<span class="term">
<code class="literal">available_in_bytes</code>
</span>
</dt>
<dd>
<p>
(integer)
Total number of bytes available to JVM in file stores
across all selected nodes.
</p>
<p>Depending on OS or process-level restrictions, this number may be less than
<code class="literal">nodes.fs.free_in_byes</code>. This is the actual amount of free disk space the
selected Elasticsearch nodes can use.</p>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">plugins</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about installed plugins and modules by selected nodes.
</p>
<p>If no plugins or modules are installed, this array is empty.</p>
<details open>
<summary class="title">Properties of <code class="literal">plugins</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;plugin&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about an installed plugin or module.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;plugin&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Name of the Elasticsearch plugin.
</dd>
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
(string)
Elasticsearch version for which the plugin was built.
</dd>
<dt>
<span class="term">
<code class="literal">elasticsearch_version</code>
</span>
</dt>
<dd>
(string)
Elasticsearch version for which the plugin was built.
</dd>
<dt>
<span class="term">
<code class="literal">java_version</code>
</span>
</dt>
<dd>
(string)
Java version for which the plugin was built.
</dd>
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
(string)
Short description of the plugin.
</dd>
<dt>
<span class="term">
<code class="literal">classname</code>
</span>
</dt>
<dd>
(string)
Class name used as the plugin&#8217;s entry point.
</dd>
<dt>
<span class="term">
<code class="literal">extended_plugins</code>
</span>
</dt>
<dd>
<p>
(array of strings)
An array of other plugins extended by this plugin through the Java Service
Provider Interface (SPI).
</p>
<p>If this plugin extends no other plugins, this array is empty.</p>
</dd>
<dt>
<span class="term">
<code class="literal">has_native_controller</code>
</span>
</dt>
<dd>
(Boolean)
If <code class="literal">true</code>, the plugin has a native controller process.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">network_types</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the transport and HTTP networks used by selected
nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">network_types</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">transport_types</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the transport network types used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">transport_types</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transport_type&gt;</code>
</span>
</dt>
<dd>
(integer)
Number of selected nodes using the transport type.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">http_types</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the HTTP network types used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">http_types</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;http_type&gt;</code>
</span>
</dt>
<dd>
(integer)
Number of selected nodes using the HTTP type.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">discovery_types</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the <a class="xref" href="modules-discovery.html#discovery-hosts-providers" title="Discovery">discovery
types</a> used by selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">discovery_types</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;discovery_type&gt;</code>
</span>
</dt>
<dd>
(integer)
Number of selected nodes using the <a class="xref" href="modules-discovery.html#discovery-hosts-providers" title="Discovery">discovery
type</a> to find other nodes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">packaging_types</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics about Elasticsearch distributions installed on selected nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">packaging_types</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">flavor</code>
</span>
</dt>
<dd>
(string)
Type of Elasticsearch distribution. This is always <code class="literal">default</code>.
</dd>
<dt>
<span class="term">
<code class="literal">type</code>
</span>
</dt>
<dd>
(string)
File type, such as <code class="literal">tar</code> or <code class="literal">zip</code>, used for the distribution package.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of selected nodes using the distribution flavor and file type.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">snapshots</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the <a class="xref" href="snapshot-restore.html" title="Snapshot and restore">snapshot</a> activity in the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">snapshots</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_counts</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics which report the numbers of various ongoing snapshot activities in the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">current_counts</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">snapshots</code>
</span>
</dt>
<dd>
(integer)
The total number of snapshots and clones currently being created by the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">shard_snapshots</code>
</span>
</dt>
<dd>
(integer)
The total number of outstanding shard snapshots in the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">snapshot_deletions</code>
</span>
</dt>
<dd>
(integer)
The total number of snapshot deletion operations that the cluster is currently
running.
</dd>
<dt>
<span class="term">
<code class="literal">concurrent_operations</code>
</span>
</dt>
<dd>
(integer)
The total number of snapshot operations that the cluster is currently running
concurrently. This is the total of the <code class="literal">snapshots</code> and <code class="literal">snapshot_deletions</code>
entries, and is limited by <a class="xref" href="settings.html#snapshot-max-concurrent-ops">the
<code class="literal">snapshot.max_concurrent_operations</code> setting</a>.
</dd>
<dt>
<span class="term">
<code class="literal">cleanups</code>
</span>
</dt>
<dd>
(integer)
The total number of repository cleanup operations that the cluster is currently
running. These operations do not count towards the total number of concurrent
operations.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">repositories</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics which report the progress of snapshot activities broken down
by repository. This object contains one entry for each repository registered
with the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">repositories</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_counts</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics which report the numbers of various ongoing snapshot
activities for this repository.
</p>
<details open>
<summary class="title">Properties of <code class="literal">current_counts</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">snapshots</code>
</span>
</dt>
<dd>
(integer)
The total number of ongoing snapshots in this repository.
</dd>
<dt>
<span class="term">
<code class="literal">clones</code>
</span>
</dt>
<dd>
(integer)
The total number of ongoing snapshot clones in this repository.
</dd>
<dt>
<span class="term">
<code class="literal">finalizations</code>
</span>
</dt>
<dd>
(integer)
The total number of this repository&#8217;s ongoing snapshots and clone operations
which are mostly complete except for their last "finalization" step.
</dd>
<dt>
<span class="term">
<code class="literal">deletions</code>
</span>
</dt>
<dd>
(integer)
The total number of ongoing snapshot deletion operations in this repository.
</dd>
<dt>
<span class="term">
<code class="literal">snapshot_deletions</code>
</span>
</dt>
<dd>
(integer)
The total number of snapshots that are currently being deleted from this
repository.
</dd>
<dt>
<span class="term">
<code class="literal">active_deletions</code>
</span>
</dt>
<dd>
(integer)
The total number of ongoing snapshot deletion operations which are currently
active in this repository. Snapshot deletions do not run concurrently with other
snapshot operations, so this may be <code class="literal">0</code> if any pending deletes are waiting for
other operations to finish.
</dd>
<dt>
<span class="term">
<code class="literal">shards</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics which report the shard-level progress of ongoing snapshot
activities for a repository. Note that these statistics relate only to ongoing
snapshots.
</p>
<details open>
<summary class="title">Properties of <code class="literal">shards</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
The total number of shard snapshots currently tracked by this repository. This
statistic only counts shards in ongoing snapshots, so it will drop when a
snapshot completes and will be <code class="literal">0</code> if there are no ongoing snapshots.
</dd>
<dt>
<span class="term">
<code class="literal">complete</code>
</span>
</dt>
<dd>
(integer)
The total number of tracked shard snapshots which have completed in this
repository. This statistic only counts shards in ongoing snapshots, so it will
drop when a snapshot completes and will be <code class="literal">0</code> if there are no ongoing
snapshots.
</dd>
<dt>
<span class="term">
<code class="literal">incomplete</code>
</span>
</dt>
<dd>
(integer)
The total number of tracked shard snapshots which have not completed in this
repository. This is the difference between the <code class="literal">total</code> and <code class="literal">complete</code> values.
</dd>
<dt>
<span class="term">
<code class="literal">states</code>
</span>
</dt>
<dd>
(object)
The total number of shard snapshots in each of the named states in this
repository. These states are an implementation detail of the snapshotting
process which may change between versions. They are included here for expert
users, but should otherwise be ignored.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">oldest_start_time</code>
</span>
</dt>
<dd>
(string)
The start time of the oldest running snapshot in this repository.
</dd>
<dt>
<span class="term">
<code class="literal">oldest_start_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
The start time of the oldest running snapshot in this repository, represented as
milliseconds since the Unix epoch.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-stats-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_cluster/stats?human&amp;pretty</pre>
</div>
<div class="console_widget" data-snippet="snippets/2163.console"></div>
<p>The API returns the following response:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
   "_nodes" : {
      "total" : 1,
      "successful" : 1,
      "failed" : 0
   },
   "cluster_uuid": "YjAvIhsCQ9CbjWZb2qJw3Q",
   "cluster_name": "elasticsearch",
   "timestamp": 1459427693515,
   "status": "green",
   "indices": {
      "count": 1,
      "shards": {
         "total": 5,
         "primaries": 5,
         "replication": 0,
         "index": {
            "shards": {
               "min": 5,
               "max": 5,
               "avg": 5
            },
            "primaries": {
               "min": 5,
               "max": 5,
               "avg": 5
            },
            "replication": {
               "min": 0,
               "max": 0,
               "avg": 0
            }
         }
      },
      "docs": {
         "count": 10,
         "deleted": 0
      },
      "store": {
         "size": "16.2kb",
         "size_in_bytes": 16684,
         "total_data_set_size": "16.2kb",
         "total_data_set_size_in_bytes": 16684,
         "reserved": "0b",
         "reserved_in_bytes": 0
      },
      "search": {
          ...
      },
      "fielddata": {
         "memory_size": "0b",
         "memory_size_in_bytes": 0,
         "evictions": 0,
         "global_ordinals": {
            "build_time" : "0s",
            "build_time_in_millis" : 0
         }
      },
      "query_cache": {
         "memory_size": "0b",
         "memory_size_in_bytes": 0,
         "total_count": 0,
         "hit_count": 0,
         "miss_count": 0,
         "cache_size": 0,
         "cache_count": 0,
         "evictions": 0
      },
      "completion": {
         "size": "0b",
         "size_in_bytes": 0
      },
      "segments": {
         "count": 4,
         "memory": "8.6kb",
         "memory_in_bytes": 0,
         "terms_memory": "0b",
         "terms_memory_in_bytes": 0,
         "stored_fields_memory": "0b",
         "stored_fields_memory_in_bytes": 0,
         "term_vectors_memory": "0b",
         "term_vectors_memory_in_bytes": 0,
         "norms_memory": "0b",
         "norms_memory_in_bytes": 0,
         "points_memory" : "0b",
         "points_memory_in_bytes" : 0,
         "doc_values_memory": "0b",
         "doc_values_memory_in_bytes": 0,
         "index_writer_memory": "0b",
         "index_writer_memory_in_bytes": 0,
         "version_map_memory": "0b",
         "version_map_memory_in_bytes": 0,
         "fixed_bit_set": "0b",
         "fixed_bit_set_memory_in_bytes": 0,
         "max_unsafe_auto_id_timestamp" : -9223372036854775808,
         "file_sizes": {}
      },
      "mappings": {
        "total_field_count": 0,
        "total_deduplicated_field_count": 0,
        "total_deduplicated_mapping_size": "0b",
        "total_deduplicated_mapping_size_in_bytes": 0,
        "field_types": [],
        "runtime_field_types": []
      },
      "analysis": {
        "char_filter_types": [],
        "tokenizer_types": [],
        "filter_types": [],
        "analyzer_types": [],
        "built_in_char_filters": [],
        "built_in_tokenizers": [],
        "built_in_filters": [],
        "built_in_analyzers": []
      },
      "versions": [
        {
          "version": "8.0.0",
          "index_count": 1,
          "primary_shard_count": 1,
          "total_primary_size": "7.4kb",
          "total_primary_bytes": 7632
        }
      ]
   },
   "nodes": {
      "count": {
         "total": 1,
         "data": 1,
         "coordinating_only": 0,
         "master": 1,
         "ingest": 1,
         "voting_only": 0
      },
      "versions": [
         "8.9.2"
      ],
      "os": {
         "available_processors": 8,
         "allocated_processors": 8,
         "names": [
            {
               "name": "Mac OS X",
               "count": 1
            }
         ],
         "pretty_names": [
            {
               "pretty_name": "Mac OS X",
               "count": 1
            }
         ],
         "architectures": [
            {
               "arch": "x86_64",
               "count": 1
            }
         ],
         "mem" : {
            "total" : "16gb",
            "total_in_bytes" : 17179869184,
            "adjusted_total" : "16gb",
            "adjusted_total_in_bytes" : 17179869184,
            "free" : "78.1mb",
            "free_in_bytes" : 81960960,
            "used" : "15.9gb",
            "used_in_bytes" : 17097908224,
            "free_percent" : 0,
            "used_percent" : 100
         }
      },
      "process": {
         "cpu": {
            "percent": 9
         },
         "open_file_descriptors": {
            "min": 268,
            "max": 268,
            "avg": 268
         }
      },
      "jvm": {
         "max_uptime": "13.7s",
         "max_uptime_in_millis": 13737,
         "versions": [
            {
               "version": "12",
               "vm_name": "OpenJDK 64-Bit Server VM",
               "vm_version": "12+33",
               "vm_vendor": "Oracle Corporation",
               "bundled_jdk": true,
               "using_bundled_jdk": true,
               "count": 1
            }
         ],
         "mem": {
            "heap_used": "57.5mb",
            "heap_used_in_bytes": 60312664,
            "heap_max": "989.8mb",
            "heap_max_in_bytes": 1037959168
         },
         "threads": 90
      },
      "fs": {
         "total": "200.6gb",
         "total_in_bytes": 215429193728,
         "free": "32.6gb",
         "free_in_bytes": 35064553472,
         "available": "32.4gb",
         "available_in_bytes": 34802409472
      },
      "plugins": [
        {
          "name": "analysis-icu",
          "version": "8.9.2",
          "description": "The ICU Analysis plugin integrates Lucene ICU module into elasticsearch, adding ICU relates analysis components.",
          "classname": "org.elasticsearch.plugin.analysis.icu.AnalysisICUPlugin",
          "has_native_controller": false
        },
        ...
      ],
      "ingest": {
        "number_of_pipelines" : 1,
        "processor_stats": {
          ...
        }
      },
      "indexing_pressure": {
        "memory": {
            "current": {
                 "combined_coordinating_and_primary": "0b",
                 "combined_coordinating_and_primary_in_bytes": 0,
                 "coordinating": "0b",
                 "coordinating_in_bytes": 0,
                 "primary": "0b",
                 "primary_in_bytes": 0,
                 "replica": "0b",
                 "replica_in_bytes": 0,
                 "all": "0b",
                 "all_in_bytes": 0
            },
            "total": {
                "combined_coordinating_and_primary": "0b",
                "combined_coordinating_and_primary_in_bytes": 0,
                "coordinating": "0b",
                "coordinating_in_bytes": 0,
                "primary": "0b",
                "primary_in_bytes": 0,
                "replica": "0b",
                "replica_in_bytes": 0,
                "all": "0b",
                "all_in_bytes": 0,
                "coordinating_rejections": 0,
                "primary_rejections": 0,
                "replica_rejections": 0
            },
            "limit" : "0b",
            "limit_in_bytes": 0
        }
      },
      "network_types": {
        ...
      },
      "discovery_types": {
        ...
      },
      "packaging_types": [
        {
          ...
        }
      ]
   },
   "snapshots": {
     ...
   }
}</pre>
</div>
<p>This API can be restricted to a subset of the nodes using <a class="xref" href="cluster.html#cluster-nodes" title="Node specification">node
filters</a>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_cluster/stats/nodes/node1,node*,master:false</pre>
</div>
<div class="console_widget" data-snippet="snippets/2164.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-update-settings"></a>Cluster update settings API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-settings.asciidoc">edit</a></h2>
</div></div></div>

<p>Configures <a class="xref" href="settings.html#dynamic-cluster-setting">dynamic cluster settings</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-update-settings-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-settings.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">PUT /_cluster/settings</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-update-settings-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-settings.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">manage</code>
<a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-update-settings-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-settings.asciidoc">edit</a></h3>
</div></div></div>
<p>You can configure and update dynamic settings on a running cluster using the
cluster update settings API.
You can also configure dynamic settings locally on an unstarted or shut down
node using <code class="literal">elasticsearch.yml</code>.</p>
<p>Updates made using the cluster update settings API can be <em>persistent</em>, which
apply across cluster restarts, or <em>transient</em>, which reset after a cluster
restart. You can also reset transient or persistent settings by assigning them
a <code class="literal">null</code> value using the API.</p>
<p>If you configure the same setting using multiple methods, Elasticsearch applies the
settings in following order of precedence:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Transient setting
</li>
<li class="listitem">
Persistent setting
</li>
<li class="listitem">
<code class="literal">elasticsearch.yml</code> setting
</li>
<li class="listitem">
Default setting value
</li>
</ol>
</div>
<p>For example, you can apply a transient setting to override a persistent setting
or <code class="literal">elasticsearch.yml</code> setting. However, a change to an <code class="literal">elasticsearch.yml</code>
setting will not override a defined transient or persistent setting.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use Elasticsearch Service, use the <a href="https://www.elastic.co/guide/en/cloud/current/ec-add-user-settings.html" class="ulink" target="_top">user settings</a>
feature to configure all cluster settings. This method lets Elasticsearch Service automatically
reject unsafe settings that could break your cluster.</p>
<p>If you run Elasticsearch on your own hardware, use the
cluster update settings API
to configure dynamic cluster settings. Only use <code class="literal">elasticsearch.yml</code> for static
cluster settings and node settings. The API doesn&#8217;t require a restart and
ensures a setting&#8217;s value is the same on all nodes.</p>
</div>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>We no longer recommend using transient cluster settings. Use persistent cluster
settings instead. If a cluster becomes unstable, transient settings can clear
unexpectedly, resulting in a potentially undesired cluster configuration. See
the <a class="xref" href="migrating-8.0.html#transient-settings-migration-guide" title="Transient settings migration guide">Transient settings migration guide</a>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-update-settings-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-settings.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">flat_settings</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns settings in flat format. Defaults to
<code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">include_defaults</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns all default cluster settings.
Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-update-settings-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-settings.asciidoc">edit</a></h3>
</div></div></div>
<p>An example of a persistent update:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT /_cluster/settings
{
  "persistent" : {
    "indices.recovery.max_bytes_per_sec" : "50mb"
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2165.console"></div>
<p>An example of a transient update:</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>We no longer recommend using transient cluster settings. Use persistent cluster
settings instead. If a cluster becomes unstable, transient settings can clear
unexpectedly, resulting in a potentially undesired cluster configuration. See
the <a class="xref" href="migrating-8.0.html#transient-settings-migration-guide" title="Transient settings migration guide">Transient settings migration guide</a>.</p>
</div>
</div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT /_cluster/settings?flat_settings=true
{
  "transient" : {
    "indices.recovery.max_bytes_per_sec" : "20mb"
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2166.console"></div>
<p>The response to an update returns the changed setting, as in this response to
the transient example:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  ...
  "persistent" : { },
  "transient" : {
    "indices.recovery.max_bytes_per_sec" : "20mb"
  }
}</pre>
</div>
<p>This example resets a setting:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT /_cluster/settings
{
  "transient" : {
    "indices.recovery.max_bytes_per_sec" : null
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2167.console"></div>
<p>The response does not include settings that have been reset:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  ...
  "persistent" : {},
  "transient" : {}
}</pre>
</div>
<p>You can also reset settings using wildcards. For example, to reset
all dynamic <code class="literal">indices.recovery</code> settings:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT /_cluster/settings
{
  "transient" : {
    "indices.recovery.*" : null
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2168.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-nodes-usage"></a>Nodes feature usage API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-usage.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns information on the usage of features.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-usage-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-usage.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_nodes/usage</code><br></p>
<p><code class="literal">GET /_nodes/&lt;node_id&gt;/usage</code><br></p>
<p><code class="literal">GET /_nodes/usage/&lt;metric&gt;</code><br></p>
<p><code class="literal">GET /_nodes/&lt;node_id&gt;/usage/&lt;metric&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-usage-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-usage.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-usage-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-usage.asciidoc">edit</a></h3>
</div></div></div>
<p>The cluster nodes usage API allows you to retrieve information on the usage
of features for each node. All the nodes selective options are explained
<a class="xref" href="cluster.html#cluster-nodes" title="Node specification">here</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-usage-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-usage.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;metric&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Limits the information returned to the specific metrics.
A comma-separated list of the following options:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_all</code>
</span>
</dt>
<dd>
Returns all stats.
</dd>
<dt>
<span class="term">
<code class="literal">rest_actions</code>
</span>
</dt>
<dd>
Returns the REST actions classname with a count of the number of times
that action has been called on the node.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">&lt;node_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of node IDs or names used to limit
returned information.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-usage-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-usage.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-usage-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-usage.asciidoc">edit</a></h3>
</div></div></div>
<p>Rest action example:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _nodes/usage</pre>
</div>
<div class="console_widget" data-snippet="snippets/2169.console"></div>
<p>The API returns the following response:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "_nodes": {
    "total": 1,
    "successful": 1,
    "failed": 0
  },
  "cluster_name": "my_cluster",
  "nodes": {
    "pQHNt5rXTTWNvUgOrdynKg": {
      "timestamp": 1492553961812, <a id="CO679-1"></a><i class="conum" data-value="1"></i>
      "since": 1492553906606, <a id="CO679-2"></a><i class="conum" data-value="2"></i>
      "rest_actions": {
        "nodes_usage_action": 1,
        "create_index_action": 1,
        "document_get_action": 1,
        "search_action": 19, <a id="CO679-3"></a><i class="conum" data-value="3"></i>
        "nodes_info_action": 36
      },
      "aggregations": {
        ...
      }
    }
  }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO679-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Timestamp for when this nodes usage request was performed.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO679-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Timestamp for when the usage information recording was started. This is
equivalent to the time that the node was started.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO679-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Search action has been called 19 times for this node.</p>
</td>
</tr>
</table>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-nodes-hot-threads"></a>Nodes hot threads API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-hot-threads.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns the hot threads on each selected node in the cluster.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-hot-threads-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-hot-threads.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_nodes/hot_threads</code><br></p>
<p><code class="literal">GET /_nodes/&lt;node_id&gt;/hot_threads</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-hot-threads-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-hot-threads.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-hot-threads-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-hot-threads.asciidoc">edit</a></h3>
</div></div></div>
<p>This API yields a breakdown of the hot threads on each selected node in the
cluster. The output is plain text with a breakdown of each node&#8217;s top hot
threads.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-hot-threads-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-hot-threads.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;node_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of node IDs or names used to limit
returned information.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-hot-threads-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-hot-threads.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ignore_idle_threads</code>
</span>
</dt>
<dd>
(Optional, Boolean) If true, known idle threads (e.g. waiting in a socket
select, or to get a task from an empty queue) are filtered out. Defaults to
true.
</dd>
<dt>
<span class="term">
<code class="literal">interval</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>) The interval to do the second
sampling of threads. Defaults to <code class="literal">500ms</code>.
</dd>
<dt>
<span class="term">
<code class="literal">snapshots</code>
</span>
</dt>
<dd>
(Optional, integer) Number of samples of thread stacktrace. Defaults to
<code class="literal">10</code>.
</dd>
<dt>
<span class="term">
<code class="literal">threads</code>
</span>
</dt>
<dd>
(Optional, integer) Specifies the number of hot threads to provide
              information for. Defaults to <code class="literal">3</code>. If you are using this API for
              troubleshooting, set this parameter to a large number (e.g.
              <code class="literal">9999</code>) to get information about all the threads in the system.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">type</code>
</span>
</dt>
<dd>
(Optional, string) The type to sample. Available options are <code class="literal">block</code>, <code class="literal">cpu</code>, and
<code class="literal">wait</code>. Defaults to <code class="literal">cpu</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-hot-threads-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-hot-threads.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_nodes/hot_threads
GET /_nodes/nodeId1,nodeId2/hot_threads</pre>
</div>
<div class="console_widget" data-snippet="snippets/2170.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-nodes-info"></a>Nodes info API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns cluster nodes information.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-info-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_nodes</code><br></p>
<p><code class="literal">GET /_nodes/&lt;node_id&gt;</code><br></p>
<p><code class="literal">GET /_nodes/&lt;metric&gt;</code><br></p>
<p><code class="literal">GET /_nodes/&lt;node_id&gt;/&lt;metric&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-info-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-info-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h3>
</div></div></div>
<p>The cluster nodes info API allows to retrieve one or more (or all) of
the cluster nodes information. All the nodes selective options are explained
<a class="xref" href="cluster.html#cluster-nodes" title="Node specification">here</a>.</p>
<p>By default, it returns all attributes and core settings for a node.</p>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-info-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;metric&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Limits the information returned to the specific metrics. Supports a
comma-separated list, such as <code class="literal">http,ingest</code>.
</p>
<details open>
<summary class="title">Valid values for <code class="literal">&lt;metric&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">aggregations</code>
</span>
</dt>
<dd>
Information about the available types of aggregation.
</dd>
<dt>
<span class="term">
<code class="literal">http</code>
</span>
</dt>
<dd>
Information about the HTTP interface of this node.
</dd>
<dt>
<span class="term">
<code class="literal">indices</code>
</span>
</dt>
<dd>
<p>Node-level configuration related to indexing:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">total_indexing_buffer</code>: the maximum size of the indexing buffer on this node.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">ingest</code>
</span>
</dt>
<dd>
Information about ingest pipelines and processors.
</dd>
<dt>
<span class="term">
<code class="literal">jvm</code>
</span>
</dt>
<dd>
JVM information, including its name, its version, and its configuration.
</dd>
<dt>
<span class="term">
<code class="literal">os</code>
</span>
</dt>
<dd>
Operating system information, including its name and version.
</dd>
<dt>
<span class="term">
<code class="literal">plugins</code>
</span>
</dt>
<dd>
<p>Details about the installed plugins and modules per node. The following
information is available for each plugin and module:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">name</code>: plugin name
</li>
<li class="listitem">
<code class="literal">version</code>: version of Elasticsearch the plugin was built for
</li>
<li class="listitem">
<code class="literal">description</code>: short description of the plugin&#8217;s purpose
</li>
<li class="listitem">
<code class="literal">classname</code>: fully-qualified class name of the plugin&#8217;s entry point
</li>
<li class="listitem">
<code class="literal">has_native_controller</code>: whether or not the plugin has a native controller
process
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">process</code>
</span>
</dt>
<dd>
Process information, including the numeric process ID.
</dd>
<dt>
<span class="term">
<code class="literal">settings</code>
</span>
</dt>
<dd>
Lists all node settings in use as defined in the <code class="literal">elasticsearch.yml</code> file.
</dd>
<dt>
<span class="term">
<code class="literal">thread_pool</code>
</span>
</dt>
<dd>
Information about the configuration of each thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">transport</code>
</span>
</dt>
<dd>
Information about the transport interface of the node.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<p>If you use the full <code class="literal">GET /_nodes/&lt;node_id&gt;/&lt;metric&gt;</code> form of this API then you
can also request the metric <code class="literal">_all</code> to retrieve all metrics, or you can request
the metric <code class="literal">_none</code> to suppress all metrics and retrieve only the identity of
the node.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;node_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of node IDs or names used to limit
returned information.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-info-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">build_hash</code>
</span>
</dt>
<dd>
Short hash of the last git commit in this release.
</dd>
<dt>
<span class="term">
<code class="literal">host</code>
</span>
</dt>
<dd>
The node&#8217;s host name.
</dd>
<dt>
<span class="term">
<code class="literal">ip</code>
</span>
</dt>
<dd>
The node&#8217;s IP address.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
The node&#8217;s name.
</dd>
<dt>
<span class="term">
<code class="literal">total_indexing_buffer</code>
</span>
</dt>
<dd>
Total heap allowed to be used to hold recently indexed
documents before they must be written to disk. This size is
a shared pool across all shards on this node, and is
  controlled by <a class="xref" href="settings.html#indexing-buffer" title="Indexing buffer settings">Indexing Buffer settings</a>.
</dd>
<dt>
<span class="term">
<code class="literal">total_indexing_buffer_in_bytes</code>
</span>
</dt>
<dd>
Same as <code class="literal">total_indexing_buffer</code>, but expressed in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">transport_address</code>
</span>
</dt>
<dd>
Host and port where transport HTTP connections are accepted.
</dd>
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
Elasticsearch version running on this node.
</dd>
<dt>
<span class="term">
<code class="literal">transport_version</code>
</span>
</dt>
<dd>
The most recent transport version that this node can communicate with.
</dd>
</dl>
</div>
<p>The <code class="literal">os</code> flag can be set to retrieve information that concern the operating
system:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">os.refresh_interval_in_millis</code>
</span>
</dt>
<dd>
Refresh interval for the OS statistics
</dd>
<dt>
<span class="term">
<code class="literal">os.name</code>
</span>
</dt>
<dd>
Name of the operating system (ex: Linux, Windows, Mac OS X)
</dd>
<dt>
<span class="term">
<code class="literal">os.arch</code>
</span>
</dt>
<dd>
Name of the JVM architecture (ex: amd64, x86)
</dd>
<dt>
<span class="term">
<code class="literal">os.version</code>
</span>
</dt>
<dd>
Version of the operating system
</dd>
<dt>
<span class="term">
<code class="literal">os.available_processors</code>
</span>
</dt>
<dd>
Number of processors available to the Java virtual machine
</dd>
<dt>
<span class="term">
<code class="literal">os.allocated_processors</code>
</span>
</dt>
<dd>
 The number of processors actually used to calculate thread pool size. This
number can be set with the <a class="xref" href="settings.html#node.processors" title="Allocated processors setting"><code class="literal">node.processors</code></a>
setting of a node and defaults to the number of processors reported by
the OS.
</dd>
</dl>
</div>
<p>The <code class="literal">process</code> flag can be set to retrieve information that concern the current
running process:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">process.refresh_interval_in_millis</code>
</span>
</dt>
<dd>
Refresh interval for the process statistics
</dd>
<dt>
<span class="term">
<code class="literal">process.id</code>
</span>
</dt>
<dd>
Process identifier (PID)
</dd>
<dt>
<span class="term">
<code class="literal">process.mlockall</code>
</span>
</dt>
<dd>
Indicates if the process address space has been successfully locked in memory
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-info-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">flat_settings</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns settings in flat format. Defaults to
<code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-info-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console"># return just process
GET /_nodes/process

# same as above
GET /_nodes/_all/process

# return just jvm and process of only nodeId1 and nodeId2
GET /_nodes/nodeId1,nodeId2/jvm,process

# same as above
GET /_nodes/nodeId1,nodeId2/info/jvm,process

# return all the information of only nodeId1 and nodeId2
GET /_nodes/nodeId1,nodeId2/_all</pre>
</div>
<div class="console_widget" data-snippet="snippets/2171.console"></div>
<p>The <code class="literal">_all</code> flag can be set to return all the information - or you can omit it.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="cluster-nodes-info-api-example-plugins"></a>Example for plugins metric<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h4>
</div></div></div>
<p>If <code class="literal">plugins</code> is specified, the result will contain details about the installed
plugins and modules:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_nodes/plugins</pre>
</div>
<div class="console_widget" data-snippet="snippets/2172.console"></div>
<p>The API returns the following response:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "_nodes": ...
  "cluster_name": "elasticsearch",
  "nodes": {
    "USpTGYaBSIKbgSUJR2Z9lg": {
      "name": "node-0",
      "transport_address": "192.168.17:9300",
      "host": "node-0.elastic.co",
      "ip": "192.168.17",
      "version": "{version}",
      "transport_version": 100000298,
      "build_flavor": "default",
      "build_type": "{build_type}",
      "build_hash": "587409e",
      "roles": [
        "master",
        "data",
        "ingest"
      ],
      "attributes": {},
      "plugins": [
        {
          "name": "analysis-icu",
          "version": "{version}",
          "description": "The ICU Analysis plugin integrates Lucene ICU module into elasticsearch, adding ICU relates analysis components.",
          "classname": "org.elasticsearch.plugin.analysis.icu.AnalysisICUPlugin",
          "has_native_controller": false
        }
      ],
      "modules": [
        {
          "name": "lang-painless",
          "version": "{version}",
          "description": "An easy, safe and fast scripting language for Elasticsearch",
          "classname": "org.elasticsearch.painless.PainlessPlugin",
          "has_native_controller": false
        }
      ]
    }
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="cluster-nodes-info-api-example-ingest"></a>Example for ingest metric<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-info.asciidoc">edit</a></h4>
</div></div></div>
<p>If <code class="literal">ingest</code> is specified, the response contains details about the available
processors per node:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_nodes/ingest</pre>
</div>
<div class="console_widget" data-snippet="snippets/2173.console"></div>
<p>The API returns the following response:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "_nodes": ...
  "cluster_name": "elasticsearch",
  "nodes": {
    "USpTGYaBSIKbgSUJR2Z9lg": {
      "name": "node-0",
      "transport_address": "192.168.17:9300",
      "host": "node-0.elastic.co",
      "ip": "192.168.17",
      "version": "{version}",
      "transport_version": 100000298,
      "build_flavor": "default",
      "build_type": "{build_type}",
      "build_hash": "587409e",
      "roles": [],
      "attributes": {},
      "ingest": {
        "processors": [
          {
            "type": "date"
          },
          {
            "type": "uppercase"
          },
          {
            "type": "set"
          },
          {
            "type": "lowercase"
          },
          {
            "type": "gsub"
          },
          {
            "type": "convert"
          },
          {
            "type": "remove"
          },
          {
            "type": "fail"
          },
          {
            "type": "foreach"
          },
          {
            "type": "split"
          },
          {
            "type": "trim"
          },
          {
            "type": "rename"
          },
          {
            "type": "join"
          },
          {
            "type": "append"
          }
        ]
      }
    }
  }
}</pre>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="prevalidate-node-removal-api"></a>Prevalidate node removal API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/prevalidate-node-removal.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by <a href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service</a>, <a href="https://www.elastic.co/guide/en/cloud-enterprise/current" class="ulink" target="_top">Elastic Cloud Enterprise</a>, and <a href="https://www.elastic.co/guide/en/cloud-on-k8s/current" class="ulink" target="_top">Elastic Cloud on Kubernetes</a>. Direct use is not supported.</p>
</div>
</div>
<p>Prevalidate node removal.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="prevalidate-node-removal-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/prevalidate-node-removal.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /_internal/prevalidate_node_removal</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="prevalidate-node-removal-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/prevalidate-node-removal.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or <code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="prevalidate-node-removal-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/prevalidate-node-removal.asciidoc">edit</a></h3>
</div></div></div>
<p>This API checks whether attempting to remove the specified node(s) from the cluster is likely to succeed or not. For a cluster with no unassigned shards, removal of any node is considered safe which means the removal of the nodes is likely to succeed.</p>
<p>In case the cluster has a <a class="xref" href="cluster.html#cluster-health" title="Cluster health API"><code class="literal">red</code> cluster health status</a>, it verifies that the removal of the node(s) would not risk removing the last remaining copy of an unassigned shard. If there are red indices in the cluster, the API checks whether the red indices are <a class="xref" href="searchable-snapshots.html" title="Searchable snapshots">Searchable Snapshot</a> indices, and if not, it sends a request to each of nodes specified in the API call to verify whether the nodes might contain local shard copies of the red indices that are not Searchable Snapshot indices. This request is processed on each receiving node, by checking whether the node has a shard directory for any of the red index shards.</p>
<p>The response includes the overall safety of the removal of the specified nodes, and a detailed response for each node. The node-specific part of the response also includes more details on why removal of that node might not succeed.</p>
<p>Note that only one of the query parameters (<code class="literal">names</code>, <code class="literal">ids</code>, or <code class="literal">external_ids</code>) must be used to specify the set of nodes.</p>
<p>Note that if the prevalidation result for a set of nodes returns <code class="literal">true</code> (i.e. it is likely to succeed), this does not mean that all those nodes could be successfully removed at once, but rather removal of each individual node would potentially be successful. The actual node removal could be handled via the <a class="xref" href="node-lifecycle-api.html" title="Node lifecycle APIs">Node lifecycle API</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="prevalidate-node-removal-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/prevalidate-node-removal.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">names</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of node names.
</dd>
<dt>
<span class="term">
<code class="literal">ids</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of node IDs.
</dd>
<dt>
<span class="term">
<code class="literal">external_ids</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of node external IDs.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="prevalidate-node-removal-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/prevalidate-node-removal.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">is_safe</code>
</span>
</dt>
<dd>
(boolean) Whether the removal of all the provided nodes is safe or not.
</dd>
<dt>
<span class="term">
<code class="literal">message</code>
</span>
</dt>
<dd>
(string) A message providing more detail on why the operation is considered safe or not.
</dd>
<dt>
<span class="term">
<code class="literal">nodes</code>
</span>
</dt>
<dd>
<p>
(object) Prevalidation result for the removal of each of the provided nodes.
</p>
<details open>
<summary class="title">Properties of <code class="literal">nodes</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;node&gt;</code>
</span>
</dt>
<dd>
<p>
(object) Contains information about the removal prevalidation of a specific node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;node&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(string) node ID
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string) node name
</dd>
<dt>
<span class="term">
<code class="literal">external_id</code>
</span>
</dt>
<dd>
(string) node external ID
</dd>
<dt>
<span class="term">
<code class="literal">result</code>
</span>
</dt>
<dd>
<p>
(object) Contains removal prevalidation result of the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">result</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">is_safe</code>
</span>
</dt>
<dd>
(boolean) Whether the removal of the node is considered safe or not.
</dd>
<dt>
<span class="term">
<code class="literal">reason</code>
</span>
</dt>
<dd>
<p>
(string) A string that specifies the reason why the prevalidation result is considered safe or not. It can be one of the following values:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">no_problems</code>: The prevalidation did not find any issues that could prevent the node from being safely removed.
</li>
<li class="listitem">
<code class="literal">no_red_shards_except_searchable_snapshots</code>: The node can be safely removed as all red indices are searchable snapshot indices and therefore removing a node does not risk removing the last copy of that index from the cluster.
</li>
<li class="listitem">
<code class="literal">no_red_shards_on_node</code>: The node does not contain any copies of the red non-searchable-snapshot index shards.
</li>
<li class="listitem">
<code class="literal">red_shards_on_node</code>: The node might contain shard copies of some non-searchable-snapshot red indices. The list of the shards that might be on the node are specified in the <code class="literal">message</code> field.
</li>
<li class="listitem">
<code class="literal">unable_to_verify_red_shards</code>: Contacting the node failed or timed out. More details is provided in the <code class="literal">message</code> field.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">message</code>
</span>
</dt>
<dd>
(Optional, string) Detailed information about the removal prevalidation result.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="prevalidate-node-removal-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/prevalidate-node-removal.asciidoc">edit</a></h3>
</div></div></div>
<p>This example validates whether it is safe to remove the nodes <code class="literal">node1</code> and <code class="literal">node2</code>. The response indicates that it is safe to remove <code class="literal">node1</code>, but it might not be safe to remove <code class="literal">node2</code> as it might contain copies of the specified red shards. Therefore, the overall prevalidation of the removal of the two nodes returns <code class="literal">false</code>.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /_internal/prevalidate_node_removal?names=node1,node2</pre>
</div>
<div class="console_widget" data-snippet="snippets/2174.console"></div>
<p>The API returns the following response:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "is_safe": false,
  "message": "removal of the following nodes might not be safe: [node2-id]",
  "nodes": [
    {
      "id": "node1-id",
      "name" : "node1",
      "external_id" : "node1-externalId",
      "result" : {
        "is_safe": true,
        "reason": "no_red_shards_on_node",
        "message": ""
      }
    },
    {
      "id": "node2-id",
      "name" : "node2",
      "external_id" : "node2-externalId",
      "result" : {
        "is_safe": false,
        "reason": "red_shards_on_node",
        "message": "node contains copies of the following red shards: [[indexName][0]]"
      }
    }
  ]
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-nodes-reload-secure-settings"></a>Nodes reload secure settings API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-reload-secure-settings.asciidoc">edit</a></h2>
</div></div></div>

<p>Reloads the keystore on nodes in the cluster.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-reload-secure-settings-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-reload-secure-settings.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /_nodes/reload_secure_settings</code><br>
<code class="literal">POST /_nodes/&lt;node_id&gt;/reload_secure_settings</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-reload-secure-settings-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-reload-secure-settings.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">manage</code>
<a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-reload-secure-settings-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-reload-secure-settings.asciidoc">edit</a></h3>
</div></div></div>
<p><a class="xref" href="settings.html#secure-settings" title="Secure settings">Secure settings</a> are stored in an on-disk keystore. Certain
of these settings are <a class="xref" href="settings.html#reloadable-secure-settings" title="Reloadable secure settings">reloadable</a>. That is, you
can change them on disk and reload them without restarting any nodes in the
cluster. When you have updated reloadable secure settings in your keystore, you
can use this API to reload those settings on each node.</p>
<p>When the Elasticsearch keystore is password protected and not simply obfuscated, you must
provide the password for the keystore when you reload the secure settings.
Reloading the settings for the whole cluster assumes that all nodes' keystores
are protected with the same password; this method is allowed only when
<a class="xref" href="manually-configure-security.html#encrypt-internode-communication" title="Encrypt internode communications with TLS">inter-node communications are encrypted</a>. Alternatively, you can
reload the secure settings on each node by locally accessing the API and passing
the node-specific Elasticsearch keystore password.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-reload-secure-settings-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-reload-secure-settings.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;node_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string) The names of particular nodes in the cluster to target.
For example, <code class="literal">nodeId1,nodeId2</code>. For node selection options, see
<a class="xref" href="cluster.html#cluster-nodes" title="Node specification">Node specification</a>.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch requires consistent secure settings across the cluster nodes, but
this consistency is not enforced. Hence, reloading specific nodes is not
standard. It is justifiable only when retrying failed reload operations.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-reload-secure-settings-api-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-reload-secure-settings.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">secure_settings_password</code>
</span>
</dt>
<dd>
(Optional, string) The password for the Elasticsearch keystore.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-reload-secure-settings-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-reload-secure-settings.asciidoc">edit</a></h3>
</div></div></div>
<p>The following examples assume a common password for the Elasticsearch keystore on every
node of the cluster:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _nodes/reload_secure_settings
{
  "secure_settings_password":"keystore-password"
}
POST _nodes/nodeId1,nodeId2/reload_secure_settings
{
  "secure_settings_password":"keystore-password"
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2175.console"></div>
<p>The response contains the <code class="literal">nodes</code> object, which is a map, keyed by the
node id. Each value has the node <code class="literal">name</code> and an optional <code class="literal">reload_exception</code>
field. The <code class="literal">reload_exception</code> field is a serialization of the exception
that was thrown during the reload process, if any.</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "_nodes": {
    "total": 1,
    "successful": 1,
    "failed": 0
  },
  "cluster_name": "my_cluster",
  "nodes": {
    "pQHNt5rXTTWNvUgOrdynKg": {
      "name": "node-0"
    }
  }
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-nodes-stats"></a>Nodes stats API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns cluster nodes statistics.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-stats-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_nodes/stats</code><br></p>
<p><code class="literal">GET /_nodes/&lt;node_id&gt;/stats</code><br></p>
<p><code class="literal">GET /_nodes/stats/&lt;metric&gt;</code><br></p>
<p><code class="literal">GET /_nodes/&lt;node_id&gt;/stats/&lt;metric&gt;</code><br></p>
<p><code class="literal">GET /_nodes/stats/&lt;metric&gt;/&lt;index_metric&gt;</code><br></p>
<p><code class="literal">GET /_nodes/&lt;node_id&gt;/stats/&lt;metric&gt;/&lt;index_metric&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-stats-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-stats-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h3>
</div></div></div>
<p>You can use the cluster nodes stats API to retrieve statistics for nodes in a cluster.</p>
<p>All the nodes selective options are explained <a class="xref" href="cluster.html#cluster-nodes" title="Node specification">here</a>.</p>
<p>By default, all stats are returned. You can limit the returned information by
using metrics.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-stats-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;metric&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Limits the information returned to the specific metrics.
A comma-separated list of the following options:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">adaptive_selection</code>
</span>
</dt>
<dd>
Statistics about <a class="xref" href="search-shard-routing.html#search-adaptive-replica" title="Adaptive replica selection">adaptive replica selection</a>.
</dd>
<dt>
<span class="term">
<code class="literal">breaker</code>
</span>
</dt>
<dd>
Statistics about the field data circuit breaker.
</dd>
<dt>
<span class="term">
<code class="literal">discovery</code>
</span>
</dt>
<dd>
Statistics about the discovery.
</dd>
<dt>
<span class="term">
<code class="literal">fs</code>
</span>
</dt>
<dd>
File system information, data path, free disk space, read/write
stats.
</dd>
<dt>
<span class="term">
<code class="literal">http</code>
</span>
</dt>
<dd>
HTTP connection information.
</dd>
<dt>
<span class="term">
<code class="literal">indexing_pressure</code>
</span>
</dt>
<dd>
Statistics about the node&#8217;s indexing load and related rejections.
</dd>
<dt>
<span class="term">
<code class="literal">indices</code>
</span>
</dt>
<dd>
Indices stats about size, document count, indexing and deletion times,
search times, field cache size, merges and flushes.
</dd>
<dt>
<span class="term">
<code class="literal">ingest</code>
</span>
</dt>
<dd>
Statistics about ingest preprocessing.
</dd>
<dt>
<span class="term">
<code class="literal">jvm</code>
</span>
</dt>
<dd>
JVM stats, memory pool information, garbage collection, buffer
pools, number of loaded/unloaded classes.
</dd>
<dt>
<span class="term">
<code class="literal">os</code>
</span>
</dt>
<dd>
Operating system stats, load average, mem, swap.
</dd>
<dt>
<span class="term">
<code class="literal">process</code>
</span>
</dt>
<dd>
Process statistics, memory consumption, cpu usage, open
file descriptors.
</dd>
<dt>
<span class="term">
<code class="literal">repositories</code>
</span>
</dt>
<dd>
Statistics about snapshot repositories.
</dd>
<dt>
<span class="term">
<code class="literal">thread_pool</code>
</span>
</dt>
<dd>
Statistics about each thread pool, including current size, queue and
rejected tasks.
</dd>
<dt>
<span class="term">
<code class="literal">transport</code>
</span>
</dt>
<dd>
Transport statistics about sent and received bytes in cluster
communication.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">&lt;index_metric&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Limit the information returned for <code class="literal">indices</code> metric to
the specific index metrics. It can be used only if <code class="literal">indices</code> (or <code class="literal">all</code>)
metric is specified. Supported metrics are:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">bulk</code>
</li>
<li class="listitem">
<code class="literal">completion</code>
</li>
<li class="listitem">
<code class="literal">docs</code>
</li>
<li class="listitem">
<code class="literal">fielddata</code>
</li>
<li class="listitem">
<code class="literal">flush</code>
</li>
<li class="listitem">
<code class="literal">get</code>
</li>
<li class="listitem">
<code class="literal">indexing</code>
</li>
<li class="listitem">
<code class="literal">mappings</code>
</li>
<li class="listitem">
<code class="literal">merge</code>
</li>
<li class="listitem">
<code class="literal">query_cache</code>
</li>
<li class="listitem">
<code class="literal">recovery</code>
</li>
<li class="listitem">
<code class="literal">refresh</code>
</li>
<li class="listitem">
<code class="literal">request_cache</code>
</li>
<li class="listitem">
<code class="literal">search</code>
</li>
<li class="listitem">
<code class="literal">segments</code>
</li>
<li class="listitem">
<code class="literal">shard_stats</code>
</li>
<li class="listitem">
<code class="literal">store</code>
</li>
<li class="listitem">
<code class="literal">translog</code>
</li>
<li class="listitem">
<code class="literal">warmer</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">&lt;node_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of node IDs or names used to limit
returned information.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-stats-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">completion_fields</code>
</span>
</dt>
<dd>
(Optional, string)
Comma-separated list or wildcard expressions of fields
to include in <code class="literal">fielddata</code> and <code class="literal">suggest</code> statistics.
</dd>
<dt>
<span class="term">
<code class="literal">fielddata_fields</code>
</span>
</dt>
<dd>
(Optional, string)
Comma-separated list or wildcard expressions of fields
to include in <code class="literal">fielddata</code> statistics.
</dd>
<dt>
<span class="term">
<code class="literal">fields</code>
</span>
</dt>
<dd>
<p>(Optional, string)
Comma-separated list or wildcard expressions of fields
to include in the statistics.</p>
<p>Used as the default list
unless a specific field list is provided
in the <code class="literal">completion_fields</code> or <code class="literal">fielddata_fields</code> parameters.</p>
</dd>
<dt>
<span class="term">
<code class="literal">groups</code>
</span>
</dt>
<dd>
(Optional, string)
Comma-separated list of search groups
to include in the <code class="literal">search</code> statistics.
</dd>
<dt>
<span class="term">
<code class="literal">level</code>
</span>
</dt>
<dd>
<p>(Optional, string)
Indicates whether statistics are aggregated
at the cluster, index, or shard level.</p>
<p>Valid values are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">cluster</code>
</li>
<li class="listitem">
<code class="literal">indices</code>
</li>
<li class="listitem">
<code class="literal">shards</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">types</code>
</span>
</dt>
<dd>
(Optional, string) A comma-separated list of document types for the
<code class="literal">indexing</code> index metric.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">include_segment_file_sizes</code>
</span>
</dt>
<dd>
(Optional, Boolean)
If <code class="literal">true</code>, the call reports the aggregated disk usage of
each one of the Lucene index files (only applies if segment stats are
requested). Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">include_unloaded_segments</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the response includes information from segments
that are <span class="strong strong"><strong>not</strong></span> loaded into memory. Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-stats-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_nodes</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the number of nodes selected by the request.
</p>
<details open>
<summary class="title">Properties of <code class="literal">_nodes</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of nodes selected by the request.
</dd>
<dt>
<span class="term">
<code class="literal">successful</code>
</span>
</dt>
<dd>
(integer)
Number of nodes that responded successfully to the request.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Number of nodes that rejected the request or failed to respond. If this value
is not <code class="literal">0</code>, a reason for the rejection or failure is included in the response.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">cluster_name</code>
</span>
</dt>
<dd>
(string)
Name of the cluster. Based on the <a class="xref" href="settings.html#cluster-name" title="Cluster name setting">Cluster name setting</a> setting.
</dd>
<dt>
<span class="term">
<code class="literal">nodes</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for the nodes selected by the request.
</p>
<details open>
<summary class="title">Properties of <code class="literal">nodes</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;node_id&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;node_id&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">timestamp</code>
</span>
</dt>
<dd>
(integer)
Time the node stats were collected for this response. Recorded in milliseconds
since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix Epoch</a>.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Human-readable identifier for the node. Based on the <a class="xref" href="settings.html#node-name" title="Node name setting">Node name setting</a> setting.
</dd>
<dt>
<span class="term">
<code class="literal">transport_address</code>
</span>
</dt>
<dd>
(string)
Host and port for the <a class="xref" href="settings.html#transport-settings" title="Advanced transport settings">transport layer</a>, used for internal
communication between nodes in a cluster.
</dd>
<dt>
<span class="term">
<code class="literal">host</code>
</span>
</dt>
<dd>
(string)
Network host for the node, based on the <a class="xref" href="settings.html#network.host" title="Network host setting">Network host setting</a> setting.
</dd>
<dt>
<span class="term">
<code class="literal">ip</code>
</span>
</dt>
<dd>
(string)
IP address and port for the node.
</dd>
<dt>
<span class="term">
<code class="literal">roles</code>
</span>
</dt>
<dd>
(array of strings)
Roles assigned to the node. See <a class="xref" href="settings.html#modules-node" title="Node">Node</a>.
</dd>
<dt>
<span class="term">
<code class="literal">attributes</code>
</span>
</dt>
<dd>
(object)
Contains a list of attributes for the node.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-indices"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">indices</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about indices with shards assigned to the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">indices</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">docs</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about documents across all primary shards assigned to the
node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">docs</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
The number of documents as reported by Lucene. This excludes deleted documents
and counts any <a class="xref" href="mapping-types.html#nested" title="Nested field type">nested documents</a> separately from their parents. It
also excludes documents which were indexed recently and do not yet belong to a
segment.
</dd>
<dt>
<span class="term">
<code class="literal">deleted</code>
</span>
</dt>
<dd>
(integer)
The number of deleted documents as reported by Lucene, which may be higher or
lower than the number of delete operations you have performed. This number
excludes deletes that were performed recently and do not yet belong to a
segment. Deleted documents are cleaned up by the
<a class="xref" href="index-modules-merge.html" title="Merge">automatic merge process</a> if it makes sense to do so.
Also, Elasticsearch creates extra deleted documents to internally track the recent
history of operations on a shard.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">store</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the size of shards assigned to the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">store</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total size of all shards assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total size, in bytes, of all shards assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">total_data_set_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total data set size of all shards assigned to the node.
This includes the size of shards not stored fully on the node, such as the
cache for <a class="xref" href="searchable-snapshots.html#partially-mounted">partially mounted indices</a>.
</dd>
<dt>
<span class="term">
<code class="literal">total_data_set_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total data set size, in bytes, of all shards assigned to the node.
This includes the size of shards not stored fully on the node, such as the
cache for <a class="xref" href="searchable-snapshots.html#partially-mounted">partially mounted indices</a>.
</dd>
<dt>
<span class="term">
<code class="literal">reserved</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
A prediction of how much larger the shard stores on this node will eventually
grow due to ongoing peer recoveries, restoring snapshots, and similar
activities. A value of <code class="literal">-1b</code> indicates that this is not available.
</dd>
<dt>
<span class="term">
<code class="literal">reserved_in_bytes</code>
</span>
</dt>
<dd>
(integer)
A prediction, in bytes, of how much larger the shard stores on this node will
eventually grow due to ongoing peer recoveries, restoring snapshots, and
similar activities. A value of <code class="literal">-1</code> indicates that this is not available.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">indexing</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about indexing operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">indexing</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index_total</code>
</span>
</dt>
<dd>
(integer)
Total number of indexing operations.
</dd>
<dt>
<span class="term">
<code class="literal">index_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent performing indexing operations.
</dd>
<dt>
<span class="term">
<code class="literal">index_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent performing indexing operations.
</dd>
<dt>
<span class="term">
<code class="literal">index_current</code>
</span>
</dt>
<dd>
(integer)
Number of indexing operations currently running.
</dd>
<dt>
<span class="term">
<code class="literal">index_failed</code>
</span>
</dt>
<dd>
(integer)
Number of failed indexing operations.
</dd>
<dt>
<span class="term">
<code class="literal">delete_total</code>
</span>
</dt>
<dd>
(integer)
Total number of deletion operations.
</dd>
<dt>
<span class="term">
<code class="literal">delete_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent performing deletion operations.
</dd>
<dt>
<span class="term">
<code class="literal">delete_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
spent performing deletion operations.
</dd>
<dt>
<span class="term">
<code class="literal">delete_current</code>
</span>
</dt>
<dd>
(integer)
Number of deletion operations currently running.
</dd>
<dt>
<span class="term">
<code class="literal">noop_update_total</code>
</span>
</dt>
<dd>
(integer)
Total number of noop operations.
</dd>
<dt>
<span class="term">
<code class="literal">is_throttled</code>
</span>
</dt>
<dd>
(Boolean)
Number of times
operations were throttled.
</dd>
<dt>
<span class="term">
<code class="literal">throttle_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent throttling operations.
</dd>
<dt>
<span class="term">
<code class="literal">throttle_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent throttling operations.
</dd>
<dt>
<span class="term">
<code class="literal">write_load</code>
</span>
</dt>
<dd>
(double)
Average number of write threads used while indexing documents.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">get</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about get operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">get</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of get operations.
</dd>
<dt>
<span class="term">
<code class="literal">getTime</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent performing get operations.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
spent performing get operations.
</dd>
<dt>
<span class="term">
<code class="literal">exists_total</code>
</span>
</dt>
<dd>
(integer)
Total number of successful get operations.
</dd>
<dt>
<span class="term">
<code class="literal">exists_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent performing successful get operations.
</dd>
<dt>
<span class="term">
<code class="literal">exists_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
spent performing successful get operations.
</dd>
<dt>
<span class="term">
<code class="literal">missing_total</code>
</span>
</dt>
<dd>
(integer)
Total number of failed get operations.
</dd>
<dt>
<span class="term">
<code class="literal">missing_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent performing failed get operations.
</dd>
<dt>
<span class="term">
<code class="literal">missing_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
spent performing failed get operations.
</dd>
<dt>
<span class="term">
<code class="literal">current</code>
</span>
</dt>
<dd>
(integer)
Number of get operations currently running.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">search</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about search operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">search</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">open_contexts</code>
</span>
</dt>
<dd>
(integer)
Number of open search contexts.
</dd>
<dt>
<span class="term">
<code class="literal">query_total</code>
</span>
</dt>
<dd>
(integer)
Total number of query operations.
</dd>
<dt>
<span class="term">
<code class="literal">query_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent performing query operations.
</dd>
<dt>
<span class="term">
<code class="literal">query_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
spent performing query operations.
</dd>
<dt>
<span class="term">
<code class="literal">query_current</code>
</span>
</dt>
<dd>
(integer)
Number of query operations currently running.
</dd>
<dt>
<span class="term">
<code class="literal">fetch_total</code>
</span>
</dt>
<dd>
(integer)
Total number of fetch operations.
</dd>
<dt>
<span class="term">
<code class="literal">fetch_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent performing fetch operations.
</dd>
<dt>
<span class="term">
<code class="literal">fetch_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
spent performing fetch operations.
</dd>
<dt>
<span class="term">
<code class="literal">fetch_current</code>
</span>
</dt>
<dd>
(integer)
Number of fetch operations currently running.
</dd>
<dt>
<span class="term">
<code class="literal">scroll_total</code>
</span>
</dt>
<dd>
(integer)
Total number of scroll operations.
</dd>
<dt>
<span class="term">
<code class="literal">scroll_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent performing scroll operations.
</dd>
<dt>
<span class="term">
<code class="literal">scroll_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
spent performing scroll operations.
</dd>
<dt>
<span class="term">
<code class="literal">scroll_current</code>
</span>
</dt>
<dd>
(integer)
Number of scroll operations currently running.
</dd>
<dt>
<span class="term">
<code class="literal">suggest_total</code>
</span>
</dt>
<dd>
(integer)
Total number of suggest operations.
</dd>
<dt>
<span class="term">
<code class="literal">suggest_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent performing suggest operations.
</dd>
<dt>
<span class="term">
<code class="literal">suggest_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
spent performing suggest operations.
</dd>
<dt>
<span class="term">
<code class="literal">suggest_current</code>
</span>
</dt>
<dd>
(integer)
Number of suggest operations currently running.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">merges</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about merge operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">merges</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current</code>
</span>
</dt>
<dd>
(integer)
Number of merge operations currently running.
</dd>
<dt>
<span class="term">
<code class="literal">current_docs</code>
</span>
</dt>
<dd>
(integer)
Number of document merges currently running.
</dd>
<dt>
<span class="term">
<code class="literal">current_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory used performing current document merges.
</dd>
<dt>
<span class="term">
<code class="literal">current_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory, in bytes, used performing current document merges.
</dd>
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of merge operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent performing merge operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent performing merge operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_docs</code>
</span>
</dt>
<dd>
(integer)
Total number of merged documents.
</dd>
<dt>
<span class="term">
<code class="literal">total_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total size of document merges.
</dd>
<dt>
<span class="term">
<code class="literal">total_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total size of document merges in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">total_stopped_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent stopping merge operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_stopped_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent stopping merge operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_throttled_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent throttling merge operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_throttled_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent throttling merge operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_auto_throttle</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of automatically throttled merge operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_auto_throttle_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size, in bytes, of automatically throttled merge operations.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">refresh</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about refresh operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">refresh</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of refresh operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent performing refresh operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent performing refresh operations.
</dd>
<dt>
<span class="term">
<code class="literal">external_total</code>
</span>
</dt>
<dd>
(integer)
Total number of external refresh operations.
</dd>
<dt>
<span class="term">
<code class="literal">external_total_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent performing external operations.
</dd>
<dt>
<span class="term">
<code class="literal">external_total_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent performing external operations.
</dd>
<dt>
<span class="term">
<code class="literal">listeners</code>
</span>
</dt>
<dd>
(integer)
Number of refresh listeners.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">flush</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about flush operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">flush</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Number of flush operations.
</dd>
<dt>
<span class="term">
<code class="literal">periodic</code>
</span>
</dt>
<dd>
(integer)
Number of flush periodic operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent performing flush operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent performing flush operations.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">warmer</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about index warming operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">warmer</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current</code>
</span>
</dt>
<dd>
(integer)
Number of active index warmers.
</dd>
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of index warmers.
</dd>
<dt>
<span class="term">
<code class="literal">total_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent performing index warming operations.
</dd>
<dt>
<span class="term">
<code class="literal">total_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds
spent performing index warming operations.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">query_cache</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the query cache across all shards assigned to the
node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">query_cache</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">memory_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for the query cache across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">memory_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for the query cache across all shards
assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">total_count</code>
</span>
</dt>
<dd>
(integer)
Total count of hits, misses, and cached queries
in the query cache.
</dd>
<dt>
<span class="term">
<code class="literal">hit_count</code>
</span>
</dt>
<dd>
(integer)
Number of query cache hits.
</dd>
<dt>
<span class="term">
<code class="literal">miss_count</code>
</span>
</dt>
<dd>
(integer)
Number of query cache misses.
</dd>
<dt>
<span class="term">
<code class="literal">cache_size</code>
</span>
</dt>
<dd>
(integer)
Current number of cached queries.
</dd>
<dt>
<span class="term">
<code class="literal">cache_count</code>
</span>
</dt>
<dd>
(integer)
Total number of all queries that have been cached.
</dd>
<dt>
<span class="term">
<code class="literal">evictions</code>
</span>
</dt>
<dd>
(integer)
Number of query cache evictions.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">fielddata</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the field data cache across all shards
assigned to the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">fielddata</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">memory_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for the field data cache across all shards
assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">memory_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for the field data cache across all
shards assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">evictions</code>
</span>
</dt>
<dd>
(integer)
Number of fielddata evictions.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">completion</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about completions across all shards assigned to the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">completion</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for completion across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for completion across all shards assigned
to the node.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">segments</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about segments across all shards assigned to the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">segments</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of segments.
</dd>
<dt>
<span class="term">
<code class="literal">memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for segments across all shards assigned to the
node.
</dd>
<dt>
<span class="term">
<code class="literal">memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for segments across all shards assigned
to the node.
</dd>
<dt>
<span class="term">
<code class="literal">terms_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for terms across all shards assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">terms_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for terms across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">stored_fields_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for stored fields across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">stored_fields_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for stored fields across all shards
assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">term_vectors_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for term vectors across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">term_vectors_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for term vectors across all shards
assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">norms_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for normalization factors across all shards assigned
to the node.
</dd>
<dt>
<span class="term">
<code class="literal">norms_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for normalization factors across all
shards assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">points_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for points across all shards assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">points_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for points across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">doc_values_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used for doc values across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">doc_values_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used for doc values across all shards assigned
to the node.
</dd>
<dt>
<span class="term">
<code class="literal">index_writer_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used by all index writers across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">index_writer_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used by all index writers across all shards
assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">version_map_memory</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used by all version maps across all shards assigned to
the node.
</dd>
<dt>
<span class="term">
<code class="literal">version_map_memory_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of memory, in bytes, used by all version maps across all shards
assigned to the node.
</dd>
<dt>
<span class="term">
<code class="literal">fixed_bit_set</code>
</span>
</dt>
<dd>
<p>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of memory used by fixed bit sets across all shards assigned to
the node.
</p>
<p>Fixed bit sets are used for nested object field types and
type filters for <a class="xref" href="mapping-types.html#parent-join" title="Join field type">join</a> fields.</p>
</dd>
<dt>
<span class="term">
<code class="literal">fixed_bit_set_memory_in_bytes</code>
</span>
</dt>
<dd>
<p>
(integer)
Total amount of memory, in bytes, used by fixed bit sets across all shards
assigned to the node.
</p>
<p>Fixed bit sets are used for nested object field types and
type filters for <a class="xref" href="mapping-types.html#parent-join" title="Join field type">join</a> fields.</p>
</dd>
<dt>
<span class="term">
<code class="literal">max_unsafe_auto_id_timestamp</code>
</span>
</dt>
<dd>
(integer)
Time of the most recently retried indexing request. Recorded in milliseconds
since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix Epoch</a>.
</dd>
<dt>
<span class="term">
<code class="literal">file_sizes</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the size of the segment file.
</p>
<details open>
<summary class="title">Properties of <code class="literal">file_sizes</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of the segment file.
</dd>
<dt>
<span class="term">
<code class="literal">size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size, in bytes,
of the segment file.
</dd>
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
(string)
Description of the segment file.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">translog</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about transaction log operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">translog</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">operations</code>
</span>
</dt>
<dd>
(integer)
Number of transaction log operations.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of the transaction log.
</dd>
<dt>
<span class="term">
<code class="literal">size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size, in bytes, of the transaction log.
</dd>
<dt>
<span class="term">
<code class="literal">uncommitted_operations</code>
</span>
</dt>
<dd>
(integer)
Number of uncommitted transaction log operations.
</dd>
<dt>
<span class="term">
<code class="literal">uncommitted_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of uncommitted transaction log operations.
</dd>
<dt>
<span class="term">
<code class="literal">uncommitted_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size, in bytes, of uncommitted transaction log operations.
</dd>
<dt>
<span class="term">
<code class="literal">earliest_last_modified_age</code>
</span>
</dt>
<dd>
(integer)
Earliest last modified age
for the transaction log.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">request_cache</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the request cache across all shards assigned to the
node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">request_cache</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">memory_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory used by the request cache.
</dd>
<dt>
<span class="term">
<code class="literal">memory_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory, in bytes, used by the request cache.
</dd>
<dt>
<span class="term">
<code class="literal">evictions</code>
</span>
</dt>
<dd>
(integer)
Number of request cache operations.
</dd>
<dt>
<span class="term">
<code class="literal">hit_count</code>
</span>
</dt>
<dd>
(integer)
Number of request cache hits.
</dd>
<dt>
<span class="term">
<code class="literal">miss_count</code>
</span>
</dt>
<dd>
(integer)
Number of request cache misses.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">recovery</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about recovery operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">recovery</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_as_source</code>
</span>
</dt>
<dd>
(integer)
Number of recoveries
that used an index shard as a source.
</dd>
<dt>
<span class="term">
<code class="literal">current_as_target</code>
</span>
</dt>
<dd>
(integer)
Number of recoveries
that used an index shard as a target.
</dd>
<dt>
<span class="term">
<code class="literal">throttle_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time by which recovery operations were delayed due to throttling.
</dd>
<dt>
<span class="term">
<code class="literal">throttle_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time in milliseconds
recovery operations were delayed due to throttling.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">shard_stats</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about all shards assigned to the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">shard_stats</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total_count</code>
</span>
</dt>
<dd>
(integer)
The total number of shards assigned to the node.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">mappings</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the mappings for the node.
This is not shown for the <code class="literal">shards</code> level, since mappings may be
shared across the shards of an index on a node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">mappings</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total_count</code>
</span>
</dt>
<dd>
(integer)
Number of mappings, including <a class="xref" href="runtime.html" title="Runtime fields">runtime</a> and <a class="xref" href="mapping-types.html#object" title="Object field type">object</a> fields.
</dd>
<dt>
<span class="term">
<code class="literal">total_estimated_overhead</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Estimated heap overhead of mappings on this node, which allows for 1kiB of heap for every mapped field.
</dd>
<dt>
<span class="term">
<code class="literal">total_estimated_overhead_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Estimated heap overhead, in bytes, of mappings on this node, which allows for 1kiB of heap for every mapped field.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-os"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">os</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the operating system for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">os</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">timestamp</code>
</span>
</dt>
<dd>
(integer)
Last time the operating system statistics were refreshed. Recorded in
milliseconds since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix Epoch</a>.
</dd>
<dt>
<span class="term">
<code class="literal">cpu</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about CPU usage for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">cpu</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">percent</code>
</span>
</dt>
<dd>
(integer)
Recent CPU usage for the whole system, or <code class="literal">-1</code> if not supported.
</dd>
<dt>
<span class="term">
<code class="literal">load_average</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about load averages on the system.
</p>
<details open>
<summary class="title">Properties of <code class="literal">load_average</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">1m</code>
</span>
</dt>
<dd>
(float)
One-minute load average on the system (field is not present if one-minute load
average is not available).
</dd>
<dt>
<span class="term">
<code class="literal">5m</code>
</span>
</dt>
<dd>
(float)
Five-minute load average on the system (field is not present if five-minute load
average is not available).
</dd>
<dt>
<span class="term">
<code class="literal">15m</code>
</span>
</dt>
<dd>
(float)
Fifteen-minute load average on the system (field is not present if
fifteen-minute load average is not available).
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">mem</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about memory usage for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">mem</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of physical memory.
</dd>
<dt>
<span class="term">
<code class="literal">total_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of physical memory in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">adjusted_total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
If the amount of physical memory has been overridden using the <code class="literal">es.total_memory_bytes</code>
system property then this reports the overridden value. Otherwise it reports the same
value as <code class="literal">total</code>.
</dd>
<dt>
<span class="term">
<code class="literal">adjusted_total_in_bytes</code>
</span>
</dt>
<dd>
(integer)
If the amount of physical memory has been overridden using the <code class="literal">es.total_memory_bytes</code>
system property then this reports the overridden value in bytes. Otherwise it reports
the same value as <code class="literal">total_in_bytes</code>.
</dd>
<dt>
<span class="term">
<code class="literal">free</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Amount of free physical memory.
</dd>
<dt>
<span class="term">
<code class="literal">free_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Amount of free physical memory in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Amount of used physical memory.
</dd>
<dt>
<span class="term">
<code class="literal">used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Amount of used physical memory in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">free_percent</code>
</span>
</dt>
<dd>
(integer)
Percentage of free memory.
</dd>
<dt>
<span class="term">
<code class="literal">used_percent</code>
</span>
</dt>
<dd>
(integer)
Percentage of used memory.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">swap</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about swap space for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">swap</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of swap space.
</dd>
<dt>
<span class="term">
<code class="literal">total_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total amount of swap space in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">free</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Amount of free swap space.
</dd>
<dt>
<span class="term">
<code class="literal">free_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Amount of free swap space in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Amount of used swap space.
</dd>
<dt>
<span class="term">
<code class="literal">used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Amount of used swap space in bytes.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">cgroup</code> (Linux only)
</span>
</dt>
<dd>
<p>
(object)
Contains cgroup statistics for the node.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For the cgroup stats to be visible, cgroups must be compiled into the
kernel, the <code class="literal">cpu</code> and <code class="literal">cpuacct</code> cgroup subsystems must be configured and stats
must be readable from <code class="literal">/sys/fs/cgroup/cpu</code> and <code class="literal">/sys/fs/cgroup/cpuacct</code>.</p>
</div>
</div>
<details open>
<summary class="title">Properties of <code class="literal">cgroup</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cpuacct</code> (Linux only)
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about <code class="literal">cpuacct</code> control group for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">cpuacct</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">control_group</code> (Linux only)
</span>
</dt>
<dd>
(string)
The <code class="literal">cpuacct</code> control group to which the Elasticsearch process belongs.
</dd>
<dt>
<span class="term">
<code class="literal">usage_nanos</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total CPU time (in nanoseconds) consumed by all tasks in the same cgroup
as the Elasticsearch process.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">cpu</code> (Linux only)
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about <code class="literal">cpu</code> control group for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">cpu</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">control_group</code> (Linux only)
</span>
</dt>
<dd>
(string)
The <code class="literal">cpu</code> control group to which the Elasticsearch process belongs.
</dd>
<dt>
<span class="term">
<code class="literal">cfs_period_micros</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The period of time (in microseconds) for how regularly all tasks in the same
cgroup as the Elasticsearch process should have their access to CPU resources
reallocated.
</dd>
<dt>
<span class="term">
<code class="literal">cfs_quota_micros</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total amount of time (in microseconds) for which all tasks in
the same cgroup as the Elasticsearch process can run during one period
<code class="literal">cfs_period_micros</code>.
</dd>
<dt>
<span class="term">
<code class="literal">stat</code> (Linux only)
</span>
</dt>
<dd>
<p>
(object)
Contains CPU statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">stat</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">number_of_elapsed_periods</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The number of reporting periods (as specified by
<code class="literal">cfs_period_micros</code>) that have elapsed.
</dd>
<dt>
<span class="term">
<code class="literal">number_of_times_throttled</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The number of times all tasks in the same cgroup as the Elasticsearch process have
been throttled.
</dd>
<dt>
<span class="term">
<code class="literal">time_throttled_nanos</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total amount of time (in nanoseconds) for which all tasks in the same
cgroup as the Elasticsearch process have been throttled.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">memory</code> (Linux only)
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the <code class="literal">memory</code> control group for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">memory</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">control_group</code> (Linux only)
</span>
</dt>
<dd>
(string)
The <code class="literal">memory</code> control group to which the Elasticsearch process belongs.
</dd>
<dt>
<span class="term">
<code class="literal">limit_in_bytes</code> (Linux only)
</span>
</dt>
<dd>
(string)
The maximum amount of user memory (including file cache) allowed for all
tasks in the same cgroup as the Elasticsearch process. This value can be too big to
store in a <code class="literal">long</code>, so is returned as a string so that the value returned can
exactly match what the underlying operating system interface returns. Any
value that is too large to parse into a <code class="literal">long</code> almost certainly means no
limit has been set for the cgroup.
</dd>
<dt>
<span class="term">
<code class="literal">usage_in_bytes</code> (Linux only)
</span>
</dt>
<dd>
(string)
The total current memory usage by processes in the cgroup (in bytes) by all
tasks in the same cgroup as the Elasticsearch process. This value is stored as a
string for consistency with <code class="literal">limit_in_bytes</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-process"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">process</code>
</span>
</dt>
<dd>
<p>
(object)
Contains process statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">process</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">timestamp</code>
</span>
</dt>
<dd>
(integer)
Last time the statistics were refreshed. Recorded in milliseconds
since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix Epoch</a>.
</dd>
<dt>
<span class="term">
<code class="literal">open_file_descriptors</code>
</span>
</dt>
<dd>
(integer)
Number of opened file descriptors associated with the current or
<code class="literal">-1</code> if not supported.
</dd>
<dt>
<span class="term">
<code class="literal">max_file_descriptors</code>
</span>
</dt>
<dd>
(integer)
Maximum number of file descriptors allowed on the system, or <code class="literal">-1</code> if not
supported.
</dd>
<dt>
<span class="term">
<code class="literal">cpu</code>
</span>
</dt>
<dd>
<p>
(object)
Contains CPU statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">cpu</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">percent</code>
</span>
</dt>
<dd>
(integer)
CPU usage in percent, or <code class="literal">-1</code> if not known at the time the stats are
computed.
</dd>
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
CPU time used by the process on which the Java virtual machine is running.
</dd>
<dt>
<span class="term">
<code class="literal">total_in_millis</code>
</span>
</dt>
<dd>
(integer)
CPU time (in milliseconds) used by the process on which the Java virtual
machine is running, or <code class="literal">-1</code> if not supported.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">mem</code>
</span>
</dt>
<dd>
<p>
(object)
Contains virtual memory statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">mem</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total_virtual</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of virtual memory that is guaranteed to be available to the
running process.
</dd>
<dt>
<span class="term">
<code class="literal">total_virtual_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size in bytes of virtual memory that is guaranteed to be available to the
running process.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-jvm"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">jvm</code>
</span>
</dt>
<dd>
<p>
(object)
Contains Java Virtual Machine (JVM) statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">jvm</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">timestamp</code>
</span>
</dt>
<dd>
(integer)
Last time JVM statistics were refreshed.
</dd>
<dt>
<span class="term">
<code class="literal">uptime</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Human-readable JVM uptime. Only returned if the
<a class="xref" href="common-options.html#_human_readable_output" title="Human readable output"><code class="literal">human</code></a> query parameter is <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">uptime_in_millis</code>
</span>
</dt>
<dd>
(integer)
JVM uptime in milliseconds.
</dd>
<dt>
<span class="term">
<code class="literal">mem</code>
</span>
</dt>
<dd>
<p>
(object)
Contains JVM memory usage statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">mem</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">heap_used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory currently in use by the heap.
</dd>
<dt>
<span class="term">
<code class="literal">heap_used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory, in bytes, currently in use by the heap.
</dd>
<dt>
<span class="term">
<code class="literal">heap_used_percent</code>
</span>
</dt>
<dd>
(integer)
Percentage of memory currently in use by the heap.
</dd>
<dt>
<span class="term">
<code class="literal">heap_committed</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Amount of memory available for use by the heap.
</dd>
<dt>
<span class="term">
<code class="literal">heap_committed_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Amount of memory, in bytes, available for use by the heap.
</dd>
<dt>
<span class="term">
<code class="literal">heap_max</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Maximum amount of memory available for use by the heap.
</dd>
<dt>
<span class="term">
<code class="literal">heap_max_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Maximum amount of memory, in bytes, available for use by the heap.
</dd>
<dt>
<span class="term">
<code class="literal">non_heap_used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Non-heap memory used.
</dd>
<dt>
<span class="term">
<code class="literal">non_heap_used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Non-heap memory used, in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">non_heap_committed</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Amount of non-heap memory available.
</dd>
<dt>
<span class="term">
<code class="literal">non_heap_committed_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Amount of non-heap memory available, in bytes.
</dd>
<dt>
<span class="term">
<code class="literal">pools</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about heap memory usage for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">pools</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">young</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about memory usage by the young generation heap for the
node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">young</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory used by the young generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory, in bytes, used by the young generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">max</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Maximum amount of memory available for use by the young generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">max_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Maximum amount of memory, in bytes, available for use by the young generation
heap.
</dd>
<dt>
<span class="term">
<code class="literal">peak_used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Largest amount of memory historically used by the young generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">peak_used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Largest amount of memory, in bytes, historically used by the young generation
heap.
</dd>
<dt>
<span class="term">
<code class="literal">peak_max</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Largest amount of memory historically used by the young generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">peak_max_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Largest amount of memory, in bytes, historically used by the young generation
heap.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">survivor</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about memory usage by the survivor space for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">survivor</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory used by the survivor space.
</dd>
<dt>
<span class="term">
<code class="literal">used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory, in bytes, used by the survivor space.
</dd>
<dt>
<span class="term">
<code class="literal">max</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Maximum amount of memory available for use by the survivor space.
</dd>
<dt>
<span class="term">
<code class="literal">max_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Maximum amount of memory, in bytes, available for use by the survivor space.
</dd>
<dt>
<span class="term">
<code class="literal">peak_used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Largest amount of memory historically used by the survivor space.
</dd>
<dt>
<span class="term">
<code class="literal">peak_used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Largest amount of memory, in bytes, historically used by the survivor space.
</dd>
<dt>
<span class="term">
<code class="literal">peak_max</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Largest amount of memory historically used by the survivor space.
</dd>
<dt>
<span class="term">
<code class="literal">peak_max_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Largest amount of memory, in bytes, historically used by the survivor space.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">old</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about memory usage by the old generation heap for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">old</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory used by the old generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory, in bytes, used by the old generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">max</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Maximum amount of memory available for use by the old generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">max_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Maximum amount of memory, in bytes, available for use by the old generation
heap.
</dd>
<dt>
<span class="term">
<code class="literal">peak_used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Largest amount of memory historically used by the old generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">peak_used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Largest amount of memory, in bytes, historically used by the old generation
heap.
</dd>
<dt>
<span class="term">
<code class="literal">peak_max</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Highest memory limit historically available for use by the old generation heap.
</dd>
<dt>
<span class="term">
<code class="literal">peak_max_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Highest memory limit, in bytes, historically available for use by the old
generation heap.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">threads</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about JVM thread usage for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">threads</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of active threads in use by JVM.
</dd>
<dt>
<span class="term">
<code class="literal">peak_count</code>
</span>
</dt>
<dd>
(integer)
Highest number of threads used by JVM.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">gc</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about JVM garbage collectors for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">gc</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">collectors</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about JVM garbage collectors for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">collectors</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">young</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about JVM garbage collectors that collect young generation
objects for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">young</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">collection_count</code>
</span>
</dt>
<dd>
(integer)
Number of JVM garbage collectors that collect young generation objects.
</dd>
<dt>
<span class="term">
<code class="literal">collection_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent by JVM collecting young generation objects.
</dd>
<dt>
<span class="term">
<code class="literal">collection_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds spent by JVM collecting young generation objects.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">old</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about JVM garbage collectors that collect old generation
objects for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">old</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">collection_count</code>
</span>
</dt>
<dd>
(integer)
Number of JVM garbage collectors that collect old generation objects.
</dd>
<dt>
<span class="term">
<code class="literal">collection_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent by JVM collecting old generation objects.
</dd>
<dt>
<span class="term">
<code class="literal">collection_time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time in milliseconds spent by JVM collecting old generation objects.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">buffer_pools</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about JVM buffer pools for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">buffer_pools</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">mapped</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about mapped JVM buffer pools for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">mapped</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of mapped buffer pools.
</dd>
<dt>
<span class="term">
<code class="literal">used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of mapped buffer pools.
</dd>
<dt>
<span class="term">
<code class="literal">used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size, in bytes, of mapped buffer pools.
</dd>
<dt>
<span class="term">
<code class="literal">total_capacity</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total capacity of mapped buffer pools.
</dd>
<dt>
<span class="term">
<code class="literal">total_capacity_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total capacity, in bytes, of mapped buffer pools.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">direct</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about direct JVM buffer pools for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">direct</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of direct buffer pools.
</dd>
<dt>
<span class="term">
<code class="literal">used</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of direct buffer pools.
</dd>
<dt>
<span class="term">
<code class="literal">used_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size, in bytes, of direct buffer pools.
</dd>
<dt>
<span class="term">
<code class="literal">total_capacity</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total capacity of direct buffer pools.
</dd>
<dt>
<span class="term">
<code class="literal">total_capacity_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total capacity, in bytes, of direct buffer pools.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">classes</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about classes loaded by JVM for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">classes</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_loaded_count</code>
</span>
</dt>
<dd>
(integer)
Number of classes currently loaded by JVM.
</dd>
<dt>
<span class="term">
<code class="literal">total_loaded_count</code>
</span>
</dt>
<dd>
(integer)
Total number of classes loaded since the JVM started.
</dd>
<dt>
<span class="term">
<code class="literal">total_unloaded_count</code>
</span>
</dt>
<dd>
(integer)
Total number of classes unloaded since the JVM started.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-repositories"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">repositories</code>
</span>
</dt>
<dd>
<p>
(object)
Statistics about snapshot repositories.
</p>
<details open>
<summary class="title">Properties of <code class="literal">repositories</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;repository_name&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains repository throttling statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;repository_name&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total_read_throttled_time_nanos</code>
</span>
</dt>
<dd>
(integer)
Total number of nanos which node had to wait during recovery.
</dd>
<dt>
<span class="term">
<code class="literal">total_write_throttled_time_nanos</code>
</span>
</dt>
<dd>
(integer)
Total number of nanos which node had to wait during snapshotting.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-threadpool"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">thread_pool</code>
</span>
</dt>
<dd>
<p>
(object)
Contains thread pool statistics for the node
</p>
<details open>
<summary class="title">Properties of <code class="literal">thread_pool</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;thread_pool_name&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the thread pool for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;thread_pool_name&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">threads</code>
</span>
</dt>
<dd>
(integer)
Number of threads in the thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">queue</code>
</span>
</dt>
<dd>
(integer)
Number of tasks in queue for the thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">active</code>
</span>
</dt>
<dd>
(integer)
Number of active threads in the thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">rejected</code>
</span>
</dt>
<dd>
(integer)
Number of tasks rejected by the thread pool executor.
</dd>
<dt>
<span class="term">
<code class="literal">largest</code>
</span>
</dt>
<dd>
(integer)
Highest number of active threads in the thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">completed</code>
</span>
</dt>
<dd>
(integer)
Number of tasks completed by the thread pool executor.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-fs"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fs</code>
</span>
</dt>
<dd>
<p>
(object)
Contains file store statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">fs</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">timestamp</code>
</span>
</dt>
<dd>
(integer)
Last time the file stores statistics were refreshed. Recorded in
milliseconds since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix Epoch</a>.
</dd>
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for all file stores of the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">total</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total size of all file stores.
</dd>
<dt>
<span class="term">
<code class="literal">total_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total size (in bytes) of all file stores.
</dd>
<dt>
<span class="term">
<code class="literal">free</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total unallocated disk space in all file stores.
</dd>
<dt>
<span class="term">
<code class="literal">free_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total number of unallocated bytes in all file stores.
</dd>
<dt>
<span class="term">
<code class="literal">available</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total disk space available to this Java virtual machine on all file
stores. Depending on OS or process level restrictions, this might appear
less than <code class="literal">free</code>. This is the actual amount of free disk
space the Elasticsearch node can utilise.
</dd>
<dt>
<span class="term">
<code class="literal">available_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total number of bytes available to this Java virtual machine on all file
stores. Depending on OS or process level restrictions, this might appear
less than <code class="literal">free_in_bytes</code>. This is the actual amount of free disk
space the Elasticsearch node can utilise.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-fs-data"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">data</code>
</span>
</dt>
<dd>
<p>
(array of objects)
List of all file stores.
</p>
<details open>
<summary class="title">Properties of <code class="literal">data</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">path</code>
</span>
</dt>
<dd>
(string)
Path to the file store.
</dd>
<dt>
<span class="term">
<code class="literal">mount</code>
</span>
</dt>
<dd>
(string)
Mount point of the file store (ex: /dev/sda2).
</dd>
<dt>
<span class="term">
<code class="literal">type</code>
</span>
</dt>
<dd>
(string)
Type of the file store (ex: ext4).
</dd>
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total size of the file store.
</dd>
<dt>
<span class="term">
<code class="literal">total_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total size (in bytes) of the file store.
</dd>
<dt>
<span class="term">
<code class="literal">free</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of unallocated disk space in the file store.
</dd>
<dt>
<span class="term">
<code class="literal">free_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total number of unallocated bytes in the file store.
</dd>
<dt>
<span class="term">
<code class="literal">available</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Total amount of disk space available to this Java virtual machine on this file
store.
</dd>
<dt>
<span class="term">
<code class="literal">available_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Total number of bytes available to this Java virtual machine on this file
store.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">io_stats</code> (Linux only)
</span>
</dt>
<dd>
<p>
(objects)
Contains I/O statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">io_stats</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">devices</code> (Linux only)
</span>
</dt>
<dd>
<p>
(array)
Array of disk metrics for each device that is backing an Elasticsearch data path.
These disk metrics are probed periodically and averages between the last
probe and the current probe are computed.
</p>
<details open>
<summary class="title">Properties of <code class="literal">devices</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">device_name</code> (Linux only)
</span>
</dt>
<dd>
(string)
The Linux device name.
</dd>
<dt>
<span class="term">
<code class="literal">operations</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of read and write operations for the device completed since
starting Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">read_operations</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of read operations for the device completed since starting
Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">write_operations</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of write operations for the device completed since starting
Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">read_kilobytes</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of kilobytes read for the device since starting Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">write_kilobytes</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of kilobytes written for the device since starting Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">io_time_in_millis</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total time in milliseconds spent performing I/O operations for the device
since starting Elasticsearch.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">total</code> (Linux only)
</span>
</dt>
<dd>
<p>
(object)
The sum of the disk metrics for all devices that back an Elasticsearch data path.
</p>
<details open>
<summary class="title">Properties of <code class="literal">total</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">operations</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of read and write operations across all devices used by
Elasticsearch completed since starting Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">read_operations</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of read operations for across all devices used by Elasticsearch
completed since starting Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">write_operations</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of write operations across all devices used by Elasticsearch
completed since starting Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">read_kilobytes</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of kilobytes read across all devices used by Elasticsearch since
starting Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">write_kilobytes</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total number of kilobytes written across all devices used by Elasticsearch since
starting Elasticsearch.
</dd>
<dt>
<span class="term">
<code class="literal">io_time_in_millis</code> (Linux only)
</span>
</dt>
<dd>
(integer)
The total time in milliseconds spent performing I/O operations across all
devices used by Elasticsearch since starting Elasticsearch.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-transport"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">transport</code>
</span>
</dt>
<dd>
<p>
(object)
Contains transport statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">transport</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">server_open</code>
</span>
</dt>
<dd>
(integer)
Current number of inbound TCP connections used for internal communication between nodes.
</dd>
<dt>
<span class="term">
<code class="literal">total_outbound_connections</code>
</span>
</dt>
<dd>
(integer)
The cumulative number of outbound transport connections that this node has
opened since it started. Each transport connection may comprise multiple TCP
connections but is only counted once in this statistic. Transport connections
are typically <a class="xref" href="settings.html#long-lived-connections" title="Long-lived idle connections">long-lived</a> so this statistic should
remain constant in a stable cluster.
</dd>
<dt>
<span class="term">
<code class="literal">rx_count</code>
</span>
</dt>
<dd>
(integer)
Total number of RX (receive) packets received by the node during internal
cluster communication.
</dd>
<dt>
<span class="term">
<code class="literal">rx_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of RX packets received by the node during internal cluster communication.
</dd>
<dt>
<span class="term">
<code class="literal">rx_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size, in bytes, of RX packets received by the node during internal cluster
communication.
</dd>
<dt>
<span class="term">
<code class="literal">tx_count</code>
</span>
</dt>
<dd>
(integer)
Total number of TX (transmit) packets sent by the node during internal cluster
communication.
</dd>
<dt>
<span class="term">
<code class="literal">tx_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Size of TX packets sent by the node during internal cluster communication.
</dd>
<dt>
<span class="term">
<code class="literal">tx_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Size, in bytes, of TX packets sent by the node during internal cluster
communication.
</dd>
<dt>
<span class="term">
<code class="literal">inbound_handling_time_histogram</code>
</span>
</dt>
<dd>
<p>
(array)
The distribution of the time spent handling each inbound message on a transport
thread, represented as a histogram.
</p>
<details>
<summary class="title">Properties of <code class="literal">inbound_handling_time_histogram</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ge</code>
</span>
</dt>
<dd>
(string)
The inclusive lower bound of the bucket as a human-readable string. May be
omitted on the first bucket if this bucket has no lower bound.
</dd>
<dt>
<span class="term">
<code class="literal">ge_millis</code>
</span>
</dt>
<dd>
(integer)
The inclusive lower bound of the bucket in milliseconds. May be omitted on the
first bucket if this bucket has no lower bound.
</dd>
<dt>
<span class="term">
<code class="literal">lt</code>
</span>
</dt>
<dd>
(string)
The exclusive upper bound of the bucket as a human-readable string. May be
omitted on the last bucket if this bucket has no upper bound.
</dd>
<dt>
<span class="term">
<code class="literal">lt_millis</code>
</span>
</dt>
<dd>
(integer)
The exclusive upper bound of the bucket in milliseconds. May be omitted on the
last bucket if this bucket has no upper bound.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
The number of times a transport thread took a period of time within the bounds
of this bucket to handle an inbound message.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">outbound_handling_time_histogram</code>
</span>
</dt>
<dd>
<p>
(array)
The distribution of the time spent sending each outbound transport message on a
transport thread, represented as a histogram.
</p>
<details>
<summary class="title">Properties of <code class="literal">outbound_handling_time_histogram</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ge</code>
</span>
</dt>
<dd>
(string)
The inclusive lower bound of the bucket as a human-readable string. May be
omitted on the first bucket if this bucket has no lower bound.
</dd>
<dt>
<span class="term">
<code class="literal">ge_millis</code>
</span>
</dt>
<dd>
(integer)
The inclusive lower bound of the bucket in milliseconds. May be omitted on the
first bucket if this bucket has no lower bound.
</dd>
<dt>
<span class="term">
<code class="literal">lt</code>
</span>
</dt>
<dd>
(string)
The exclusive upper bound of the bucket as a human-readable string. May be
omitted on the last bucket if this bucket has no upper bound.
</dd>
<dt>
<span class="term">
<code class="literal">lt_millis</code>
</span>
</dt>
<dd>
(integer)
The exclusive upper bound of the bucket in milliseconds. May be omitted on the
last bucket if this bucket has no upper bound.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
The number of times a transport thread took a period of time within the bounds
of this bucket to send a transport message.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">actions</code>
</span>
</dt>
<dd>
<p>
(object)
An action-by-action breakdown of the transport traffic handled by this node,
showing the total amount of traffic and a histogram of message sizes for
incoming requests and outgoing responses.
</p>
<details>
<summary class="title">Properties of <code class="literal">actions.*.requests</code> and <code class="literal">actions.*.responses</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
The total number of requests received, or responses sent, for the current
action.
</dd>
<dt>
<span class="term">
<code class="literal">total_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
The total size (as a human-readable string) of all requests received, or
responses sent, for the current action.
</dd>
<dt>
<span class="term">
<code class="literal">total_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
The total size in bytes of all requests received, or responses sent, for the
current action.
</dd>
<dt>
<span class="term">
<code class="literal">histogram</code>
</span>
</dt>
<dd>
<p>
(array)
A breakdown of the distribution of sizes of requests received, or responses
sent, for the current action.
</p>
<details>
<summary class="title">Properties of <code class="literal">histogram</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ge</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
The inclusive lower bound of the bucket as a human-readable string. May be
omitted on the first bucket if this bucket has no lower bound.
</dd>
<dt>
<span class="term">
<code class="literal">ge_bytes</code>
</span>
</dt>
<dd>
(integer)
The inclusive lower bound of the bucket in bytes. May be omitted on the first
bucket if this bucket has no lower bound.
</dd>
<dt>
<span class="term">
<code class="literal">lt</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
The exclusive upper bound of the bucket as a human-readable string. May be
omitted on the last bucket if this bucket has no upper bound.
</dd>
<dt>
<span class="term">
<code class="literal">lt_bytes</code>
</span>
</dt>
<dd>
(integer)
The exclusive upper bound of the bucket in bytes. May be omitted on the last
bucket if this bucket has no upper bound.
</dd>
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
The number of times a request was received, or a response sent, with a size
within the bounds of this bucket.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-http"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">http</code>
</span>
</dt>
<dd>
<p>
(object)
Contains http statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">http</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_open</code>
</span>
</dt>
<dd>
(integer)
Current number of open HTTP connections for the node.
</dd>
<dt>
<span class="term">
<code class="literal">total_opened</code>
</span>
</dt>
<dd>
(integer)
Total number of HTTP connections opened for the node.
</dd>
<dt>
<span class="term">
<code class="literal">clients</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Information on current and recently-closed HTTP client connections.
Clients that have been closed longer than the <a class="xref" href="settings.html#http-settings" title="Advanced HTTP settings">http.client_stats.closed_channels.max_age</a>
setting will not be represented here.
</p>
<details open>
<summary class="title">Properties of <code class="literal">clients</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(integer)
Unique ID for the HTTP client.
</dd>
<dt>
<span class="term">
<code class="literal">agent</code>
</span>
</dt>
<dd>
(string)
Reported agent for the HTTP client. If unavailable, this property is not
included in the response.
</dd>
<dt>
<span class="term">
<code class="literal">local_address</code>
</span>
</dt>
<dd>
(string)
Local address for the HTTP connection.
</dd>
<dt>
<span class="term">
<code class="literal">remote_address</code>
</span>
</dt>
<dd>
(string)
Remote address for the HTTP connection.
</dd>
<dt>
<span class="term">
<code class="literal">last_uri</code>
</span>
</dt>
<dd>
(string)
The URI of the client&#8217;s most recent request.
</dd>
<dt>
<span class="term">
<code class="literal">x_forwarded_for</code>
</span>
</dt>
<dd>
(string)
Value from the client&#8217;s <code class="literal">x-forwarded-for</code> HTTP header. If unavailable, this
property is not included in the response.
</dd>
<dt>
<span class="term">
<code class="literal">x_opaque_id</code>
</span>
</dt>
<dd>
(string)
Value from the client&#8217;s <code class="literal">x-opaque-id</code> HTTP header. If unavailable, this property
is not included in the response.
</dd>
<dt>
<span class="term">
<code class="literal">opened_time_millis</code>
</span>
</dt>
<dd>
(integer)
Time at which the client opened the connection.
</dd>
<dt>
<span class="term">
<code class="literal">closed_time_millis</code>
</span>
</dt>
<dd>
(integer)
Time at which the client closed the connection if the connection is closed.
</dd>
<dt>
<span class="term">
<code class="literal">last_request_time_millis</code>
</span>
</dt>
<dd>
(integer)
Time of the most recent request from this client.
</dd>
<dt>
<span class="term">
<code class="literal">request_count</code>
</span>
</dt>
<dd>
(integer)
Number of requests from this client.
</dd>
<dt>
<span class="term">
<code class="literal">request_size_bytes</code>
</span>
</dt>
<dd>
(integer)
Cumulative size in bytes of all requests from this client.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-breakers"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">breakers</code>
</span>
</dt>
<dd>
<p>
(object)
Contains circuit breaker statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">breakers</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;circuit_breaker_name&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for the circuit breaker.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;circuit_breaker_name&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">limit_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory limit, in bytes, for the circuit breaker.
</dd>
<dt>
<span class="term">
<code class="literal">limit_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory limit for the circuit breaker.
</dd>
<dt>
<span class="term">
<code class="literal">estimated_size_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Estimated memory used, in bytes, for the operation.
</dd>
<dt>
<span class="term">
<code class="literal">estimated_size</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Estimated memory used for the operation.
</dd>
<dt>
<span class="term">
<code class="literal">overhead</code>
</span>
</dt>
<dd>
(float)
A constant that all estimates for the circuit breaker are multiplied with to
calculate a final estimate.
</dd>
<dt>
<span class="term">
<code class="literal">tripped</code>
</span>
</dt>
<dd>
(integer)
Total number of times the circuit breaker has been triggered and prevented an
out of memory error.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-script"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">script</code>
</span>
</dt>
<dd>
<p>
(object)
Contains script statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">script</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">compilations</code>
</span>
</dt>
<dd>
(integer)
Total number of inline script compilations performed by the node.
</dd>
<dt>
<span class="term">
<code class="literal">compilations_history</code>
</span>
</dt>
<dd>
(object)
Contains this recent history of script compilations
</dd>
</dl>
</div>
<details open>
<summary class="title">Properties of <code class="literal">compilations_history</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">5m</code>
</span>
</dt>
<dd>
(long)
The number of script compilations in the last five minutes.
</dd>
<dt>
<span class="term">
<code class="literal">15m</code>
</span>
</dt>
<dd>
(long)
The number of script compilations in the last fifteen minutes.
</dd>
<dt>
<span class="term">
<code class="literal">24h</code>
</span>
</dt>
<dd>
(long)
The number of script compilations in the last twenty-four hours.
</dd>
</dl>
</div>
</div>
</details>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cache_evictions</code>
</span>
</dt>
<dd>
(integer)
Total number of times the script cache has evicted old data.
</dd>
<dt>
<span class="term">
<code class="literal">cache_evictions_history</code>
</span>
</dt>
<dd>
(object)
Contains this recent history of script cache evictions
</dd>
</dl>
</div>
<details open>
<summary class="title">Properties of <code class="literal">cache_evictions</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">5m</code>
</span>
</dt>
<dd>
(long)
The number of script cache evictions in the last five minutes.
</dd>
<dt>
<span class="term">
<code class="literal">15m</code>
</span>
</dt>
<dd>
(long)
The number of script cache evictions in the last fifteen minutes.
</dd>
<dt>
<span class="term">
<code class="literal">24h</code>
</span>
</dt>
<dd>
(long)
The number of script cache evictions in the last twenty-four hours.
</dd>
</dl>
</div>
</div>
</details>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">compilation_limit_triggered</code>
</span>
</dt>
<dd>
(integer)
Total number of times the <a class="xref" href="settings.html#script-compilation-circuit-breaker" title="Script compilation circuit breaker">script
compilation</a> circuit breaker has limited inline script compilations.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-discovery"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">discovery</code>
</span>
</dt>
<dd>
<p>
(object)
Contains node discovery statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">discovery</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cluster_state_queue</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for the cluster state queue of the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">cluster_state_queue</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of cluster states in queue.
</dd>
<dt>
<span class="term">
<code class="literal">pending</code>
</span>
</dt>
<dd>
(integer)
Number of pending cluster states in queue.
</dd>
<dt>
<span class="term">
<code class="literal">committed</code>
</span>
</dt>
<dd>
(integer)
Number of committed cluster states in queue.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">published_cluster_states</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for the published cluster states of the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">published_cluster_states</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">full_states</code>
</span>
</dt>
<dd>
(integer)
Number of published cluster states.
</dd>
<dt>
<span class="term">
<code class="literal">incompatible_diffs</code>
</span>
</dt>
<dd>
(integer)
Number of incompatible differences between published cluster states.
</dd>
<dt>
<span class="term">
<code class="literal">compatible_diffs</code>
</span>
</dt>
<dd>
(integer)
Number of compatible differences between published cluster states.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">cluster_state_update</code>
</span>
</dt>
<dd>
<p>
(object)
Contains low-level statistics about how long various activities took during
cluster state updates while the node was the elected master. Omitted if the
node is not master-eligible. Every field whose name ends in <code class="literal">_time</code> within this
object is also represented as a raw number of milliseconds in a field whose
name ends in <code class="literal">_time_millis</code>. The human-readable fields with a <code class="literal">_time</code> suffix
are only returned if requested with the <code class="literal">?human=true</code> query parameter.
</p>
<details>
<summary class="title">Properties of <code class="literal">cluster_state_update</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">unchanged</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about cluster state update attempts that did not change the
cluster state.
</p>
<details>
<summary class="title">Properties of <code class="literal">unchanged</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(long)
The number of cluster state update attempts that did not change the cluster
state since the node started.
</dd>
<dt>
<span class="term">
<code class="literal">computation_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent computing no-op cluster state updates since
the node started.
</dd>
<dt>
<span class="term">
<code class="literal">notification_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent notifying listeners of a no-op cluster
state update since the node started.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">success</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about cluster state update attempts that successfully
changed the cluster state.
</p>
<details>
<summary class="title">Properties of <code class="literal">success</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(long)
The number of cluster state update attempts that successfully changed the
cluster state since the node started.
</dd>
<dt>
<span class="term">
<code class="literal">computation_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent computing cluster state updates that were
ultimately successful since the node started.
</dd>
<dt>
<span class="term">
<code class="literal">publication_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent publishing cluster state updates which
ultimately succeeded, which includes everything from the start of the
publication (i.e. just after the computation of the new cluster state) until
the publication has finished and the master node is ready to start processing
the next state update. This includes the time measured by
<code class="literal">context_construction_time</code>, <code class="literal">commit_time</code>, <code class="literal">completion_time</code> and
<code class="literal">master_apply_time</code>.
</dd>
<dt>
<span class="term">
<code class="literal">context_construction_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent constructing a <em>publication context</em> since
the node started for publications that ultimately succeeded. This statistic
includes the time spent computing the difference between the current and new
cluster state preparing a serialized representation of this difference.
</dd>
<dt>
<span class="term">
<code class="literal">commit_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent waiting for a successful cluster state
update to <em>commit</em>, which measures the time from the start of each publication
until a majority of the master-eligible nodes have written the state to disk
and confirmed the write to the elected master.
</dd>
<dt>
<span class="term">
<code class="literal">completion_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent waiting for a successful cluster state
update to <em>complete</em>, which measures the time from the start of each
publication until all the other nodes have notified the elected master that
they have applied the cluster state.
</dd>
<dt>
<span class="term">
<code class="literal">master_apply_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent successfully applying cluster state updates
on the elected master since the node started.
</dd>
<dt>
<span class="term">
<code class="literal">notification_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent notifying listeners of a successful cluster
state update since the node started.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">failure</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about cluster state update attempts that did not
successfully change the cluster state, typically because a new master node was
elected before completion.
</p>
<details>
<summary class="title">Properties of <code class="literal">failure</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(long)
The number of cluster state update attempts that failed to change the cluster
state since the node started.
</dd>
<dt>
<span class="term">
<code class="literal">computation_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent computing cluster state updates that were
ultimately unsuccessful since the node started.
</dd>
<dt>
<span class="term">
<code class="literal">publication_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent publishing cluster state updates which
ultimately failed, which includes everything from the start of the
publication (i.e. just after the computation of the new cluster state) until
the publication has finished and the master node is ready to start processing
the next state update. This includes the time measured by
<code class="literal">context_construction_time</code>, <code class="literal">commit_time</code>, <code class="literal">completion_time</code> and
<code class="literal">master_apply_time</code>.
</dd>
<dt>
<span class="term">
<code class="literal">context_construction_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent constructing a <em>publication context</em> since
the node started for publications that ultimately failed. This statistic
includes the time spent computing the difference between the current and new
cluster state preparing a serialized representation of this difference.
</dd>
<dt>
<span class="term">
<code class="literal">commit_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent waiting for an unsuccessful cluster state
update to <em>commit</em>, which measures the time from the start of each publication
until a majority of the master-eligible nodes have written the state to disk
and confirmed the write to the elected master.
</dd>
<dt>
<span class="term">
<code class="literal">completion_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent waiting for an unsuccessful cluster state
update to <em>complete</em>, which measures the time from the start of each
publication until all the other nodes have notified the elected master that
they have applied the cluster state.
</dd>
<dt>
<span class="term">
<code class="literal">master_apply_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent unsuccessfully applying cluster state
updates on the elected master since the node started.
</dd>
<dt>
<span class="term">
<code class="literal">notification_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The cumulative amount of time spent notifying listeners of a failed cluster
state update since the node started.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-ingest"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ingest</code>
</span>
</dt>
<dd>
<p>
(object)
Contains ingest statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">ingest</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about ingest operations for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">total</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Total number of documents ingested during the lifetime of this node.
</dd>
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent preprocessing ingest documents during the lifetime of this
node.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time, in milliseconds, spent preprocessing ingest documents during the
lifetime of this node.
</dd>
<dt>
<span class="term">
<code class="literal">current</code>
</span>
</dt>
<dd>
(integer)
Total number of documents currently being ingested.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Total number of failed ingest operations during the lifetime of this node.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">pipelines</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about ingest pipelines for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">pipelines</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;pipeline_id&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics about the ingest pipeline.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;pipeline_id&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of documents preprocessed by the ingest pipeline.
</dd>
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent preprocessing documents in the ingest pipeline.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time, in milliseconds, spent preprocessing documents in the ingest
pipeline.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Total number of failed operations for the ingest pipeline.
</dd>
<dt>
<span class="term">
<code class="literal">processors</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains statistics for the ingest processors for the ingest pipeline.
</p>
<details open>
<summary class="title">Properties of <code class="literal">processors</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;processor&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for the ingest processor.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;processor&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of documents transformed by the processor.
</dd>
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent by the processor transforming documents.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time, in milliseconds, spent by the processor transforming documents.
</dd>
<dt>
<span class="term">
<code class="literal">current</code>
</span>
</dt>
<dd>
(integer)
Number of documents currently being transformed by the processor.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Number of failed operations for the processor.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-indexing-pressure"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">indexing_pressure</code>
</span>
</dt>
<dd>
<p>
(object)
Contains <a class="xref" href="index-modules-indexing-pressure.html" title="Indexing pressure">indexing pressure</a> statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">indexing_pressure</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">memory</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for memory consumption from indexing load.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;memory&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for current indexing load.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;current&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">combined_coordinating_and_primary</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the coordinating or primary stage. This
value is not the sum of coordinating and primary as a node can reuse the
coordinating memory if the primary stage is executed locally.
</dd>
<dt>
<span class="term">
<code class="literal">combined_coordinating_and_primary_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the coordinating or primary
stage. This value is not the sum of coordinating and primary as a node can
reuse the coordinating memory if the primary stage is executed locally.
</dd>
<dt>
<span class="term">
<code class="literal">coordinating</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the coordinating stage.
</dd>
<dt>
<span class="term">
<code class="literal">coordinating_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the coordinating stage.
</dd>
<dt>
<span class="term">
<code class="literal">primary</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the primary stage.
</dd>
<dt>
<span class="term">
<code class="literal">primary_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the primary stage.
</dd>
<dt>
<span class="term">
<code class="literal">replica</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the replica stage.
</dd>
<dt>
<span class="term">
<code class="literal">replica_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the replica stage.
</dd>
<dt>
<span class="term">
<code class="literal">all</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the coordinating, primary, or replica stage.
</dd>
<dt>
<span class="term">
<code class="literal">all_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the coordinating, primary,
or replica stage.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
<p>
(object)
Contains statistics for the cumulative indexing load since the node started.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;total&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">combined_coordinating_and_primary</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the coordinating or primary stage. This
value is not the sum of coordinating and primary as a node can reuse the
coordinating memory if the primary stage is executed locally.
</dd>
<dt>
<span class="term">
<code class="literal">combined_coordinating_and_primary_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the coordinating or primary
stage. This value is not the sum of coordinating and primary as a node can
reuse the coordinating memory if the primary stage is executed locally.
</dd>
<dt>
<span class="term">
<code class="literal">coordinating</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the coordinating stage.
</dd>
<dt>
<span class="term">
<code class="literal">coordinating_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the coordinating stage.
</dd>
<dt>
<span class="term">
<code class="literal">primary</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the primary stage.
</dd>
<dt>
<span class="term">
<code class="literal">primary_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the primary stage.
</dd>
<dt>
<span class="term">
<code class="literal">replica</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the replica stage.
</dd>
<dt>
<span class="term">
<code class="literal">replica_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the replica stage.
</dd>
<dt>
<span class="term">
<code class="literal">all</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Memory consumed by indexing requests in the coordinating, primary, or replica stage.
</dd>
<dt>
<span class="term">
<code class="literal">all_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Memory consumed, in bytes, by indexing requests in the coordinating, primary,
or replica stage.
</dd>
<dt>
<span class="term">
<code class="literal">coordinating_rejections</code>
</span>
</dt>
<dd>
(integer)
Number of indexing requests rejected in the coordinating stage.
</dd>
<dt>
<span class="term">
<code class="literal">primary_rejections</code>
</span>
</dt>
<dd>
(integer)
Number of indexing requests rejected in the primary stage.
</dd>
<dt>
<span class="term">
<code class="literal">replica_rejections</code>
</span>
</dt>
<dd>
(integer)
Number of indexing requests rejected in the replica stage.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">limit</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#byte-units" title="Byte size units">byte value</a>)
Configured memory limit for the indexing requests. Replica requests have an
automatic limit that is 1.5x this value.
</dd>
<dt>
<span class="term">
<code class="literal">limit_in_bytes</code>
</span>
</dt>
<dd>
(integer)
Configured memory limit, in bytes, for the indexing requests. Replica requests
have an automatic limit that is 1.5x this value.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-nodes-stats-api-response-body-adaptive-selection"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">adaptive_selection</code>
</span>
</dt>
<dd>
<p>
(object)
Contains adaptive selection statistics for the node.
</p>
<details open>
<summary class="title">Properties of <code class="literal">adaptive_selection</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">outgoing_searches</code>
</span>
</dt>
<dd>
(integer)
The number of outstanding search requests from the node these stats are for
to the keyed node.
</dd>
<dt>
<span class="term">
<code class="literal">avg_queue_size</code>
</span>
</dt>
<dd>
(integer)
The exponentially weighted moving average queue size of search requests on
the keyed node.
</dd>
<dt>
<span class="term">
<code class="literal">avg_service_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The exponentially weighted moving average service time of search requests on
the keyed node.
</dd>
<dt>
<span class="term">
<code class="literal">avg_service_time_ns</code>
</span>
</dt>
<dd>
(integer)
The exponentially weighted moving average service time, in nanoseconds, of
search requests on the keyed node.
</dd>
<dt>
<span class="term">
<code class="literal">avg_response_time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
The exponentially weighted moving average response time of search requests
on the keyed node.
</dd>
<dt>
<span class="term">
<code class="literal">avg_response_time_ns</code>
</span>
</dt>
<dd>
(integer)
The exponentially weighted moving average response time, in nanoseconds, of
search requests on the keyed node.
</dd>
<dt>
<span class="term">
<code class="literal">rank</code>
</span>
</dt>
<dd>
(string)
The rank of this node; used for shard selection when routing search
requests.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-nodes-stats-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h3>
</div></div></div>
<a id="nodes-stats-limit"></a><div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console"># return just indices
GET /_nodes/stats/indices

# return just os and process
GET /_nodes/stats/os,process

# return just process for node with IP address 10.0.0.1
GET /_nodes/10.0.0.1/stats/process</pre>
</div>
<div class="console_widget" data-snippet="snippets/2176.console"></div>
<p>All stats can be explicitly requested via <code class="literal">/_nodes/stats/_all</code> or
<code class="literal">/_nodes/stats?metric=_all</code>.</p>
<p>You can get information about indices stats on <code class="literal">node</code>, <code class="literal">indices</code>, or <code class="literal">shards</code>
level.</p>
<a id="nodes-stats-indices"></a><div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console"># Fielddata summarized by node
GET /_nodes/stats/indices/fielddata?fields=field1,field2

# Fielddata summarized by node and index
GET /_nodes/stats/indices/fielddata?level=indices&amp;fields=field1,field2

# Fielddata summarized by node, index, and shard
GET /_nodes/stats/indices/fielddata?level=shards&amp;fields=field1,field2

# You can use wildcards for field names
GET /_nodes/stats/indices/fielddata?fields=field*</pre>
</div>
<div class="console_widget" data-snippet="snippets/2177.console"></div>
<p>You can get statistics about search groups for searches executed
on this node.</p>
<a id="nodes-stats-groups"></a><div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console"># All groups with all stats
GET /_nodes/stats?groups=_all

# Some groups from just the indices stats
GET /_nodes/stats/indices?groups=foo,bar</pre>
</div>
<div class="console_widget" data-snippet="snippets/2178.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="cluster-nodes-stats-ingest-ex"></a>Retrieve ingest statistics only<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/nodes-stats.asciidoc">edit</a></h4>
</div></div></div>
<p>To return only ingest-related node statistics, set the <code class="literal">&lt;metric&gt;</code> path
parameter to <code class="literal">ingest</code> and use the
<a class="xref" href="common-options.html#common-options-response-filtering" title="Response Filtering"><code class="literal">filter_path</code></a> query parameter.</p>
<a id="nodes-stats-filter-path"></a><div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_nodes/stats/ingest?filter_path=nodes.*.ingest</pre>
</div>
<div class="console_widget" data-snippet="snippets/2179.console"></div>
<p>You can use the <code class="literal">metric</code> and <code class="literal">filter_path</code> query parameters to get the same
response.</p>
<a id="nodes-stats-metric-filter-path"></a><div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_nodes/stats?metric=ingest&amp;filter_path=nodes.*.ingest</pre>
</div>
<div class="console_widget" data-snippet="snippets/2180.console"></div>
<p>To further refine the response, change the <code class="literal">filter_path</code> value.
For example, the following request only returns ingest pipeline statistics.</p>
<a id="nodes-stats-metric-filter-path-refined"></a><div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_nodes/stats?metric=ingest&amp;filter_path=nodes.*.ingest.pipelines</pre>
</div>
<div class="console_widget" data-snippet="snippets/2181.console"></div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-info"></a>Cluster Info API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/cluster-info.asciidoc">edit</a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will apply best effort to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>

<p>Returns cluster information.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-info-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/cluster-info.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_info/&lt;target&gt;</code><br></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-info-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/cluster-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-info-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/cluster-info.asciidoc">edit</a></h3>
</div></div></div>
<p>You can use the Cluster Info API to retrieve information of a cluster.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-info-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/cluster-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;target&gt;</code>
</span>
</dt>
<dd>
<p>
(String) Limits the information returned to the specific <code class="literal">target</code>.
A comma-separated list of the following options:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_all</code>
</span>
</dt>
<dd>
All the information available. Can not be mixed with other targets.
</dd>
<dt>
<span class="term">
<code class="literal">http</code>
</span>
</dt>
<dd>
HTTP connection information.
</dd>
<dt>
<span class="term">
<code class="literal">ingest</code>
</span>
</dt>
<dd>
Ingest information.
</dd>
<dt>
<span class="term">
<code class="literal">thread_pool</code>
</span>
</dt>
<dd>
Statistics about each thread pool, including current size, queue size and rejected tasks.
</dd>
<dt>
<span class="term">
<code class="literal">script</code>
</span>
</dt>
<dd>
Contains script statistics of the cluster.
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-info-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/cluster-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cluster_name</code>
</span>
</dt>
<dd>
(string)
Name of the cluster. Based on the <a class="xref" href="settings.html#cluster-name" title="Cluster name setting">Cluster name setting</a> setting.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-info-api-response-body-http"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">http</code>
</span>
</dt>
<dd>
<p>
(object)
Contains http information for the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">http</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_open</code>
</span>
</dt>
<dd>
(integer)
Current number of open HTTP connections for the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">total_opened</code>
</span>
</dt>
<dd>
(integer)
Total number of HTTP connections opened for the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">clients</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Information on current and recently-closed HTTP client connections.
Clients that have been closed longer than the <a class="xref" href="settings.html#http-settings" title="Advanced HTTP settings">http.client_stats.closed_channels.max_age</a>
setting will not be represented here.
</p>
<details open>
<summary class="title">Properties of <code class="literal">clients</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(integer)
Unique ID for the HTTP client.
</dd>
<dt>
<span class="term">
<code class="literal">agent</code>
</span>
</dt>
<dd>
(string)
Reported agent for the HTTP client. If unavailable, this property is not
included in the response.
</dd>
<dt>
<span class="term">
<code class="literal">local_address</code>
</span>
</dt>
<dd>
(string)
Local address for the HTTP connection.
</dd>
<dt>
<span class="term">
<code class="literal">remote_address</code>
</span>
</dt>
<dd>
(string)
Remote address for the HTTP connection.
</dd>
<dt>
<span class="term">
<code class="literal">last_uri</code>
</span>
</dt>
<dd>
(string)
The URI of the client&#8217;s most recent request.
</dd>
<dt>
<span class="term">
<code class="literal">x_forwarded_for</code>
</span>
</dt>
<dd>
(string)
Value from the client&#8217;s <code class="literal">x-forwarded-for</code> HTTP header. If unavailable, this
property is not included in the response.
</dd>
<dt>
<span class="term">
<code class="literal">x_opaque_id</code>
</span>
</dt>
<dd>
(string)
Value from the client&#8217;s <code class="literal">x-opaque-id</code> HTTP header. If unavailable, this property
is not included in the response.
</dd>
<dt>
<span class="term">
<code class="literal">opened_time_millis</code>
</span>
</dt>
<dd>
(integer)
Time at which the client opened the connection.
</dd>
<dt>
<span class="term">
<code class="literal">closed_time_millis</code>
</span>
</dt>
<dd>
(integer)
Time at which the client closed the connection if the connection is closed.
</dd>
<dt>
<span class="term">
<code class="literal">last_request_time_millis</code>
</span>
</dt>
<dd>
(integer)
Time of the most recent request from this client.
</dd>
<dt>
<span class="term">
<code class="literal">request_count</code>
</span>
</dt>
<dd>
(integer)
Number of requests from this client.
</dd>
<dt>
<span class="term">
<code class="literal">request_size_bytes</code>
</span>
</dt>
<dd>
(integer)
Cumulative size in bytes of all requests from this client.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-info-api-response-body-ingest"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ingest</code>
</span>
</dt>
<dd>
<p>
(object)
Contains ingest information for the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">ingest</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
<p>
(object)
Contains information about ingest operations for the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">total</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Total number of documents ingested across the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent preprocessing ingest documents across the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time, in milliseconds, spent preprocessing ingest documents across the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">current</code>
</span>
</dt>
<dd>
(integer)
Total number of documents currently being ingested.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Total number of failed ingest operations across the cluster.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">pipelines</code>
</span>
</dt>
<dd>
<p>
(object)
Contains information about ingest pipelines for the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">pipelines</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;pipeline_id&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains information about the ingest pipeline.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;pipeline_id&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of documents preprocessed by the ingest pipeline.
</dd>
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Total time spent preprocessing documents in the ingest pipeline.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Total time, in milliseconds, spent preprocessing documents in the ingest
pipeline.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Total number of failed operations for the ingest pipeline.
</dd>
<dt>
<span class="term">
<code class="literal">processors</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains information for the ingest processors for the ingest pipeline.
</p>
<details open>
<summary class="title">Properties of <code class="literal">processors</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;processor&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains information for the ingest processor.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;processor&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">count</code>
</span>
</dt>
<dd>
(integer)
Number of documents transformed by the processor.
</dd>
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
(<a class="xref" href="api-conventions.html#time-units" title="Time units">time value</a>)
Time spent by the processor transforming documents.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_millis</code>
</span>
</dt>
<dd>
(integer)
Time, in milliseconds, spent by the processor transforming documents.
</dd>
<dt>
<span class="term">
<code class="literal">current</code>
</span>
</dt>
<dd>
(integer)
Number of documents currently being transformed by the processor.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Number of failed operations for the processor.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-info-api-response-body-threadpool"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">thread_pool</code>
</span>
</dt>
<dd>
<p>
(object)
Contains information about the thread pools of the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">thread_pool</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;thread_pool_name&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Contains information about the thread pool of the cluster with name <code class="literal">&lt;thread_pool_name&gt;</code>.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;thread_pool_name&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">threads</code>
</span>
</dt>
<dd>
(integer)
Number of threads in the thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">queue</code>
</span>
</dt>
<dd>
(integer)
Number of tasks in queue for the thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">active</code>
</span>
</dt>
<dd>
(integer)
Number of active threads in the thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">rejected</code>
</span>
</dt>
<dd>
(integer)
Number of tasks rejected by the thread pool executor.
</dd>
<dt>
<span class="term">
<code class="literal">largest</code>
</span>
</dt>
<dd>
(integer)
Highest number of active threads in the thread pool.
</dd>
<dt>
<span class="term">
<code class="literal">completed</code>
</span>
</dt>
<dd>
(integer)
Number of tasks completed by the thread pool executor.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="cluster-info-api-response-body-script"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">script</code>
</span>
</dt>
<dd>
<p>
(object)
Contains script statistics of the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">script</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">compilations</code>
</span>
</dt>
<dd>
(integer)
Total number of inline script compilations performed by the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">compilations_history</code>
</span>
</dt>
<dd>
(object)
Contains the recent history of script compilations.
</dd>
</dl>
</div>
<details open>
<summary class="title">Properties of <code class="literal">compilations_history</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">5m</code>
</span>
</dt>
<dd>
(long)
The number of script compilations in the last five minutes.
</dd>
<dt>
<span class="term">
<code class="literal">15m</code>
</span>
</dt>
<dd>
(long)
The number of script compilations in the last fifteen minutes.
</dd>
<dt>
<span class="term">
<code class="literal">24h</code>
</span>
</dt>
<dd>
(long)
The number of script compilations in the last twenty-four hours.
</dd>
</dl>
</div>
</div>
</details>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cache_evictions</code>
</span>
</dt>
<dd>
(integer)
Total number of times the script cache has evicted old data.
</dd>
<dt>
<span class="term">
<code class="literal">cache_evictions_history</code>
</span>
</dt>
<dd>
(object)
Contains the recent history of script cache evictions.
</dd>
</dl>
</div>
<details open>
<summary class="title">Properties of <code class="literal">cache_evictions</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">5m</code>
</span>
</dt>
<dd>
(long)
The number of script cache evictions in the last five minutes.
</dd>
<dt>
<span class="term">
<code class="literal">15m</code>
</span>
</dt>
<dd>
(long)
The number of script cache evictions in the last fifteen minutes.
</dd>
<dt>
<span class="term">
<code class="literal">24h</code>
</span>
</dt>
<dd>
(long)
The number of script cache evictions in the last twenty-four hours.
</dd>
</dl>
</div>
</div>
</details>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">compilation_limit_triggered</code>
</span>
</dt>
<dd>
(integer)
Total number of times the <a class="xref" href="settings.html#script-compilation-circuit-breaker" title="Script compilation circuit breaker">script
compilation</a> circuit breaker has limited inline script compilations.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-info-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/cluster-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console"># returns all stats info of the cluster
GET /_info/_all

# returns the http info of the cluster
GET /_info/http

# returns the http info of the cluster
GET /_info/ingest

# returns the thread_pool info of the cluster
GET /_info/thread_pool

# returns the script info of the cluster
GET /_info/script

# returns the http and ingest info of the cluster
GET /_info/http,ingest</pre>
</div>
<div class="console_widget" data-snippet="snippets/2182.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-pending"></a>Pending cluster tasks API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/pending.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns cluster-level changes that have not yet been executed.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-pending-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/pending.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_cluster/pending_tasks</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-pending-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/pending.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-pending-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/pending.asciidoc">edit</a></h3>
</div></div></div>
<p>The pending cluster tasks API returns a list of any cluster-level changes (e.g.
create index, update mapping, allocate or fail shard) which have not yet been
executed.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This API returns a list of any pending updates to the cluster state. These are distinct from the tasks reported by the
<a class="xref" href="cluster.html#tasks" title="Task management API">Task Management API</a> which include periodic tasks and tasks initiated by the user, such as node stats, search queries, or create
index requests. However, if a user-initiated task such as a create index command causes a cluster state update, the activity of this task
might be reported by both task api and pending cluster tasks API.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-pending-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/pending.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">local</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the request retrieves information from the local
node only. Defaults to <code class="literal">false</code>, which means information is retrieved from
the master node.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-pending-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/pending.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">tasks</code>
</span>
</dt>
<dd>
(object) A list of pending tasks.
</dd>
<dt>
<span class="term">
<code class="literal">insert_order</code>
</span>
</dt>
<dd>
(integer) The number that represents when the task has been inserted into
the task queue.
</dd>
<dt>
<span class="term">
<code class="literal">priority</code>
</span>
</dt>
<dd>
(string) The priority of the pending task. The valid priorities in descending priority order are: <code class="literal">IMMEDIATE</code> &gt; <code class="literal">URGENT</code> &gt; <code class="literal">HIGH</code> &gt; <code class="literal">NORMAL</code> &gt; <code class="literal">LOW</code> &gt; <code class="literal">LANGUID</code>.
</dd>
<dt>
<span class="term">
<code class="literal">source</code>
</span>
</dt>
<dd>
(string) A general description of the cluster task that may include a reason
and origin.
</dd>
<dt>
<span class="term">
<code class="literal">executing</code>
</span>
</dt>
<dd>
(boolean) True or false, indicating whether the pending tasks is currently getting executed or not.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_queue_millis</code>
</span>
</dt>
<dd>
(integer) The time expressed in milliseconds since the task is waiting for
being performed.
</dd>
<dt>
<span class="term">
<code class="literal">time_in_queue</code>
</span>
</dt>
<dd>
(string) The time since the task is waiting for being performed.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-pending-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/pending.asciidoc">edit</a></h3>
</div></div></div>
<p>Usually the request will return an empty list as cluster-level changes are fast.
However, if there are tasks queued up, the response will look similar like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
   "tasks": [
      {
         "insert_order": 101,
         "priority": "URGENT",
         "source": "create-index [foo_9], cause [api]",
         "executing" : true,
         "time_in_queue_millis": 86,
         "time_in_queue": "86ms"
      },
      {
         "insert_order": 46,
         "priority": "HIGH",
         "source": "shard-started ([foo_2][1], node[tMTocMvQQgGCkj7QDHl3OA], [P], s[INITIALIZING]), reason [after recovery from shard_store]",
         "executing" : false,
         "time_in_queue_millis": 842,
         "time_in_queue": "842ms"
      },
      {
         "insert_order": 45,
         "priority": "HIGH",
         "source": "shard-started ([foo_2][0], node[tMTocMvQQgGCkj7QDHl3OA], [P], s[INITIALIZING]), reason [after recovery from shard_store]",
         "executing" : false,
         "time_in_queue_millis": 858,
         "time_in_queue": "858ms"
      }
  ]
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cluster-remote-info"></a>Remote cluster info API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/remote-info.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns configured remote cluster information.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-remote-info-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/remote-info.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_remote/info</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-remote-info-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/remote-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-remote-info-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/remote-info.asciidoc">edit</a></h3>
</div></div></div>
<p>The cluster remote info API allows you to retrieve all of the configured
remote cluster information. It returns connection and endpoint information keyed
by the configured remote cluster alias.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="cluster-remote-info-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/remote-info.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">mode</code>
</span>
</dt>
<dd>
Connection mode for the remote cluster. Returned values are <code class="literal">sniff</code> and
<code class="literal">proxy</code>.
</dd>
<dt>
<span class="term">
<code class="literal">connected</code>
</span>
</dt>
<dd>
True if there is at least one connection to the remote cluster.
</dd>
<dt>
<span class="term">
<code class="literal">initial_connect_timeout</code>
</span>
</dt>
<dd>
The initial connect timeout for remote cluster connections.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="skip-unavailable"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">skip_unavailable</code>
</span>
</dt>
<dd>
Whether a cross-cluster search skips the remote cluster if its nodes are unavailable during the
search. If <code class="literal">true</code>, a cross-cluster search also ignores errors returned by the remote cluster.
Refer to <a class="xref" href="modules-cross-cluster-search.html#skip-unavailable-clusters" title="Optional remote clusters">Optional remote clusters</a>.
</dd>
<dt>
<span class="term">
<code class="literal">seeds</code>
</span>
</dt>
<dd>
Initial seed transport addresses of the remote cluster when sniff mode is
configured.
</dd>
<dt>
<span class="term">
<code class="literal">num_nodes_connected</code>
</span>
</dt>
<dd>
Number of connected nodes in the remote cluster when sniff mode is
configured.
</dd>
<dt>
<span class="term">
<code class="literal">max_connections_per_cluster</code>
</span>
</dt>
<dd>
Maximum number of connections maintained for the remote cluster when sniff
mode is configured.
</dd>
<dt>
<span class="term">
<code class="literal">proxy_address</code>
</span>
</dt>
<dd>
Address for remote connections when proxy mode is configured.
</dd>
<dt>
<span class="term">
<code class="literal">num_proxy_sockets_connected</code>
</span>
</dt>
<dd>
Number of open socket connections to the remote cluster when proxy mode
is configured.
</dd>
<dt>
<span class="term">
<code class="literal">max_proxy_socket_connections</code>
</span>
</dt>
<dd>
The maximum number of socket connections to the remote cluster when proxy
mode is configured.
</dd>
</dl>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="tasks"></a>Task management API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h2>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The task management API is new and should still be considered a beta feature. The API may change in ways that are not backwards compatible. For feature status, see <a href="https://github.com/elastic/elasticsearch/issues/51628" class="ulink" target="_top">#51628</a>.</p>
</div>
</div>
<p>Returns information about the tasks currently executing in the cluster.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="tasks-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_tasks/&lt;task_id&gt;</code></p>
<p><code class="literal">GET /_tasks</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="tasks-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="tasks-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h3>
</div></div></div>
<p>The task management API returns information
about tasks currently executing
on one or more nodes in the cluster.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="tasks-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;task_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string) ID of the task to return
(<code class="literal">node_id:task_number</code>).
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="tasks-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">actions</code>
</span>
</dt>
<dd>
<p>(Optional, string)
Comma-separated list or wildcard expression
of actions used to limit the request.</p>
<p>Omit this parameter to return all actions.</p>
</dd>
<dt>
<span class="term">
<code class="literal">detailed</code>
</span>
</dt>
<dd>
(Optional, Boolean)
If <code class="literal">true</code>,
the response includes detailed information about shard recoveries.
Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">group_by</code>
</span>
</dt>
<dd>
<p>(Optional, string)
Key used to group tasks in the response.</p>
<p>Possible values are:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">nodes</code>
</span>
</dt>
<dd>
(Default)
Node ID
</dd>
<dt>
<span class="term">
<code class="literal">parents</code>
</span>
</dt>
<dd>
Parent task ID
</dd>
<dt>
<span class="term">
<code class="literal">none</code>
</span>
</dt>
<dd>
Do not group tasks.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">nodes</code>
</span>
</dt>
<dd>
(Optional, string) Comma-separated list of node IDs or names used to limit
returned information.
</dd>
<dt>
<span class="term">
<code class="literal">parent_task_id</code>
</span>
</dt>
<dd>
<p>(Optional, string)
Parent task ID
used to limit returned information.</p>
<p>To return all tasks,
omit this parameter
or use a value of <code class="literal">-1</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_completion</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the request blocks until all found tasks are complete.
Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="tasks-api-response-codes"></a>Response codes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
If <code class="literal">&lt;task_id&gt;</code> is specified but not found, this code indicates that there
are no resources that match the request.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="tasks-api-examples"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _tasks <a id="CO680-1"></a><i class="conum" data-value="1"></i>
GET _tasks?nodes=nodeId1,nodeId2 <a id="CO680-2"></a><i class="conum" data-value="2"></i>
GET _tasks?nodes=nodeId1,nodeId2&amp;actions=cluster:* <a id="CO680-3"></a><i class="conum" data-value="3"></i></pre>
</div>
<div class="console_widget" data-snippet="snippets/2183.console"></div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO680-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Retrieves all tasks currently running on all nodes in the cluster.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO680-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Retrieves all tasks running on nodes <code class="literal">nodeId1</code> and <code class="literal">nodeId2</code>. See <a class="xref" href="cluster.html#cluster-nodes" title="Node specification">Node specification</a> for more info about how to select individual nodes.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO680-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Retrieves all cluster-related tasks running on nodes <code class="literal">nodeId1</code> and <code class="literal">nodeId2</code>.</p>
</td>
</tr>
</table>
</div>
<p>The API returns the following result:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "nodes" : {
    "oTUltX4IQMOUUVeiohTt8A" : {
      "name" : "H5dfFeA",
      "transport_address" : "127.0.0.1:9300",
      "host" : "127.0.0.1",
      "ip" : "127.0.0.1:9300",
      "tasks" : {
        "oTUltX4IQMOUUVeiohTt8A:124" : {
          "node" : "oTUltX4IQMOUUVeiohTt8A",
          "id" : 124,
          "type" : "direct",
          "action" : "cluster:monitor/tasks/lists[n]",
          "start_time_in_millis" : 1458585884904,
          "running_time_in_nanos" : 47402,
          "cancellable" : false,
          "parent_task_id" : "oTUltX4IQMOUUVeiohTt8A:123"
        },
        "oTUltX4IQMOUUVeiohTt8A:123" : {
          "node" : "oTUltX4IQMOUUVeiohTt8A",
          "id" : 123,
          "type" : "transport",
          "action" : "cluster:monitor/tasks/lists",
          "start_time_in_millis" : 1458585884904,
          "running_time_in_nanos" : 236042,
          "cancellable" : false
        }
      }
    }
  }
}</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_retrieve_information_from_a_particular_task"></a>Retrieve information from a particular task<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h4>
</div></div></div>
<p>It is also possible to retrieve information for a particular task. The following
example retrieves information about task <code class="literal">oTUltX4IQMOUUVeiohTt8A:124</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _tasks/oTUltX4IQMOUUVeiohTt8A:124</pre>
</div>
<div class="console_widget" data-snippet="snippets/2184.console"></div>
<p>If the task isn&#8217;t found, the API returns a 404.</p>
<p>To retrieve all children of a particular task:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _tasks?parent_task_id=oTUltX4IQMOUUVeiohTt8A:123</pre>
</div>
<div class="console_widget" data-snippet="snippets/2185.console"></div>
<p>If the parent isn&#8217;t found, the API does not return a 404.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_get_more_information_about_tasks"></a>Get more information about tasks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h4>
</div></div></div>
<p>You can also use the <code class="literal">detailed</code> request parameter to get more information about
the running tasks. This is useful to distinguish tasks from each other but
is more costly to execute. For example, fetching all searches using the <code class="literal">detailed</code>
request parameter:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _tasks?actions=*search&amp;detailed</pre>
</div>
<div class="console_widget" data-snippet="snippets/2186.console"></div>
<p>The API returns the following result:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "nodes" : {
    "oTUltX4IQMOUUVeiohTt8A" : {
      "name" : "H5dfFeA",
      "transport_address" : "127.0.0.1:9300",
      "host" : "127.0.0.1",
      "ip" : "127.0.0.1:9300",
      "tasks" : {
        "oTUltX4IQMOUUVeiohTt8A:464" : {
          "node" : "oTUltX4IQMOUUVeiohTt8A",
          "id" : 464,
          "type" : "transport",
          "action" : "indices:data/read/search",
          "description" : "indices[test], types[test], search_type[QUERY_THEN_FETCH], source[{\"query\":...}]",
          "start_time_in_millis" : 1483478610008,
          "running_time_in_nanos" : 13991383,
          "cancellable" : true,
          "cancelled" : false
        }
      }
    }
  }
}</pre>
</div>
<p>The new <code class="literal">description</code> field contains human readable text that identifies the
particular request that the task is performing such as identifying the search
request being performed by a search task like the example above. Other kinds of
tasks have different descriptions, like <a class="xref" href="docs.html#docs-reindex" title="Reindex API"><code class="literal">_reindex</code></a> which
has the source and the destination, or <a class="xref" href="docs.html#docs-bulk" title="Bulk API"><code class="literal">_bulk</code></a> which just has the
number of requests and the destination indices. Many requests will only have an
empty description because more detailed information about the request is not
easily available or particularly helpful in identifying the request.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">_tasks</code> requests with <code class="literal">detailed</code> may also return a <code class="literal">status</code>. This is a report
of the internal status of the task. As such its format varies from task to task.
While we try to keep the <code class="literal">status</code> for a particular task consistent from version
to version this isn&#8217;t always possible because we sometimes change the
implementation. In that case we might remove fields from the <code class="literal">status</code> for a
particular request so any parsing you do of the status might break in minor
releases.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_wait_for_completion"></a>Wait for completion<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h4>
</div></div></div>
<p>The task API can also be used to wait for completion of a particular task. The
following call will block for 10 seconds or until the task with id
<code class="literal">oTUltX4IQMOUUVeiohTt8A:12345</code> is completed.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _tasks/oTUltX4IQMOUUVeiohTt8A:12345?wait_for_completion=true&amp;timeout=10s</pre>
</div>
<div class="console_widget" data-snippet="snippets/2187.console"></div>
<p>You can also wait for all tasks for certain action types to finish. This command
will wait for all <code class="literal">reindex</code> tasks to finish:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _tasks?actions=*reindex&amp;wait_for_completion=true&amp;timeout=10s</pre>
</div>
<div class="console_widget" data-snippet="snippets/2188.console"></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="task-cancellation"></a>Task Cancellation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h4>
</div></div></div>
<p>If a long-running task supports cancellation, it can be cancelled with the cancel
tasks API. The following example cancels task <code class="literal">oTUltX4IQMOUUVeiohTt8A:12345</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _tasks/oTUltX4IQMOUUVeiohTt8A:12345/_cancel</pre>
</div>
<div class="console_widget" data-snippet="snippets/2189.console"></div>
<p>The task cancellation command supports the same task selection parameters as the
list tasks command, so multiple tasks can be cancelled at the same time. For
example, the following command will cancel all reindex tasks running on the
nodes <code class="literal">nodeId1</code> and <code class="literal">nodeId2</code>.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _tasks/_cancel?nodes=nodeId1,nodeId2&amp;actions=*reindex</pre>
</div>
<div class="console_widget" data-snippet="snippets/2190.console"></div>
<p>A task may continue to run for some time after it has been cancelled because it
may not be able to safely stop its current activity straight away, or because
Elasticsearch must complete its work on other tasks before it can process the
cancellation. The list tasks API will continue to list these cancelled tasks
until they complete. The <code class="literal">cancelled</code> flag in the response to the list tasks API
indicates that the cancellation command has been processed and the task will
stop as soon as possible. To troubleshoot why a cancelled task does not
complete promptly, use the list tasks API with the <code class="literal">?detailed</code> parameter to
identify the other tasks the system is running and also use the
<a class="xref" href="cluster.html#cluster-nodes-hot-threads" title="Nodes hot threads API">Nodes hot threads</a> API to obtain detailed information about the work
the system is doing instead of completing the cancelled task.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_task_grouping"></a>Task Grouping<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h4>
</div></div></div>
<p>The task lists returned by task API commands can be grouped either by nodes
(default) or by parent tasks using the <code class="literal">group_by</code> parameter. The following
command will change the grouping to parent tasks:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _tasks?group_by=parents</pre>
</div>
<div class="console_widget" data-snippet="snippets/2191.console"></div>
<p>The grouping can be disabled by specifying <code class="literal">none</code> as a <code class="literal">group_by</code> parameter:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _tasks?group_by=none</pre>
</div>
<div class="console_widget" data-snippet="snippets/2192.console"></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_identifying_running_tasks"></a>Identifying running tasks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/tasks.asciidoc">edit</a></h4>
</div></div></div>
<p>The <code class="literal">X-Opaque-Id</code> header, when provided on the HTTP request header, is going to
be returned as a header in the response as well as in the <code class="literal">headers</code> field for in
the task information. This allows to track certain calls, or associate certain
tasks with the client that started them:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -i -H "X-Opaque-Id: 123456" "http://localhost:9200/_tasks?group_by=parents"</pre>
</div>
<p>The API returns the following result:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">HTTP/1.1 200 OK
X-Opaque-Id: 123456 <a id="CO681-1"></a><i class="conum" data-value="1"></i>
content-type: application/json; charset=UTF-8
content-length: 831

{
  "tasks" : {
    "u5lcZHqcQhu-rUoFaqDphA:45" : {
      "node" : "u5lcZHqcQhu-rUoFaqDphA",
      "id" : 45,
      "type" : "transport",
      "action" : "cluster:monitor/tasks/lists",
      "start_time_in_millis" : 1513823752749,
      "running_time_in_nanos" : 293139,
      "cancellable" : false,
      "headers" : {
        "X-Opaque-Id" : "123456" <a id="CO681-2"></a><i class="conum" data-value="2"></i>
      },
      "children" : [
        {
          "node" : "u5lcZHqcQhu-rUoFaqDphA",
          "id" : 46,
          "type" : "direct",
          "action" : "cluster:monitor/tasks/lists[n]",
          "start_time_in_millis" : 1513823752750,
          "running_time_in_nanos" : 92133,
          "cancellable" : false,
          "parent_task_id" : "u5lcZHqcQhu-rUoFaqDphA:45",
          "headers" : {
            "X-Opaque-Id" : "123456" <a id="CO681-3"></a><i class="conum" data-value="3"></i>
          }
        }
      ]
    }
  }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO681-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>id as a part of the response header</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO681-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>id for the tasks that was initiated by the REST request</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO681-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>the child task of the task initiated by the REST request</p>
</td>
</tr>
</table>
</div>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="voting-config-exclusions"></a>Voting configuration exclusions API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/voting-exclusions.asciidoc">edit</a></h2>
</div></div></div>

<p>Adds or removes master-eligible nodes from the
<a class="xref" href="modules-discovery.html#modules-discovery-voting" title="Voting configurations">voting configuration exclusion list</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="voting-config-exclusions-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/voting-exclusions.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /_cluster/voting_config_exclusions?node_names=&lt;node_names&gt;</code><br></p>
<p><code class="literal">POST /_cluster/voting_config_exclusions?node_ids=&lt;node_ids&gt;</code><br></p>
<p><code class="literal">DELETE /_cluster/voting_config_exclusions</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="voting-config-exclusions-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/voting-exclusions.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">manage</code>
<a class="xref" href="authorization.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
<li class="listitem">
If the <a class="xref" href="operator-privileges.html" title="Operator privileges">operator privileges feature</a> is enabled, only operator
users can use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="voting-config-exclusions-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/voting-exclusions.asciidoc">edit</a></h3>
</div></div></div>
<p>By default, if there are more than three master-eligible nodes in the cluster
and you remove fewer than half of the master-eligible nodes in the cluster at
once, the <a class="xref" href="modules-discovery.html#modules-discovery-voting" title="Voting configurations">voting configuration</a> automatically
shrinks.</p>
<p>If you want to shrink the voting configuration to contain fewer than three
nodes or to remove half or more of the master-eligible nodes in the cluster at
once, use this API to remove departing nodes from the voting configuration
manually. The API adds an entry for each specified node to the cluster&#8217;s voting
configuration exclusions list. It then waits until the cluster has reconfigured
its voting configuration to exclude the specified nodes.</p>
<p>Clusters should have no voting configuration exclusions in normal operation.
Once the excluded nodes have stopped, clear the voting configuration exclusions
with <code class="literal">DELETE /_cluster/voting_config_exclusions</code>. This API waits for the nodes
to be fully removed from the cluster before it returns. If your cluster has
voting configuration exclusions for nodes that you no longer intend to remove,
use <code class="literal">DELETE /_cluster/voting_config_exclusions?wait_for_removal=false</code> to clear
the voting configuration exclusions without waiting for the nodes to leave the
cluster.</p>
<p>If the API fails, you can safely retry it. Only a successful response
guarantees that the node has been removed from the voting configuration and
will not be reinstated.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Voting exclusions are required only when you remove at least half of the
master-eligible nodes from a cluster in a short time period. They are not
required when removing master-ineligible nodes or fewer than half of the
master-eligible nodes.</p>
</div>
</div>
<p>For more information, see <a class="xref" href="add-elasticsearch-nodes.html#modules-discovery-removing-nodes" title="Removing master-eligible nodes">Removing master-eligible nodes</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="voting-config-exclusions-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/voting-exclusions.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node_names</code>
</span>
</dt>
<dd>
A comma-separated list of the names of the nodes to exclude from the voting
configuration. If specified, you may not also specify <code class="literal">?node_ids</code>. Only applies
to the <code class="literal">POST</code> form of this API.
</dd>
<dt>
<span class="term">
<code class="literal">node_ids</code>
</span>
</dt>
<dd>
A comma-separated list of the persistent ids of the nodes to exclude from the
voting configuration. If specified, you may not also specify <code class="literal">?node_names</code>.
Only applies to the <code class="literal">POST</code> form of this API.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>) When adding a voting configuration
exclusion, the API waits for the specified nodes to be excluded from the voting
configuration before returning. The period of time to wait is specified by the
<code class="literal">?timeout</code> query parameter. If the timeout expires before the appropriate
condition is satisfied, the request fails and returns an error. Defaults to
<code class="literal">30s</code>. Only applies to the <code class="literal">POST</code> form of this API.
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>) Defines how long to wait while trying to
route the request to the current master node in the cluster. Defaults to <code class="literal">30s</code>.
Applies to both <code class="literal">POST</code> and <code class="literal">DELETE</code> forms of this API.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_removal</code>
</span>
</dt>
<dd>
(Optional, Boolean) Specifies whether to wait for all excluded nodes to be
removed from the cluster before clearing the voting configuration exclusions
list. Defaults to <code class="literal">true</code>, meaning that all excluded nodes must be removed from
the cluster before this API takes any action. If set to <code class="literal">false</code> then the voting
configuration exclusions list is cleared even if some excluded nodes are still
in the cluster. Only applies to the <code class="literal">DELETE</code> form of this API.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="voting-config-exclusions-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/voting-exclusions.asciidoc">edit</a></h3>
</div></div></div>
<p>Adds nodes named <code class="literal">nodeName1</code> and <code class="literal">nodeName2</code> to the voting configuration
exclusions list:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /_cluster/voting_config_exclusions?node_names=nodeName1,nodeName2</pre>
</div>
<div class="console_widget" data-snippet="snippets/2193.console"></div>
<p>Remove all exclusions from the list:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">DELETE /_cluster/voting_config_exclusions</pre>
</div>
<div class="console_widget" data-snippet="snippets/2194.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="update-desired-nodes"></a>Create or update desired nodes API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-desired-nodes.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by <a href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service</a>, <a href="https://www.elastic.co/guide/en/cloud-enterprise/current" class="ulink" target="_top">Elastic Cloud Enterprise</a>, and <a href="https://www.elastic.co/guide/en/cloud-on-k8s/current" class="ulink" target="_top">Elastic Cloud on Kubernetes</a>. Direct use is not supported.</p>
</div>
</div>
<p>Creates or updates the desired nodes.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-desired-nodes-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT /_internal/desired_nodes/&lt;history_id&gt;/&lt;version&gt;
{
    "nodes" : [
        {
            "settings" : {
                 "node.name" : "instance-000187",
                 "node.external_id": "instance-000187",
                 "node.roles" : ["data_hot", "master"],
                 "node.attr.data" : "hot",
                 "node.attr.logical_availability_zone" : "zone-0"
            },
            "processors" : 8.0,
            "memory" : "58gb",
            "storage" : "2tb",
            "node_version" : "{version}"
        }
    ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2195.console"></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-desired-nodes-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">dry_run</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, then the request simulates the update and
returns a response with <code class="literal">dry_run</code> field set to <code class="literal">true</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-desired-nodes-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<p>This API creates or update the desired nodes. External orchestrators can use
this API to let Elasticsearch know about the cluster topology, including future
changes such as adding or removing nodes. Using this information, the system is
able to take better decisions.</p>
<p>It&#8217;s possible to run the update in "dry run" mode by adding the
<code class="literal">?dry_run</code> query parameter. This will validate the request result, but will not actually perform the update.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-desired-nodes-examples"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/update-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<p>In this example, a new version for the desired nodes with history <code class="literal">Ywkh3INLQcuPT49f6kcppA</code> is created.
This API only accepts monotonically increasing versions.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT /_internal/desired_nodes/Ywkh3INLQcuPT49f6kcppA/100
{
    "nodes" : [
        {
            "settings" : {
                 "node.name" : "instance-000187",
                 "node.external_id": "instance-000187",
                 "node.roles" : ["data_hot", "master"],
                 "node.attr.data" : "hot",
                 "node.attr.logical_availability_zone" : "zone-0"
            },
            "processors" : 8.0,
            "memory" : "58gb",
            "storage" : "2tb",
            "node_version" : "{version}"
        }
    ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2196.console"></div>
<p>The API returns the following result:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "replaced_existing_history_id": false,
  "dry_run": false
}</pre>
</div>
<p>Additionally, it is possible to specify a processors range.
This is helpful in environments where Elasticsearch nodes can
be deployed in hosts where the number of processors that the
Elasticsearch process can use is guaranteed to be at least the
lower range and up to the upper range. This is a common scenario
in Linux deployments where cgroups is used.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT /_internal/desired_nodes/Ywkh3INLQcuPT49f6kcppA/101
{
    "nodes" : [
        {
            "settings" : {
                 "node.name" : "instance-000187",
                 "node.external_id": "instance-000187",
                 "node.roles" : ["data_hot", "master"],
                 "node.attr.data" : "hot",
                 "node.attr.logical_availability_zone" : "zone-0"
            },
            "processors_range" : {"min": 8.0, "max": 10.0},
            "memory" : "58gb",
            "storage" : "2tb",
            "node_version" : "{version}"
        }
    ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2197.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="get-desired-nodes"></a>Get desired nodes API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-desired-nodes.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by <a href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service</a>, <a href="https://www.elastic.co/guide/en/cloud-enterprise/current" class="ulink" target="_top">Elastic Cloud Enterprise</a>, and <a href="https://www.elastic.co/guide/en/cloud-on-k8s/current" class="ulink" target="_top">Elastic Cloud on Kubernetes</a>. Direct use is not supported.</p>
</div>
</div>
<p>Get desired nodes.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-desired-nodes-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_internal/desired_nodes/_latest</pre>
</div>
<div class="console_widget" data-snippet="snippets/2198.console"></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-desired-nodes-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<p>This API gets the latest desired nodes.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-desired-nodes-examples"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<p>This example gets the latest desired nodes.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_internal/desired_nodes/_latest</pre>
</div>
<div class="console_widget" data-snippet="snippets/2199.console"></div>
<p>The API returns the following result:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
    "history_id": &lt;history_id&gt;,
    "version": &lt;version&gt;,
    "nodes": [
        {
            "settings": &lt;node_settings&gt;,
            "processors": &lt;node_processors&gt;,
            "memory": "&lt;node_memory&gt;",
            "storage": "&lt;node_storage&gt;",
            "node_version": "&lt;node_version&gt;"
        }
    ]
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="delete-desired-nodes"></a>Delete desired nodes API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/delete-desired-nodes.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by <a href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service</a>, <a href="https://www.elastic.co/guide/en/cloud-enterprise/current" class="ulink" target="_top">Elastic Cloud Enterprise</a>, and <a href="https://www.elastic.co/guide/en/cloud-on-k8s/current" class="ulink" target="_top">Elastic Cloud on Kubernetes</a>. Direct use is not supported.</p>
</div>
</div>
<p>Delete desired nodes.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-desired-nodes-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/delete-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">DELETE /_internal/desired_nodes</pre>
</div>
<div class="console_widget" data-snippet="snippets/2200.console"></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-desired-nodes-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/delete-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<p>This API deletes the desired nodes.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-desired-nodes-examples"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/delete-desired-nodes.asciidoc">edit</a></h3>
</div></div></div>
<p>This example deletes the current desired nodes.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">DELETE /_internal/desired_nodes</pre>
</div>
<div class="console_widget" data-snippet="snippets/2201.console"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="get-desired-balance"></a>Get desired balance API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-desired-balance.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by <a href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service</a>, <a href="https://www.elastic.co/guide/en/cloud-enterprise/current" class="ulink" target="_top">Elastic Cloud Enterprise</a>, and <a href="https://www.elastic.co/guide/en/cloud-on-k8s/current" class="ulink" target="_top">Elastic Cloud on Kubernetes</a>. Direct use is not supported.</p>
</div>
</div>
<p>Exposes the desired balance and basic metrics.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-desired-balance-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/get-desired-balance.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_internal/desired_balance</pre>
</div>
<div class="console_widget" data-snippet="snippets/2202.console"></div>
<p>The API returns the following result:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "stats": {
    "computation_active": false,
    "computation_submitted": 5,
    "computation_executed": 5,
    "computation_converged": 5,
    "computation_iterations": 4,
    "computation_converged_index": 4,
    "computation_time_in_millis": 0,
    "reconciliation_time_in_millis": 0
  },
  "cluster_balance_stats" : {
    "tiers": {
      "data_hot" : {
        "shard_count" : {
          "total" : 7.0,
          "min" : 2.0,
          "max" : 3.0,
          "average" : 2.3333333333333335,
          "std_dev" : 0.4714045207910317
        },
        "forecast_write_load" : {
          "total" : 21.0,
          "min" : 6.0,
          "max" : 8.5,
          "average" : 7.0,
          "std_dev" : 1.0801234497346435
        },
        "forecast_disk_usage" : {
          "total" : 36.0,
          "min" : 10.0,
          "max" : 16.0,
          "average" : 12.0,
          "std_dev" : 2.8284271247461903
        },
        "actual_disk_usage" : {
          "total" : 36.0,
          "min" : 10.0,
          "max" : 16.0,
          "average" : 12.0,
          "std_dev" : 2.8284271247461903
        }
      },
      "data_warm" : {
        "shard_count" : {
          "total" : 3.0,
          "min" : 1.0,
          "max" : 1.0,
          "average" : 1.0,
          "std_dev" : 0.0
        },
        "forecast_write_load" : {
          "total" : 0.0,
          "min" : 0.0,
          "max" : 0.0,
          "average" : 0.0,
          "std_dev" : 0.0
        },
        "forecast_disk_usage" : {
          "total" : 42.0,
          "min" : 12.0,
          "max" : 18.0,
          "average" : 14.0,
          "std_dev" : 2.8284271247461903
        },
        "actual_disk_usage" : {
          "total" : 42.0,
          "min" : 12.0,
          "max" : 18.0,
          "average" : 14.0,
          "std_dev" : 2.8284271247461903
        }
      }
    },
    "nodes": {
      "node-1": {
        "node_id": "UPYt8VwWTt-IADAEbqpLxA",
        "roles": ["data_content"],
        "shard_count": 10,
        "forecast_write_load": 8.5,
        "forecast_disk_usage_bytes": 498435,
        "actual_disk_usage_bytes": 498435
      },
      "node-2": {
        "node_id": "bgC66tboTIeFQ0VgRGI4Gg",
        "roles": ["data_content"],
        "shard_count": 15,
        "forecast_write_load": 3.25,
        "forecast_disk_usage_bytes": 384935,
        "actual_disk_usage_bytes": 384935
      },
      "node-3": {
        "node_id": "2x1VTuSOQdeguXPdN73yRw",
        "roles": ["data_content"],
        "shard_count": 12,
        "forecast_write_load": 6.0,
        "forecast_disk_usage_bytes": 648766,
        "actual_disk_usage_bytes": 648766
      }
    }
  },
  "routing_table": {
    "test": {
      "0": {
        "current": [
          {
            "state": "STARTED",
            "primary": true,
            "node": "UPYt8VwWTt-IADAEbqpLxA",
            "node_is_desired": true,
            "relocating_node": null,
            "relocating_node_is_desired": null,
            "shard_id": 0,
            "index": "test",
            "forecast_write_load": 8.0,
            "forecast_shard_size_in_bytes": 1024,
            "tier_preference": ["data_content"]
          }
        ],
        "desired": {
          "node_ids": [
            "UPYt8VwWTt-IADAEbqpLxA"
          ],
          "total": 1,
          "unassigned": 0,
          "ignored": 0
        }
      },
      "1": {
        "current": [
          {
            "state": "STARTED",
            "primary": true,
            "node": "2x1VTuSOQdeguXPdN73yRw",
            "node_is_desired": true,
            "relocating_node": null,
            "relocating_node_is_desired": false,
            "shard_id": 1,
            "index": "test",
            "forecast_write_load": null,
            "forecast_shard_size_in_bytes": null,
            "tier_preference": ["data_content"]
          }
        ],
        "desired": {
          "node_ids": [
            "2x1VTuSOQdeguXPdN73yRw"
          ],
          "total": 1,
          "unassigned": 0,
          "ignored": 0
        }
      }
    }
  },
  "cluster_info" : {
      "nodes" : {
        "UPYt8VwWTt-IADAEbqpLxA" : {
          "node_name" : "node-1",
          "least_available" : {
            "path" : "/data",
            "total_bytes" : 1440713945,
            "used_bytes" : 1222486407,
            "free_bytes" : 218227538,
            "free_disk_percent" : 15.1,
            "used_disk_percent" : 84.9
          },
          "most_available" : {
            "path" : "/data",
            "total_bytes" : 1440713945,
            "used_bytes" : 1222486407,
            "free_bytes" : 218227538,
            "free_disk_percent" : 15.1,
            "used_disk_percent" : 84.9
          }
        }
      },
      "shard_sizes" : {
        "[test][0][p]_bytes" : 1720826288,
        "[test][1][p]_bytes" : 1720826288
      },
      "shard_data_set_sizes" : {
        "[test][0][p]_bytes" : 1720826288,
        "[test][1][p]_bytes" : 1720826288
      },
      "shard_paths" : {
        "NodeAndShard[nodeId=UPYt8VwWTt-IADAEbqpLxA, shardId=[test][0]]" : "/data",
        "NodeAndShard[nodeId=bgC66tboTIeFQ0VgRGI4Gg, shardId=[test][0]]" : "/data"
      },
      "reserved_sizes" : []
  }
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="delete-desired-balance"></a>Delete/reset desired balance API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/delete-desired-balance.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by <a href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service</a>, <a href="https://www.elastic.co/guide/en/cloud-enterprise/current" class="ulink" target="_top">Elastic Cloud Enterprise</a>, and <a href="https://www.elastic.co/guide/en/cloud-on-k8s/current" class="ulink" target="_top">Elastic Cloud on Kubernetes</a>. Direct use is not supported.</p>
</div>
</div>
<p>Exposes the desired balance and basic metrics.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-desired-balance-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.9/docs/reference/cluster/delete-desired-balance.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">DELETE /_internal/desired_balance</pre>
</div>
<div class="console_widget" data-snippet="snippets/2203.console"></div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="cat.html">« Compact and aligned text (CAT) APIs</a>
</span>
<span class="next">
<a href="ccr-apis.html">Cross-cluster replication APIs »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
