<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Transform APIs | Elasticsearch Guide | Elastic</title>
<meta class="elastic" name="content" content="Transform APIs | Elasticsearch Guide">

<link rel="home" href="index.html" title="Elasticsearch Guide"/>
<link rel="up" href="rest-apis.html" title="REST APIs"/>
<link rel="prev" href="snapshot-lifecycle-management-api.html" title="Snapshot lifecycle management APIs"/>
<link rel="next" href="usage-api.html" title="Usage API"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="snapshot-lifecycle-management-api.html">« Snapshot lifecycle management APIs</a>
</span>
<span class="next">
<a href="usage-api.html">Usage API »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="transform-apis"></a>Transform APIs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/transform-apis.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="transform-apis.html#put-transform" title="Create transform API">Create transform</a>
</li>
<li class="listitem">
<a class="xref" href="transform-apis.html#delete-transform" title="Delete transform API">Delete transform</a>
</li>
<li class="listitem">
<a class="xref" href="transform-apis.html#get-transform" title="Get transforms API">Get transforms</a>
</li>
<li class="listitem">
<a class="xref" href="transform-apis.html#get-transform-stats" title="Get transform statistics API">Get transform statistics</a>
</li>
<li class="listitem">
<a class="xref" href="transform-apis.html#preview-transform" title="Preview transform API">Preview transform</a>
</li>
<li class="listitem">
<a class="xref" href="transform-apis.html#start-transform" title="Start transform API">Start transform</a>
</li>
<li class="listitem">
<a class="xref" href="transform-apis.html#stop-transform" title="Stop transforms API">Stop transforms</a>
</li>
<li class="listitem">
<a class="xref" href="transform-apis.html#update-transform" title="Update transform API">Update transform</a>
</li>
</ul>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="put-transform"></a>Create transform API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/put-transform.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Instantiates a transform.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="put-transform-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/put-transform.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">PUT _transform/&lt;transform_id&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="put-transform-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/put-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>If the Elasticsearch security features are enabled, you must have the following
built-in roles and privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">transform_admin</code>
</li>
<li class="listitem">
source index: <code class="literal">read</code>, <code class="literal">view_index_metadata</code>
</li>
<li class="listitem">
destination index: <code class="literal">read</code>, <code class="literal">create_index</code>, <code class="literal">manage</code> and <code class="literal">index</code>
</li>
</ul>
</div>
<p>For more information, see <a class="xref" href="authorization.html#built-in-roles" title="Built-in roles">Built-in roles</a>, <a class="xref" href="authorization.html#security-privileges" title="Security privileges">Security privileges</a>, and
<a href="https://www.elastic.co/guide/en/machine-learning/7.10/setup.html#setup-privileges" class="ulink" target="_top">Machine learning security privileges</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="put-transform-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/put-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>This API defines a transform, which copies data from source indices,
transforms it, and persists it into an entity-centric destination index. The
entities are defined by the set of <code class="literal">group_by</code> fields in the <code class="literal">pivot</code> object. You
can also think of the destination index as a two-dimensional tabular data
structure (known as a data frame). The ID for each document in the
data frame is generated from a hash of the entity, so there is a unique row
per entity. For more information, see <a class="xref" href="transforms.html" title="Transforming data"><em>Transforming data</em></a>.</p>
<p>When the transform is created, a series of validations occur to
ensure its success. For example, there is a check for the existence of the
source indices and a check that the destination index is not part of the source
index pattern. You can use the <code class="literal">defer_validation</code> parameter to skip these
checks.</p>
<p>Deferred validations are always run when the transform is started,
with the exception of privilege checks. When Elasticsearch security features are
enabled, the transform remembers which roles the user that created
it had at the time of creation and uses those same roles. If those roles do not
have the required privileges on the source and destination indices, the
transform fails when it attempts unauthorized operations.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must use Kibana or this API to create a transform.
            Do not put a transform directly into any
            <code class="literal">.transform-internal*</code> indices using the Elasticsearch index API.
            If Elasticsearch security features are enabled, do not give users any
            privileges on <code class="literal">.transform-internal*</code> indices. If you used transforms
            prior 7.5, also do not give users any privileges on
            <code class="literal">.data-frame-internal*</code> indices.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="put-transform-path-parms"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/put-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Required, string)
Identifier for the transform. This identifier can contain lowercase
alphanumeric characters (a-z and 0-9), hyphens, and underscores. It must start
and end with alphanumeric characters.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="put-transform-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/put-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">defer_validation</code>
</span>
</dt>
<dd>
(Optional, Boolean) When <code class="literal">true</code>, deferrable validations are not run. This
behavior may be desired if the source index does not exist until after the
transform is created.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="put-transform-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/put-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
(Optional, string) Free text description of the transform.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">dest</code>
</span>
</dt>
<dd>
<p>
(Required, object)
The destination for the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">dest</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Required, string)
The <em>destination index</em> for the transform. The mappings of the destination
index are deduced based on the source fields when possible. If alternate
mappings are required, use the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html" class="ulink" target="_top">Create index API</a>
prior to starting the transform.
</dd>
<dt>
<span class="term">
<code class="literal">pipeline</code>
</span>
</dt>
<dd>
(Optional, string)
The unique identifier for a <a class="xref" href="pipeline.html" title="Pipeline Definition">pipeline</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">frequency</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
The interval between checks for changes in the source indices when the
transform is running continuously. Also determines the retry interval in the
event of transient failures while the transform is searching or indexing. The
minimum value is <code class="literal">1s</code> and the maximum is <code class="literal">1h</code>. The default value is <code class="literal">1m</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">pivot</code>
</span>
</dt>
<dd>
<p>
(Required, object)
The method for transforming the data. These objects define the pivot function
<code class="literal">group by</code> fields and the aggregation to reduce the data.
</p>
<details open>
<summary class="title">Properties of <code class="literal">pivot</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">aggregations</code> or <code class="literal">aggs</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Defines how to aggregate the grouped data. The following aggregations are
currently supported:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-avg-aggregation" title="Avg aggregation">Average</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-pipeline.html#search-aggregations-pipeline-bucket-script-aggregation" title="Bucket script aggregation">Bucket script</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-pipeline.html#search-aggregations-pipeline-bucket-selector-aggregation" title="Bucket selector aggregation">Bucket selector</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-cardinality-aggregation" title="Cardinality aggregation">Cardinality</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#search-aggregations-bucket-filter-aggregation" title="Filter aggregation">Filter</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-geobounds-aggregation" title="Geo-bounds aggregation">Geo bounds</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-geocentroid-aggregation" title="Geo-centroid aggregation">Geo centroid</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-max-aggregation" title="Max aggregation">Max</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-min-aggregation" title="Min aggregation">Min</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-percentile-aggregation" title="Percentiles aggregation">Percentiles</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#search-aggregations-bucket-rare-terms-aggregation" title="Rare terms aggregation">Rare Terms</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-scripted-metric-aggregation" title="Scripted metric aggregation">Scripted metric</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-sum-aggregation" title="Sum aggregation">Sum</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#search-aggregations-bucket-terms-aggregation" title="Terms aggregation">Terms</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-valuecount-aggregation" title="Value count aggregation">Value count</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-weight-avg-aggregation" title="Weighted avg aggregation">Weighted average</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">group_by</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Defines how to group the data. More than one grouping can be defined per pivot.
The following groupings are currently supported:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#_date_histogram" title="Date histogram">Date histogram</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#_geotile_grid" title="GeoTile grid">Geotile Grid</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#_histogram" title="Histogram">Histogram</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#_terms" title="Terms">Terms</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">max_page_search_size</code>
</span>
</dt>
<dd>
(Optional, integer)
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">7.8.0</span>]
<span class="Admonishment-detail">
Deprecated in 7.8.0. Moved to <code class="literal">settings</code>.
</span>
</span>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">settings</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines optional transform settings.
</p>
<details open>
<summary class="title">Properties of <code class="literal">settings</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">docs_per_second</code>
</span>
</dt>
<dd>
(Optional, float)
Specifies a limit on the number of input documents per second. This setting
throttles the transform by adding a wait time between search requests. The
default value is <code class="literal">null</code>, which disables throttling.
</dd>
<dt>
<span class="term">
<code class="literal">max_page_search_size</code>
</span>
</dt>
<dd>
(Optional, integer)
Defines the initial page size to use for the composite aggregation for each
checkpoint. If circuit breaker exceptions occur, the page size is dynamically
adjusted to a lower value. The minimum value is <code class="literal">10</code> and the maximum is <code class="literal">10,000</code>.
The default value is <code class="literal">500</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">source</code>
</span>
</dt>
<dd>
<p>
(Required, object)
The source of the data for the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">source</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Required, string or array)
The <em>source indices</em> for the transform. It can be a single index, an index
pattern (for example, <code class="literal">"my-index-*"</code>), an array of indices (for example,
<code class="literal">["my-index-000001", "my-index-000002"]</code>), or an array of index patterns (for example,
<code class="literal">["my-index-*", "my-other-index-*"]</code>.
</dd>
<dt>
<span class="term">
<code class="literal">query</code>
</span>
</dt>
<dd>
(Optional, object)
A query clause that retrieves a subset of data from the source index. See
<a class="xref" href="query-dsl.html" title="Query DSL">Query DSL</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">sync</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines the properties transforms require to run continuously.
</p>
<details open>
<summary class="title">Properties of <code class="literal">sync</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Specifies that the transform uses a time field to synchronize the source and
destination indices.
</p>
<details open>
<summary class="title">Properties of <code class="literal">time</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">delay</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
The time delay between the current time and the latest input data time. The
default value is <code class="literal">60s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">field</code>
</span>
</dt>
<dd>
<p>
(Required, string)
The date field that is used to identify new documents in the source.
</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>In general, it’s a good idea to use a field that contains the
<a class="xref" href="accessing-data-in-pipelines.html#accessing-ingest-metadata" title="Accessing Ingest Metadata Fields">ingest timestamp</a>. If you use a different field,
you might need to set the <code class="literal">delay</code> such that it accounts for data transmission
delays.</p>
</div>
</div>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="put-transform-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/put-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT _transform/ecommerce_transform
{
  "source": {
    "index": "kibana_sample_data_ecommerce",
    "query": {
      "term": {
        "geoip.continent_name": {
          "value": "Asia"
        }
      }
    }
  },
  "pivot": {
    "group_by": {
      "customer_id": {
        "terms": {
          "field": "customer_id"
        }
      }
    },
    "aggregations": {
      "max_price": {
        "max": {
          "field": "taxful_total_price"
        }
      }
    }
  },
  "description": "Maximum priced ecommerce data by customer_id in Asia",
  "dest": {
    "index": "kibana_sample_data_ecommerce_transform",
    "pipeline": "add_timestamp_pipeline"
  },
  "frequency": "5m",
  "sync": {
    "time": {
      "field": "order_date",
      "delay": "60s"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2342.console"></div>
<p>When the transform is created, you receive the following results:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "acknowledged" : true
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="delete-transform"></a>Delete transform API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/delete-transform.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Deletes an existing transform.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-transform-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/delete-transform.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">DELETE _transform/&lt;transform_id&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-transform-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/delete-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Before you can delete the transform, you must stop it.
</li>
</ul>
</div>
<p>If the Elasticsearch security features are enabled, you must have the following
privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">manage_transform</code>
</li>
</ul>
</div>
<p>The built-in <code class="literal">transform_admin</code> role has this privilege.</p>
<p>For more information, see <a class="xref" href="authorization.html#security-privileges" title="Security privileges">Security privileges</a> and <a class="xref" href="authorization.html#built-in-roles" title="Built-in roles">Built-in roles</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-transform-path-parms"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/delete-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Required, string)
Identifier for the transform. This identifier can contain lowercase
alphanumeric characters (a-z and 0-9), hyphens, and underscores. It must start
and end with alphanumeric characters.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-transform-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/delete-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">force</code>
</span>
</dt>
<dd>
(Optional, Boolean) When <code class="literal">true</code>, the transform is deleted regardless of its
current state. The default value is <code class="literal">false</code>, meaning that the transform must be
<code class="literal">stopped</code> before it can be deleted.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-transform-examples"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/delete-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">DELETE _transform/ecommerce_transform</pre>
</div>
<div class="console_widget" data-snippet="snippets/2343.console"></div>
<p>When the transform is deleted, you receive the following results:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "acknowledged" : true
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="get-transform"></a>Get transforms API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Retrieves configuration information for transforms.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET _transform/&lt;transform_id&gt;</code><br></p>
<p><code class="literal">GET _transform/&lt;transform_id&gt;,&lt;transform_id&gt;</code><br></p>
<p><code class="literal">GET _transform/</code><br></p>
<p><code class="literal">GET _transform/_all</code><br></p>
<p><code class="literal">GET _transform/*</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>If the Elasticsearch security features are enabled, you must have the following
privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">monitor_transform</code>
</li>
</ul>
</div>
<p>The built-in <code class="literal">transform_user</code> role has this privilege.</p>
<p>For more information, see <a class="xref" href="authorization.html#security-privileges" title="Security privileges">Security privileges</a> and <a class="xref" href="authorization.html#built-in-roles" title="Built-in roles">Built-in roles</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>You can get information for multiple transforms in a single API
request by using a comma-separated list of identifiers or a wildcard expression.
You can get information for all transforms by using <code class="literal">_all</code>, by
specifying <code class="literal">*</code> as the <code class="literal">&lt;transform_id&gt;</code>, or by omitting the <code class="literal">&lt;transform_id&gt;</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-path-parms"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string)
Identifier for the transform. It can be a transform identifier or a wildcard
expression. If you do not specify one of these options, the API returns
information for all transforms.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_match</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
Specifies what to do when the request:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Contains wildcard expressions and there are no transforms that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>The default value is <code class="literal">true</code>, which returns an empty <code class="literal">transforms</code> array when
there are no matches and the subset of results when there are partial matches.</p>
<p>If this parameter is <code class="literal">false</code>, the request returns a <code class="literal">404</code> status code when there
are no matches or only partial matches.</p>
</dd>
<dt>
<span class="term">
<code class="literal">from</code>
</span>
</dt>
<dd>
(Optional, integer)
Skips the specified number of transforms. The default value is <code class="literal">0</code>.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(Optional, integer)
Specifies the maximum number of transforms to obtain. The default value is
<code class="literal">100</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-response"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>The API returns an array of transform resources, which are sorted by the <code class="literal">id</code>
value in ascending order. For the full list of properties, see
<a class="xref" href="transform-apis.html#put-transform-request-body" title="Request body">Create transform API</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">create_time</code>
</span>
</dt>
<dd>
(string) The time the transform was created. For example, <code class="literal">1576094542936</code>.
This property is informational; you cannot change its value.
</dd>
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
(string) The version of Elasticsearch that existed on the node when the transform was
created.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-response-codes"></a>Response codes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
If <code class="literal">allow_no_match</code> is <code class="literal">false</code>, this code indicates that there are no
resources that match the request or only partial matches for the request.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example retrieves information about a maximum of ten transforms:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _transform?size=10</pre>
</div>
<div class="console_widget" data-snippet="snippets/2344.console"></div>
<p>The following example gets configuration information for the
<code class="literal">ecommerce_transform</code> transform:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _transform/ecommerce_transform</pre>
</div>
<div class="console_widget" data-snippet="snippets/2345.console"></div>
<p>The API returns the following results:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "count" : 1,
  "transforms" : [
    {
      "id" : "ecommerce_transform",
      "source" : {
        "index" : [
          "kibana_sample_data_ecommerce"
        ],
        "query" : {
          "term" : {
            "geoip.continent_name" : {
              "value" : "Asia"
            }
          }
        }
      },
      "dest" : {
        "index" : "kibana_sample_data_ecommerce_transform"
      },
      "frequency": "1m",
      "pivot" : {
        "group_by" : {
          "customer_id" : {
            "terms" : {
              "field" : "customer_id"
            }
          }
        },
        "aggregations" : {
          "max_price" : {
            "max" : {
              "field" : "taxful_total_price"
            }
          }
        }
      },
      "description" : "Maximum priced ecommerce data by customer_id in Asia",
      "settings" : { },
      "version" : "7.5.0",
      "create_time" : 1576094542936
    }
  ]
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="get-transform-stats"></a>Get transform statistics API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Retrieves usage information for transforms.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET _transform/&lt;transform_id&gt;/_stats</code></p>
<p><code class="literal">GET _transform/&lt;transform_id&gt;,&lt;transform_id&gt;/_stats</code><br></p>
<p><code class="literal">GET _transform/_stats</code><br></p>
<p><code class="literal">GET _transform/_all/_stats</code><br></p>
<p><code class="literal">GET _transform/*/_stats</code><br></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p>If the Elasticsearch security features are enabled, you must have the following
privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">monitor_transform</code>
</li>
</ul>
</div>
<p>The built-in <code class="literal">transform_user</code> role has this privilege.</p>
<p>For more information, see <a class="xref" href="authorization.html#security-privileges" title="Security privileges">Security privileges</a> and <a class="xref" href="authorization.html#built-in-roles" title="Built-in roles">Built-in roles</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p>You can get statistics for multiple transforms in a single API
request by using a comma-separated list of identifiers or a wildcard expression.
You can get statistics for all transforms by using <code class="literal">_all</code>, by
specifying <code class="literal">*</code> as the <code class="literal">&lt;transform_id&gt;</code>, or by omitting the
<code class="literal">&lt;transform_id&gt;</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-path-parms"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string)
Identifier for the transform. It can be a transform identifier or a wildcard
expression. If you do not specify one of these options, the API returns
information for all transforms.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_match</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
Specifies what to do when the request:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Contains wildcard expressions and there are no transforms that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>The default value is <code class="literal">true</code>, which returns an empty <code class="literal">transforms</code> array when
there are no matches and the subset of results when there are partial matches.</p>
<p>If this parameter is <code class="literal">false</code>, the request returns a <code class="literal">404</code> status code when there
are no matches or only partial matches.</p>
</dd>
<dt>
<span class="term">
<code class="literal">from</code>
</span>
</dt>
<dd>
(Optional, integer)
Skips the specified number of transforms. The default value is <code class="literal">0</code>.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(Optional, integer)
Specifies the maximum number of transforms to obtain. The default value is
<code class="literal">100</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-response"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p>The API returns an array of statistics objects for transforms, which are
sorted by the <code class="literal">id</code> value in ascending order. All of these properties are
informational; you cannot update their values.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">checkpointing</code>
</span>
</dt>
<dd>
<p>
(object) Contains statistics about <a class="xref" href="transforms.html#transform-checkpoints" title="How transform checkpoints work">checkpoints</a>.
</p>
<details open>
<summary class="title">Properties of <code class="literal">checkpointing</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">changes_last_detected_at</code>
</span>
</dt>
<dd>
(date)
The timestamp when changes were last detected in the source indices.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">last</code>
</span>
</dt>
<dd>
<p>
(object) Contains statistics about the last completed checkpoint.
</p>
<details open>
<summary class="title">Properties of <code class="literal">last</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">checkpoint</code>
</span>
</dt>
<dd>
(integer) The sequence number for the checkpoint.
</dd>
<dt>
<span class="term">
<code class="literal">time_upper_bound_millis</code>
</span>
</dt>
<dd>
(date) When using time-based synchronization, this timestamp indicates the
upper bound of data that is included in the checkpoint.
</dd>
<dt>
<span class="term">
<code class="literal">timestamp_millis</code>
</span>
</dt>
<dd>
(date) The timestamp of the checkpoint, which indicates when the checkpoint
was created.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">next</code>
</span>
</dt>
<dd>
<p>
(object) Contains statistics about the next checkpoint that is currently in
progress. This object appears only when the transform <code class="literal">state</code> is <code class="literal">indexing</code>.
</p>
<details open>
<summary class="title">Properties of <code class="literal">next</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">checkpoint</code>
</span>
</dt>
<dd>
(integer) The sequence number for the checkpoint.
</dd>
<dt>
<span class="term">
<code class="literal">checkpoint_progress</code>
</span>
</dt>
<dd>
(object) Contains statistics about the progress of the checkpoint. For example,
it lists the <code class="literal">total_docs</code>, <code class="literal">docs_remaining</code>, <code class="literal">percent_complete</code>,
<code class="literal">docs_processed</code>, and <code class="literal">docs_indexed</code>. This information is available only for
batch transforms and the first checkpoint of continuous transforms.
</dd>
<dt>
<span class="term">
<code class="literal">time_upper_bound_millis</code>
</span>
</dt>
<dd>
(date) When using time-based synchronization, this timestamp indicates the
upper bound of data that is included in the checkpoint.
</dd>
<dt>
<span class="term">
<code class="literal">timestamp_millis</code>
</span>
</dt>
<dd>
(date) The timestamp of the checkpoint, which indicates when the checkpoint was
created.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">operations_behind</code>
</span>
</dt>
<dd>
(integer) The number of operations that have occurred on the source index but
have not been applied to the destination index yet. A high number can indicate
that the transform is failing to keep up.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(string)
Identifier for the transform. This identifier can contain lowercase
alphanumeric characters (a-z and 0-9), hyphens, and underscores. It must start
and end with alphanumeric characters.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node</code>
</span>
</dt>
<dd>
<p>
(object) For started transforms only, the node upon which the transform is
started.
</p>
<details open>
<summary class="title">Properties of <code class="literal">node</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">attributes</code>
</span>
</dt>
<dd>
(object) A list of attributes for the node.
</dd>
<dt>
<span class="term">
<code class="literal">ephemeral_id</code>
</span>
</dt>
<dd>
(string) The node ephemeral ID.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(string) The unique identifier of the node. For example, "0-o0tOoRTwKFZifatTWKNw".
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string) The node name. For example, <code class="literal">0-o0tOo</code>.
</dd>
<dt>
<span class="term">
<code class="literal">transport_address</code>
</span>
</dt>
<dd>
(string) The host and port where transport HTTP connections are accepted. For
example, <code class="literal">127.0.0.1:9300</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">reason</code>
</span>
</dt>
<dd>
(string)
If a transform has a <code class="literal">failed</code> state, this property provides details about the
reason for the failure.
</dd>
<dt>
<span class="term">
<code class="literal">state</code>
</span>
</dt>
<dd>
<p>
(string)
The status of the transform, which can be one of the following values:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">aborting</code>: The transform is aborting.
</li>
<li class="listitem">
<code class="literal">failed</code>: The transform failed. For more information about the failure,
check the reason field.
</li>
<li class="listitem">
<code class="literal">indexing</code>: The transform is actively processing data and creating new
documents.
</li>
<li class="listitem">
<code class="literal">started</code>: The transform is running but not actively indexing data.
</li>
<li class="listitem">
<code class="literal">stopped</code>: The transform is stopped.
</li>
<li class="listitem">
<code class="literal">stopping</code>: The transform is stopping.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">stats</code>
</span>
</dt>
<dd>
<p>
(object) An object that provides statistical information about the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">stats</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">documents_indexed</code>
</span>
</dt>
<dd>
(long)
The number of documents that have been indexed into the destination index
for the transform.
</dd>
<dt>
<span class="term">
<code class="literal">documents_processed</code>
</span>
</dt>
<dd>
(long)
The number of documents that have been processed from the source index of
the transform.
</dd>
<dt>
<span class="term">
<code class="literal">exponential_avg_checkpoint_duration_ms</code>
</span>
</dt>
<dd>
(double)
Exponential moving average of the duration of the checkpoint, in milliseconds.
</dd>
<dt>
<span class="term">
<code class="literal">exponential_avg_documents_indexed</code>
</span>
</dt>
<dd>
(double)
Exponential moving average of the number of new documents that have been
indexed.
</dd>
<dt>
<span class="term">
<code class="literal">exponential_avg_documents_processed</code>
</span>
</dt>
<dd>
(double)
Exponential moving average of the number of documents that have been
processed.
</dd>
<dt>
<span class="term">
<code class="literal">index_failures</code>
</span>
</dt>
<dd>
(long)
The number of indexing failures.
</dd>
<dt>
<span class="term">
<code class="literal">index_time_in_ms</code>
</span>
</dt>
<dd>
(long)
The amount of time spent indexing, in milliseconds.
</dd>
<dt>
<span class="term">
<code class="literal">index_total</code>
</span>
</dt>
<dd>
(long)
The number of indices created.
</dd>
<dt>
<span class="term">
<code class="literal">pages_processed</code>
</span>
</dt>
<dd>
(long)
The number of search or bulk index operations processed. Documents are
processed in batches instead of individually.
</dd>
<dt>
<span class="term">
<code class="literal">processing_time_in_ms</code>
</span>
</dt>
<dd>
(long)
The amount of time spent processing results, in milliseconds.
</dd>
<dt>
<span class="term">
<code class="literal">processing_total</code>
</span>
</dt>
<dd>
(long)
The number of processing operations.
</dd>
<dt>
<span class="term">
<code class="literal">search_failures</code>
</span>
</dt>
<dd>
(long)
The number of search failures.
</dd>
<dt>
<span class="term">
<code class="literal">search_time_in_ms</code>
</span>
</dt>
<dd>
(long)
The amount of time spent searching, in milliseconds.
</dd>
<dt>
<span class="term">
<code class="literal">search_total</code>
</span>
</dt>
<dd>
(long)
The number of search operations on the source index for the transform.
</dd>
<dt>
<span class="term">
<code class="literal">trigger_count</code>
</span>
</dt>
<dd>
(long)
The number of times the transform has been triggered by the scheduler. For
example, the scheduler triggers the transform indexer to check for updates
or ingest new data at an interval specified in the
<a class="xref" href="transform-apis.html#put-transform-request-body" title="Request body"><code class="literal">frequency</code> property</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-response-codes"></a>Response codes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
If <code class="literal">allow_no_match</code> is <code class="literal">false</code>, this code indicates that there are no
resources that match the request or only partial matches for the request.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example skips for the first five transforms and
gets usage information for a maximum of ten results:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _transform/_stats?from=5&amp;size=10</pre>
</div>
<div class="console_widget" data-snippet="snippets/2346.console"></div>
<p>The following example gets usage information for the transform:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _transform/ecommerce-customer-transform/_stats</pre>
</div>
<div class="console_widget" data-snippet="snippets/2347.console"></div>
<p>The API returns the following results:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "count" : 1,
  "transforms" : [
    {
      "id" : "ecommerce-customer-transform",
      "state" : "started",
      "node" : {
        "id" : "cpTIGMsVQ8Gqwqlxxxxxxx",
        "name" : "my.home",
        "ephemeral_id" : "5-L21nFsQxxxxxxxxxx-xx",
        "transport_address" : "127.0.0.1:9300",
        "attributes" : { }
      },
      "stats" : {
        "pages_processed" : 78,
        "documents_processed" : 6027,
        "documents_indexed" : 68,
        "trigger_count" : 168,
        "index_time_in_ms" : 412,
        "index_total" : 20,
        "index_failures" : 0,
        "search_time_in_ms" : 353,
        "search_total" : 78,
        "search_failures" : 0,
        "processing_time_in_ms" : 8,
        "processing_total" : 78,
        "exponential_avg_checkpoint_duration_ms" : 97.30637923893185,
        "exponential_avg_documents_indexed" : 2.2064915040974062,
        "exponential_avg_documents_processed" : 179.89419945785045
      },
      "checkpointing" : {
        "last" : {
          "checkpoint" : 20,
          "timestamp_millis" : 1585344558220,
          "time_upper_bound_millis" : 1585344498220
        },
        "changes_last_detected_at" : 1585344558219
      }
    }
  ]
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="preview-transform"></a>Preview transform API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/preview-transform.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Previews a transform.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="preview-transform-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/preview-transform.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST _transform/_preview</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="preview-transform-prereq"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/preview-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>If the Elasticsearch security features are enabled, you must have the following
privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">manage_transform</code>
</li>
<li class="listitem">
source index: <code class="literal">read</code>, <code class="literal">view_index_metadata</code>
</li>
</ul>
</div>
<p>The built-in <code class="literal">transform_admin</code> role has the <code class="literal">manage_transform</code> privilege.</p>
<p>For more information, see <a class="xref" href="authorization.html#security-privileges" title="Security privileges">Security privileges</a> and <a class="xref" href="authorization.html#built-in-roles" title="Built-in roles">Built-in roles</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="preview-transform-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/preview-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>This API generates a preview of the results that you will get when you run the
<a class="xref" href="transform-apis.html#put-transform" title="Create transform API">create transforms API</a> with the same
configuration. It returns a maximum of 100 results. The calculations are based
on all the current data in the source index.</p>
<p>It also generates a list of mappings and settings for the destination index.
If the destination index does not exist when you start a transform, these are
the mappings and settings that are used. These values are determined based on
the field types of the source index and the transform aggregations.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>There are some <a class="xref" href="transforms.html#transform-aggresponse-limitations" title="Aggregation responses may be incompatible with destination index mappings">limitations</a> that
might result in poor mappings. As a work-around, create the destination index
or an index template with your preferred mappings before you start the
transform.</p>
</div>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="preview-transform-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/preview-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
(Optional, string) Free text description of the transform.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">dest</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
The destination for the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">dest</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Optional, string)
The <em>destination index</em> for the transform. The mappings of the destination
index are deduced based on the source fields when possible. If alternate
mappings are required, use the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html" class="ulink" target="_top">Create index API</a>
prior to starting the transform.
</dd>
<dt>
<span class="term">
<code class="literal">pipeline</code>
</span>
</dt>
<dd>
(Optional, string)
The unique identifier for a <a class="xref" href="pipeline.html" title="Pipeline Definition">pipeline</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">frequency</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
The interval between checks for changes in the source indices when the
transform is running continuously. Also determines the retry interval in the
event of transient failures while the transform is searching or indexing. The
minimum value is <code class="literal">1s</code> and the maximum is <code class="literal">1h</code>. The default value is <code class="literal">1m</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">pivot</code>
</span>
</dt>
<dd>
<p>
(Required, object)
The method for transforming the data. These objects define the pivot function
<code class="literal">group by</code> fields and the aggregation to reduce the data.
</p>
<details open>
<summary class="title">Properties of <code class="literal">pivot</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">aggregations</code> or <code class="literal">aggs</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Defines how to aggregate the grouped data. The following aggregations are
currently supported:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-avg-aggregation" title="Avg aggregation">Average</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-pipeline.html#search-aggregations-pipeline-bucket-script-aggregation" title="Bucket script aggregation">Bucket script</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-pipeline.html#search-aggregations-pipeline-bucket-selector-aggregation" title="Bucket selector aggregation">Bucket selector</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-cardinality-aggregation" title="Cardinality aggregation">Cardinality</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#search-aggregations-bucket-filter-aggregation" title="Filter aggregation">Filter</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-geobounds-aggregation" title="Geo-bounds aggregation">Geo bounds</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-geocentroid-aggregation" title="Geo-centroid aggregation">Geo centroid</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-max-aggregation" title="Max aggregation">Max</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-min-aggregation" title="Min aggregation">Min</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-percentile-aggregation" title="Percentiles aggregation">Percentiles</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#search-aggregations-bucket-rare-terms-aggregation" title="Rare terms aggregation">Rare Terms</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-scripted-metric-aggregation" title="Scripted metric aggregation">Scripted metric</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-sum-aggregation" title="Sum aggregation">Sum</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#search-aggregations-bucket-terms-aggregation" title="Terms aggregation">Terms</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-valuecount-aggregation" title="Value count aggregation">Value count</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-metrics.html#search-aggregations-metrics-weight-avg-aggregation" title="Weighted avg aggregation">Weighted average</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">group_by</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Defines how to group the data. More than one grouping can be defined per pivot.
The following groupings are currently supported:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#_date_histogram" title="Date histogram">Date histogram</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#_geotile_grid" title="GeoTile grid">Geotile Grid</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#_histogram" title="Histogram">Histogram</a>
</li>
<li class="listitem">
<a class="xref" href="search-aggregations-bucket.html#_terms" title="Terms">Terms</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">max_page_search_size</code>
</span>
</dt>
<dd>
(Optional, integer)
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">7.8.0</span>]
<span class="Admonishment-detail">
Deprecated in 7.8.0. Moved to <code class="literal">settings</code>.
</span>
</span>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">source</code>
</span>
</dt>
<dd>
<p>
(Required, object)
The source of the data for the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">source</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Required, string or array)
The <em>source indices</em> for the transform. It can be a single index, an index
pattern (for example, <code class="literal">"my-index-*"</code>), an array of indices (for example,
<code class="literal">["my-index-000001", "my-index-000002"]</code>), or an array of index patterns (for example,
<code class="literal">["my-index-*", "my-other-index-*"]</code>.
</dd>
<dt>
<span class="term">
<code class="literal">query</code>
</span>
</dt>
<dd>
(Optional, object)
A query clause that retrieves a subset of data from the source index. See
<a class="xref" href="query-dsl.html" title="Query DSL">Query DSL</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">sync</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines the properties transforms require to run continuously.
</p>
<details open>
<summary class="title">Properties of <code class="literal">sync</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Specifies that the transform uses a time field to synchronize the source and
destination indices.
</p>
<details open>
<summary class="title">Properties of <code class="literal">analysis_config</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">delay</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
The time delay between the current time and the latest input data time. The
default value is <code class="literal">60s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">field</code>
</span>
</dt>
<dd>
(Optional, string)
The date field that is used to identify new documents in the source.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">settings</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines optional transform settings.
</p>
<details open>
<summary class="title">Properties of <code class="literal">settings</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">docs_per_second</code>
</span>
</dt>
<dd>
(Optional, float)
Specifies a limit on the number of input documents per second. This setting
throttles the transform by adding a wait time between search requests. The
default value is <code class="literal">null</code>, which disables throttling.
</dd>
<dt>
<span class="term">
<code class="literal">max_page_search_size</code>
</span>
</dt>
<dd>
(Optional, integer)
Defines the initial page size to use for the composite aggregation for each
checkpoint. If circuit breaker exceptions occur, the page size is dynamically
adjusted to a lower value. The minimum value is <code class="literal">10</code> and the maximum is <code class="literal">10,000</code>.
The default value is <code class="literal">500</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="preview-transform-response"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/preview-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">preview</code>
</span>
</dt>
<dd>
(array) An array of documents. In particular, they are the JSON representation
of the documents that would be created in the destination index by the
transform.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">generated_dest_index</code>
</span>
</dt>
<dd>
<p>
(object) Contains details about the destination index.
</p>
<details open>
<summary class="title">Properties of <code class="literal">generated_dest_index</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">aliases</code>
</span>
</dt>
<dd>
(object) The aliases for the destination index.
</dd>
<dt>
<span class="term">
<code class="literal">mappings</code>
</span>
</dt>
<dd>
(object) The <a class="xref" href="mapping.html" title="Mapping">mappings</a> for each document in the destination index.
</dd>
<dt>
<span class="term">
<code class="literal">settings</code>
</span>
</dt>
<dd>
(object) The <a class="xref" href="index-modules.html#index-modules-settings" title="Index Settings">index settings</a> for the destination index.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_examples_20"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/preview-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _transform/_preview
{
  "source": {
    "index": "kibana_sample_data_ecommerce"
  },
  "pivot": {
    "group_by": {
      "customer_id": {
        "terms": {
          "field": "customer_id"
        }
      }
    },
    "aggregations": {
      "max_price": {
        "max": {
          "field": "taxful_total_price"
        }
      }
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2348.console"></div>
<p>The data that is returned for this example is as follows:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "preview" : [
    {
      "max_price" : 171.0,
      "customer_id" : "10"
    },
    {
      "max_price" : 233.0,
      "customer_id" : "11"
    },
    {
      "max_price" : 200.0,
      "customer_id" : "12"
    }
    ...
  ],
  "generated_dest_index" : {
    "mappings" : {
      "_meta" : {
        "_transform" : {
          "transform" : "transform-preview",
          "version" : {
            "created" : "7.7.0"
          },
          "creation_date_in_millis" : 1584738236757
        },
        "created_by" : "transform"
      },
      "properties" : {
        "max_price" : {
          "type" : "half_float"
        },
        "customer_id" : {
          "type" : "keyword"
        }
      }
    },
    "settings" : {
      "index" : {
        "number_of_shards" : "1",
        "auto_expand_replicas" : "0-1"
      }
    },
    "aliases" : { }
  }
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="start-transform"></a>Start transform API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/start-transform.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Starts one or more transforms.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="start-transform-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/start-transform.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST _transform/&lt;transform_id&gt;/_start</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="start-transform-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/start-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>If the Elasticsearch security features are enabled, you must have the following
built-in roles and privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">manage_transform</code>
</li>
<li class="listitem">
source index: <code class="literal">view_index_metadata</code>
</li>
</ul>
</div>
<p>For more information, see <a class="xref" href="authorization.html#security-privileges" title="Security privileges">Security privileges</a> and <a class="xref" href="authorization.html#built-in-roles" title="Built-in roles">Built-in roles</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="start-transform-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/start-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>When you start a transform, it creates the destination index if it
does not already exist. The <code class="literal">number_of_shards</code> is set to <code class="literal">1</code> and the
<code class="literal">auto_expand_replicas</code> is set to <code class="literal">0-1</code>.</p>
<p>The transform deduces the mapping definitions from the source indices. For
scripted fields, it uses <a class="xref" href="dynamic-mapping.html" title="Dynamic Mapping">dynamic mappings</a>. If a field in the
destination index is created by <code class="literal">scripted_metric</code> or <code class="literal">bucket_script</code>
aggregations, the transform uses dynamic mappings unless a template exists or
the destination index already exists. Mapping definitions in the destination
index take precedence over dynamic mappings and templates.</p>
<p>When the transform starts, a series of validations occur to ensure
its success. If you deferred validation when you created the
transform, they occur when you start the transform&#8212;&#8203;with the
exception of privilege checks. When Elasticsearch security features are enabled, the
transform remembers which roles the user that created it had at the
time of creation and uses those same roles. If those roles do not have the
required privileges on the source and destination indices, the
transform fails when it attempts unauthorized operations.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="start-transform-path-parms"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/start-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Required, string)
Identifier for the transform. This identifier can contain lowercase
alphanumeric characters (a-z and 0-9), hyphens, and underscores. It must start
and end with alphanumeric characters.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="start-transform-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/start-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _transform/ecommerce_transform/_start</pre>
</div>
<div class="console_widget" data-snippet="snippets/2349.console"></div>
<p>When the transform starts, you receive the following results:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "acknowledged" : true
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="stop-transform"></a>Stop transforms API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/stop-transform.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Stops one or more transforms.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stop-transform-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/stop-transform.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST _transform/&lt;transform_id&gt;/_stop</code><br></p>
<p><code class="literal">POST _transform/&lt;transform_id1&gt;,&lt;transform_id2&gt;/_stop</code><br></p>
<p><code class="literal">POST _transform/_all/_stop</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stop-transform-prereq"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/stop-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>If the Elasticsearch security features are enabled, you must have the following
built-in roles and privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">manage_transform</code>
</li>
</ul>
</div>
<p>The built-in <code class="literal">transform_admin</code> role has this privilege.</p>
<p>For more information, see <a class="xref" href="authorization.html#security-privileges" title="Security privileges">Security privileges</a> and <a class="xref" href="authorization.html#built-in-roles" title="Built-in roles">Built-in roles</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stop-transform-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/stop-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>You can stop multiple transforms in a single API request by using a
comma-separated list of transforms or a wildcard expression.
All transforms can be stopped by using <code class="literal">_all</code> or <code class="literal">*</code> as the
<code class="literal">&lt;transform_id&gt;</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stop-transform-path-parms"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/stop-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Required, string)
Identifier for the transform. This identifier can contain lowercase
alphanumeric characters (a-z and 0-9), hyphens, and underscores. It must start
and end with alphanumeric characters.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stop-transform-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/stop-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_match</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
Specifies what to do when the request:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Contains wildcard expressions and there are no transforms that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>The default value is <code class="literal">true</code>, which returns a successful acknowledgement message
when there are no matches. When there are only partial matches, the API stops
the appropriate transforms. For example, if the request contains
<code class="literal">test-id1*,test-id2*</code> as the identifiers and there are no transforms
that match <code class="literal">test-id2*</code>, the API nonetheless stops the transforms
that match <code class="literal">test-id1*</code>.</p>
<p>If this parameter is <code class="literal">false</code>, the request returns a <code class="literal">404</code> status code when there
are no matches or only partial matches.</p>
</dd>
<dt>
<span class="term">
<code class="literal">force</code>
</span>
</dt>
<dd>
(Optional, Boolean) Set to <code class="literal">true</code> to stop a failed transform or to
forcefully stop a transform that did not respond to the initial stop
request.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, time value) If <code class="literal">wait_for_completion=true</code>, the API blocks for (at
maximum) the specified duration while waiting for the transform to stop. If
more than <code class="literal">timeout</code> time has passed, the API throws a timeout exception. Even
if a timeout exception is thrown, the stop request is still processing and
eventually moves the transform to <code class="literal">STOPPED</code>. The timeout simply means the API
call itself timed out while waiting for the status change. Defaults to <code class="literal">30s</code>
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_completion</code>
</span>
</dt>
<dd>
(Optional, Boolean) If set to <code class="literal">true</code>, causes the API to block until the indexer
state completely stops. If set to <code class="literal">false</code>, the API returns immediately and the
indexer will be stopped asynchronously in the background. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_checkpoint</code>
</span>
</dt>
<dd>
(Optional, Boolean) If set to <code class="literal">true</code>, the transform will not completely stop
until the current checkpoint is completed. If set to <code class="literal">false</code>, the transform
stops as soon as possible. Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stop-transform-response-codes"></a>Response codes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/stop-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
If <code class="literal">allow_no_match</code> is <code class="literal">false</code>, this code indicates that there are no
resources that match the request or only partial matches for the request.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stop-transform-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/stop-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _transform/ecommerce_transform/_stop</pre>
</div>
<div class="console_widget" data-snippet="snippets/2350.console"></div>
<p>When the transform stops, you receive the following results:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "acknowledged" : true
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="update-transform"></a>Update transform API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/update-transform.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Updates certain properties of a transform.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST _transform/&lt;transform_id&gt;/_update</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>If the Elasticsearch security features are enabled, you must have the following
built-in roles and privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">transform_admin</code>
</li>
<li class="listitem">
<code class="literal">manage_transform</code> (the built-in <code class="literal">transform_admin</code> role has this privilege)
</li>
<li class="listitem">
source index: <code class="literal">read</code>, <code class="literal">view_index_metadata</code>
</li>
<li class="listitem">
destination index: <code class="literal">read</code>, <code class="literal">create_index</code>, <code class="literal">index</code>
</li>
</ul>
</div>
<p>For more information, see <a class="xref" href="authorization.html#security-privileges" title="Security privileges">Security privileges</a> and <a class="xref" href="authorization.html#built-in-roles" title="Built-in roles">Built-in roles</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>This API updates an existing transform. The list of properties that you can
update is a subset of the list that you can define when you create a transform.</p>
<p>When the transform is updated, a series of validations occur to ensure its
success. You can use the <code class="literal">defer_validation</code> parameter to skip these checks.</p>
<p>All updated properties except description do not take effect until after the
transform starts the next checkpoint. This is so there is consistency with the
pivoted data in each checkpoint.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When Elasticsearch security features are enabled, your transform remembers which
roles the user who updated it had at the time of update and runs with those
privileges.
</li>
<li class="listitem">
You must use Kibana or this API to update a transform. Do not update a
transform directly via <code class="literal">.transform-internal*</code> indices using the Elasticsearch index API.
If Elasticsearch security features are enabled, do not give users any privileges on
<code class="literal">.transform-internal*</code> indices. If you used transforms prior 7.5, also do not
give users any privileges on <code class="literal">.data-frame-internal*</code> indices.
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-path-parms"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Required, string)
Identifier for the transform. This identifier can contain lowercase
alphanumeric characters (a-z and 0-9), hyphens, and underscores. It must start
and end with alphanumeric characters.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">defer_validation</code>
</span>
</dt>
<dd>
(Optional, Boolean) When <code class="literal">true</code>, deferrable validations are not run. This
behavior may be desired if the source index does not exist until after the
transform is updated.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
(Optional, string) Free text description of the transform.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">dest</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
The destination for the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">dest</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Required, string)
The <em>destination index</em> for the transform. The mappings of the destination
index are deduced based on the source fields when possible. If alternate
mappings are required, use the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html" class="ulink" target="_top">Create index API</a>
prior to starting the transform.
</dd>
<dt>
<span class="term">
<code class="literal">pipeline</code>
</span>
</dt>
<dd>
(Optional, string)
The unique identifier for a <a class="xref" href="pipeline.html" title="Pipeline Definition">pipeline</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">frequency</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
The interval between checks for changes in the source indices when the
transform is running continuously. Also determines the retry interval in the
event of transient failures while the transform is searching or indexing. The
minimum value is <code class="literal">1s</code> and the maximum is <code class="literal">1h</code>. The default value is <code class="literal">1m</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">settings</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines optional transform settings.
</p>
<details open>
<summary class="title">Properties of <code class="literal">settings</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">docs_per_second</code>
</span>
</dt>
<dd>
(Optional, float)
Specifies a limit on the number of input documents per second. This setting
throttles the transform by adding a wait time between search requests. The
default value is <code class="literal">null</code>, which disables throttling.
</dd>
<dt>
<span class="term">
<code class="literal">max_page_search_size</code>
</span>
</dt>
<dd>
(Optional, integer)
Defines the initial page size to use for the composite aggregation for each
checkpoint. If circuit breaker exceptions occur, the page size is dynamically
adjusted to a lower value. The minimum value is <code class="literal">10</code> and the maximum is <code class="literal">10,000</code>.
The default value is <code class="literal">500</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">source</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
The source of the data for the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">source</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Required, string or array)
The <em>source indices</em> for the transform. It can be a single index, an index
pattern (for example, <code class="literal">"my-index-*"</code>), an array of indices (for example,
<code class="literal">["my-index-000001", "my-index-000002"]</code>), or an array of index patterns (for example,
<code class="literal">["my-index-*", "my-other-index-*"]</code>.
</dd>
<dt>
<span class="term">
<code class="literal">query</code>
</span>
</dt>
<dd>
(Optional, object)
A query clause that retrieves a subset of data from the source index. See
<a class="xref" href="query-dsl.html" title="Query DSL">Query DSL</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">sync</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines the properties transforms require to run continuously.
</p>
<details open>
<summary class="title">Properties of <code class="literal">sync</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Specifies that the transform uses a time field to synchronize the source and
destination indices.
</p>
<details open>
<summary class="title">Properties of <code class="literal">time</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">delay</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
The time delay between the current time and the latest input data time. The
default value is <code class="literal">60s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">field</code>
</span>
</dt>
<dd>
<p>
(Required, string)
The date field that is used to identify new documents in the source.
</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>In general, it’s a good idea to use a field that contains the
<a class="xref" href="accessing-data-in-pipelines.html#accessing-ingest-metadata" title="Accessing Ingest Metadata Fields">ingest timestamp</a>. If you use a different field,
you might need to set the <code class="literal">delay</code> such that it accounts for data transmission
delays.</p>
</div>
</div>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _transform/simple-kibana-ecomm-pivot/_update
{
  "source": {
    "index": "kibana_sample_data_ecommerce",
    "query": {
      "term": {
        "geoip.continent_name": {
          "value": "Asia"
        }
      }
    }
  },
  "description": "Maximum priced ecommerce data by customer_id in Asia",
  "dest": {
    "index": "kibana_sample_data_ecommerce_transform_v2",
    "pipeline": "add_timestamp_pipeline"
  },
  "frequency": "15m",
  "sync": {
    "time": {
      "field": "order_date",
      "delay": "120s"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2351.console"></div>
<p>When the transform is updated, you receive the updated configuration:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "id": "simple-kibana-ecomm-pivot",
  "source": {
    "index": ["kibana_sample_data_ecommerce"],
    "query": {
      "term": {
        "geoip.continent_name": {
          "value": "Asia"
        }
      }
    }
  },
  "pivot": {
    "group_by": {
      "customer_id": {
        "terms": {
          "field": "customer_id"
        }
      }
    },
    "aggregations": {
      "max_price": {
        "max": {
          "field": "taxful_total_price"
        }
      }
    }
  },
  "description": "Maximum priced ecommerce data by customer_id in Asia",
  "dest": {
    "index": "kibana_sample_data_ecommerce_transform_v2",
    "pipeline": "add_timestamp_pipeline"
  },
  "frequency": "15m",
  "sync": {
    "time": {
      "field": "order_date",
      "delay": "120s"
    }
  },
  "settings": { },
  "version": "7.5.0",
  "create_time": 1518808660505
}</pre>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="snapshot-lifecycle-management-api.html">« Snapshot lifecycle management APIs</a>
</span>
<span class="next">
<a href="usage-api.html">Usage API »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
